/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// src/main.ts
var main_exports = {};
__export(main_exports, {
  DEFAULT_SETTINGS: () => DEFAULT_SETTINGS,
  default: () => GoogleKeepImportPlugin2,
  invalidChars_allOrWindowsPreset: () => invalidChars_allOrWindowsPreset,
  invalidChars_appleOrAndroidPreset: () => invalidChars_appleOrAndroidPreset,
  invalidChars_linuxPreset: () => invalidChars_linuxPreset
});
module.exports = __toCommonJS(main_exports);
var import_obsidian8 = require("obsidian");

// src/logic/import-logic.ts
var import_obsidian6 = require("obsidian");

// src/modals/import-progress-modal/import-progress-modal.ts
var import_obsidian = require("obsidian");

// src/components/import-summary/import-summary.ts
var ImportSummary = class {
  constructor(parentEl) {
    this.summaryEl = parentEl.createDiv("gki_import-summary");
  }
  hide() {
    this.summaryEl.addClass("gki_hidden");
  }
  show() {
    this.summaryEl.addClass("gki_smooth-appear");
    this.summaryEl.removeClass("gki_hidden");
  }
  addItem(label) {
    let bubbleEl;
    let pBubbleEl;
    let valueSpan;
    bubbleEl = this.summaryEl.createDiv("gki_import-imported");
    pBubbleEl = bubbleEl.createEl("p");
    valueSpan = pBubbleEl.createEl("span", { cls: "gki_import-number", text: `0` });
    pBubbleEl.createEl("br");
    pBubbleEl.createEl("span", { cls: "gki_import-label", text: label });
    return valueSpan;
  }
};

// src/components/support-button-set/support-button-set.ts
var SupportButtonSet = class {
  constructor(settingEl) {
    settingEl.addButton((btn) => {
      btn.setClass("gki_button");
      btn.setTooltip("Contact @daledesilva@indieweb.social");
      btn.setIcon("mastodon");
      btn.onClick((e) => {
        window.open("https://indieweb.social/@daledesilva", "_blank");
      });
    });
    settingEl.addButton((btn) => {
      btn.setClass("gki_button");
      btn.setTooltip("Contact @daledesilva");
      btn.setIcon("twitter");
      btn.onClick((e) => {
        window.open("https://twitter.com/daledesilva", "_blank");
      });
    });
    settingEl.addButton((btn) => {
      btn.setClass("gki_button");
      btn.setTooltip("Support developer");
      btn.setIcon("heart");
      btn.onClick((e) => {
        window.open("https://ko-fi.com/N4N3JLUCW", "_blank");
      });
    });
  }
};

// src/modals/import-progress-modal/import-progress-modal.ts
var ImportProgressModal = class extends import_obsidian.Modal {
  constructor(plugin, fileImporter) {
    super(plugin.app);
    this.outputStr = "";
    this.importCompleted = false;
    this.fileImporter = fileImporter;
  }
  showModal() {
    return new Promise((resolve, reject) => {
      this.open();
      this.resolveModal = resolve;
      this.rejectModal = reject;
    });
  }
  onOpen() {
    const { titleEl, contentEl } = this;
    titleEl.setText("Import in progress");
    this.modalHeaderDiv = contentEl.createDiv();
    const progressBarEl = contentEl.createEl("div", { cls: "gki_progress-bar" });
    this.bar = progressBarEl.createEl("div", { cls: "gki_bar" });
    let importSummary = new ImportSummary(contentEl);
    this.remainingSpan = importSummary.addItem("remaining");
    this.skippedSpan = importSummary.addItem("skipped");
    this.failedSpan = importSummary.addItem("failed");
    this.importedSpan = importSummary.addItem("imported");
    this.outputLogEl = contentEl.createDiv("gki_error-log");
    this.modalActions = new import_obsidian.Setting(this.contentEl);
    new SupportButtonSet(this.modalActions);
    this.updateProgressVisuals();
  }
  updateProgressVisuals() {
    const totalImports = this.fileImporter.getTotalImports();
    const {
      successCount,
      skipCount,
      failCount,
      newLogEntries
    } = this.fileImporter.getLatestProgress();
    const perc = (successCount + skipCount + failCount) / totalImports * 100;
    this.bar.setAttr("style", `width: ${perc}%`);
    this.remainingSpan.setText(`${totalImports - successCount - failCount - skipCount}`);
    this.skippedSpan.setText(`${skipCount}`);
    this.failedSpan.setText(`${failCount}`);
    this.importedSpan.setText(`${successCount}`);
    for (let i = 0; i < newLogEntries.length; i++) {
      this.addOutputLine(newLogEntries[i]);
    }
    if (successCount + skipCount + failCount == totalImports) {
      this.importCompleted = true;
      this.applyCompletedState();
    } else {
      window.requestAnimationFrame(() => this.updateProgressVisuals());
    }
  }
  addOutputLine(options) {
    const itemEl = this.outputLogEl.createDiv({ cls: "gki_item" });
    const itemHeaderEl = itemEl.createEl("p", { cls: "gki_item-header" });
    const statusClass = options.status.toLowerCase();
    itemHeaderEl.createEl("span", { cls: `gki_status ${statusClass}` }).setText(options.status);
    itemHeaderEl.createEl("span", { cls: "gki_title" }).setText(options.title);
    const itemBodyEl = itemEl.createEl("p", { cls: "gki_item-body" });
    itemBodyEl.createEl("p", { cls: "gki_desc" }).innerHTML = options.desc;
    this.outputLogEl.addClass("gki_visible");
  }
  applyCompletedState() {
    this.titleEl.empty();
    this.modalHeaderDiv.createEl("h1", { text: "Import Complete" });
    this.modalActions.addButton((btn) => {
      btn.setCta();
      btn.setClass("gki_button");
      btn.setButtonText("Close");
      btn.onClick((e) => {
        this.close();
      });
    });
  }
  onClose() {
    this.titleEl.empty();
    this.contentEl.empty();
    if (!this.importCompleted) {
      this.rejectModal("Import cancelled");
    }
  }
};

// src/logic/string-processes.ts
var singleOrPlural = (count, singleVersion, pluralVersion) => {
  if (count == 1 || count == -1) {
    return singleVersion;
  } else {
    if (pluralVersion) {
      return pluralVersion;
    } else {
      return `${singleVersion}s`;
    }
  }
};
function filenameSanitize(str, settings) {
  let nameStr = str;
  for (let i = 0; i < settings.problemChars.length; i++) {
    const problemChar = settings.problemChars[i].char;
    const replacement = settings.problemChars[i].replacement;
    nameStr = nameStr.split(problemChar).join(replacement);
  }
  for (let i = 0; i < settings.invalidChars.length; i++) {
    const invalidChar = settings.invalidChars[i].char;
    const replacement = settings.invalidChars[i].replacement;
    nameStr = nameStr.split(invalidChar).join(replacement).trim();
  }
  return nameStr;
}
function folderPathSanitize(str, settings) {
  let pathArr;
  let pathStr = str;
  pathArr = pathStr.split("/");
  for (let j = 0; j < pathArr.length; j++) {
    for (let i = 0; i < settings.problemChars.length; i++) {
      const problemChar = settings.problemChars[i].char;
      const replacement = settings.problemChars[i].replacement;
      pathArr[j] = pathArr[j].split(problemChar).join(replacement).trim();
    }
    for (let i = 0; i < settings.invalidChars.length; i++) {
      const invalidChar = settings.invalidChars[i].char;
      const replacement = settings.invalidChars[i].replacement;
      pathArr[j] = pathArr[j].split(invalidChar).join(replacement).trim();
    }
  }
  pathStr = pathArr.join("/");
  while (pathStr.slice(-1) == "/") {
    pathStr = pathStr.slice(0, -1).trim();
  }
  return pathStr;
}
function getFileExtension(filename) {
  let fileAndExt = filename.split(".");
  if (fileAndExt.length <= 1)
    return "";
  let ext = fileAndExt.pop();
  if (ext) {
    return ext.toLowerCase();
  } else {
    return "";
  }
}
function getNameAndExt(filename) {
  const indexOfLastPeriod = filename.lastIndexOf(".");
  if (indexOfLastPeriod === -1) {
    return {
      name: filename,
      ext: ""
    };
  }
  const name = filename.substring(0, indexOfLastPeriod);
  const ext = filename.substring(indexOfLastPeriod + 1);
  return {
    name,
    ext
  };
}

// src/types/keep-data.ts
function objectIsKeepJson(fileContents) {
  return typeof fileContents.color !== "undefined" && typeof fileContents.isTrashed !== "undefined" && typeof fileContents.isPinned !== "undefined" && typeof fileContents.isArchived !== "undefined" && typeof fileContents.title !== "undefined" && typeof fileContents.userEditedTimestampUsec !== "undefined" && typeof fileContents.createdTimestampUsec !== "undefined";
}

// src/modals/start-import-modal/start-import-modal.ts
var import_obsidian5 = require("obsidian");

// src/modals/edit-settings-modal/edit-settings-modal.ts
var import_obsidian4 = require("obsidian");

// src/components/settings-groups/settings-groups.ts
var import_obsidian3 = require("obsidian");

// src/modals/confirmation-modal/confirmation-modal.ts
var import_obsidian2 = require("obsidian");
var ConfirmationModal = class extends import_obsidian2.Modal {
  constructor(options) {
    super(options.plugin.app);
    this.title = "Confirmation";
    this.message = "Are you sure?";
    this.cancelLabel = "Cancel";
    this.cancelAction = () => {
    };
    this.confirmLabel = "Yes";
    this.title = options.title || this.title;
    this.message = options.message || this.message;
    this.cancelLabel = options.cancelLabel || this.cancelLabel;
    this.confirmLabel = options.confirmLabel || this.confirmLabel;
    this.cancelAction = options.cancelAction || this.cancelAction;
    this.confirmAction = options.confirmAction;
  }
  onOpen() {
    const { titleEl, contentEl } = this;
    titleEl.setText(this.title);
    contentEl.createEl("p", { text: this.message });
    new import_obsidian2.Setting(contentEl).addButton((cancelBtn) => {
      cancelBtn.setClass("gki_button");
      cancelBtn.setButtonText(this.cancelLabel);
      cancelBtn.onClick(() => {
        this.close();
        this.cancelAction();
      });
    }).addButton((confirmBtn) => {
      confirmBtn.setClass("gki_button");
      confirmBtn.setWarning();
      confirmBtn.setButtonText(this.confirmLabel);
      confirmBtn.onClick(() => {
        this.close();
        this.confirmAction();
      });
    });
  }
  onClose() {
    this.titleEl.empty();
    this.contentEl.empty();
  }
};

// src/components/settings-groups/settings-groups.ts
var BasicSettingsGroup = class {
  constructor(containerEl, plugin) {
    containerEl.createEl("h2", { text: "Basics" });
    new import_obsidian3.Setting(containerEl).setClass("gki_setting").setName("Note import folder").addText((text) => {
      text.setValue(plugin.settings.folderNames.notes);
      text.inputEl.addEventListener("blur", async (e) => {
        const value = folderPathSanitize(text.getValue(), plugin.settings);
        plugin.settings.folderNames.notes = value;
        text.setValue(value);
        await plugin.saveSettings();
      });
    });
    new import_obsidian3.Setting(containerEl).setClass("gki_setting").setName("Attachment import folder").addText((text) => {
      text.setValue(plugin.settings.folderNames.assets);
      text.inputEl.addEventListener("blur", async (e) => {
        const value = folderPathSanitize(text.getValue(), plugin.settings);
        plugin.settings.folderNames.assets = folderPathSanitize(value, plugin.settings);
        text.setValue(value);
        await plugin.saveSettings();
      });
    });
    new import_obsidian3.Setting(containerEl).setClass("gki_setting").setName("Unsupported attachment import folder").addText((text) => {
      text.setValue(plugin.settings.folderNames.unsupportedAssets);
      text.inputEl.addEventListener("blur", async (e) => {
        const value = folderPathSanitize(text.getValue(), plugin.settings);
        plugin.settings.folderNames.unsupportedAssets = folderPathSanitize(value, plugin.settings);
        text.setValue(value);
        await plugin.saveSettings();
      });
    });
    new import_obsidian3.Setting(containerEl).setClass("gki_setting").setName("Note creation date").setDesc("Should the imported note have a creation date set to the Google Keep note's creation date, or the date imported into Obsidian?").addDropdown((dropdown) => {
      dropdown.addOption("Google Keep creation date" /* googleKeep */, "Google Keep creation date" /* googleKeep */);
      dropdown.addOption("Obsidian import date" /* import */, "Obsidian import date" /* import */);
      dropdown.setValue(plugin.settings.createdDate);
      dropdown.onChange(async (value) => {
        plugin.settings.createdDate = value;
        await plugin.saveSettings();
      });
    });
  }
};
var InclusionSettingsGroup = class {
  constructor(containerEl, plugin) {
    containerEl.createEl("h2", { text: "Inclusions" });
    new import_obsidian3.Setting(containerEl).setClass("gki_setting").setName("Import archived notes").addToggle((toggle) => {
      toggle.setValue(plugin.settings.importArchived);
      toggle.onChange(async (value) => {
        plugin.settings.importArchived = value;
        await plugin.saveSettings();
      });
    });
    new import_obsidian3.Setting(containerEl).setClass("gki_setting").setName("Import trashed notes").addToggle((toggle) => {
      toggle.setValue(plugin.settings.importTrashed);
      toggle.onChange(async (value) => {
        plugin.settings.importTrashed = value;
        await plugin.saveSettings();
      });
    });
    new import_obsidian3.Setting(containerEl).setClass("gki_setting").setName("Import unsupported files").setDesc("Importing unsupported files will place them in correct folders and notify you on import. But they won't show up in Obsidian until you convert them manually through another program.").addToggle((toggle) => {
      toggle.setValue(plugin.settings.importUnsupported);
      toggle.onChange(async (value) => {
        plugin.settings.importUnsupported = value;
        await plugin.saveSettings();
        importHtmlToggle.setDisabled(!value);
      });
    });
    let importHtmlToggle = new import_obsidian3.Setting(containerEl).setClass("gki_setting").setName("Import html files").setDesc("HTML files may be unsupported by Obsidian and therefore won't appear, and they're also duplicates of supported JSON notes in a Google Keep export. So you probably don't want these regardless.").addToggle((toggle) => {
      toggle.setValue(plugin.settings.importHtml);
      toggle.onChange(async (value) => {
        plugin.settings.importHtml = value;
        await plugin.saveSettings();
      });
    }).setDisabled(!plugin.settings.importUnsupported);
  }
};
var TagSettingsGroup = class {
  constructor(containerEl, plugin) {
    containerEl.createEl("h2", { text: "Tags" });
    new import_obsidian3.Setting(containerEl).setClass("gki_setting").setName("Add label tags").setDesc("Add a tag to represent each label present in the Google Keep note.").addToggle((toggle) => {
      toggle.setValue(plugin.settings.addLabelTags);
      toggle.onChange(async (value) => {
        plugin.settings.addLabelTags = value;
        await plugin.saveSettings();
        labelPrefixInput.setDisabled(!value);
      });
    });
    let labelPrefixInput = new import_obsidian3.Setting(containerEl).setClass("gki_setting").setClass("gki_setting-child").setDesc("Text to prepend to each label tag:").addText((text) => {
      text.setValue(plugin.settings.tagNames.labelPrepend);
      text.inputEl.addEventListener("blur", async (e) => {
        const value = text.getValue();
        plugin.settings.tagNames.labelPrepend = value;
        text.setValue(value);
        await plugin.saveSettings();
      });
    }).setDisabled(!plugin.settings.addColorTags);
    new import_obsidian3.Setting(containerEl).setClass("gki_setting").setName("Add colour tags").setDesc("Add a tag representing the color of the note in Google Keep.").addToggle((toggle) => {
      toggle.setValue(plugin.settings.addColorTags);
      toggle.onChange(async (value) => {
        plugin.settings.addColorTags = value;
        await plugin.saveSettings();
        colorPrefixInput.setDisabled(!value);
      });
    });
    let colorPrefixInput = new import_obsidian3.Setting(containerEl).setClass("gki_setting").setClass("gki_setting-child").setDesc("Text to prepend to each colour tag:").addText((text) => {
      text.setValue(plugin.settings.tagNames.colorPrepend);
      text.inputEl.addEventListener("blur", async (e) => {
        const value = text.getValue();
        plugin.settings.tagNames.colorPrepend = value;
        text.setValue(value);
        await plugin.saveSettings();
      });
    }).setDisabled(!plugin.settings.addColorTags);
    new import_obsidian3.Setting(containerEl).setClass("gki_setting").setName("Add pinned tags").setDesc("Add a tag if the note was pinned in Google Keep.").addToggle((toggle) => {
      toggle.setValue(plugin.settings.addPinnedTags);
      toggle.onChange(async (value) => {
        plugin.settings.addPinnedTags = value;
        await plugin.saveSettings();
        pinnedTagTextField.setDisabled(!value);
      });
    });
    let pinnedTagTextField = new import_obsidian3.Setting(containerEl).setClass("gki_setting").setClass("gki_setting-child").setDesc("Pinned tag:").addText((text) => {
      text.setValue(plugin.settings.tagNames.isPinned);
      text.inputEl.addEventListener("blur", async (e) => {
        const value = text.getValue();
        plugin.settings.tagNames.isPinned = value;
        text.setValue(value);
        await plugin.saveSettings();
      });
    }).setDisabled(!plugin.settings.addPinnedTags);
    new import_obsidian3.Setting(containerEl).setClass("gki_setting").setName("Add attachment tags").setDesc("Add a tag if the note has an attachment.").addToggle((toggle) => {
      toggle.setValue(plugin.settings.addAttachmentTags);
      toggle.onChange(async (value) => {
        plugin.settings.addAttachmentTags = value;
        await plugin.saveSettings();
        attachmentTagTextField.setDisabled(!value);
      });
    });
    let attachmentTagTextField = new import_obsidian3.Setting(containerEl).setClass("gki_setting").setClass("gki_setting-child").setDesc("Attachment tag:").addText((text) => {
      text.setValue(plugin.settings.tagNames.hasAttachment);
      text.inputEl.addEventListener("blur", async (e) => {
        const value = text.getValue();
        plugin.settings.tagNames.hasAttachment = value;
        text.setValue(value);
        await plugin.saveSettings();
      });
    }).setDisabled(!plugin.settings.addAttachmentTags);
    new import_obsidian3.Setting(containerEl).setClass("gki_setting").setName("Add archived tags").setDesc("Add a tag if the note was archived in Google Keep (If imported).").addToggle((toggle) => {
      toggle.setValue(plugin.settings.addArchivedTags);
      toggle.onChange(async (value) => {
        plugin.settings.addArchivedTags = value;
        await plugin.saveSettings();
        archivedTagTextField.setDisabled(!value);
      });
    });
    let archivedTagTextField = new import_obsidian3.Setting(containerEl).setClass("gki_setting").setClass("gki_setting-child").setDesc("Archived tag:").addText((text) => {
      text.setValue(plugin.settings.tagNames.isArchived);
      text.inputEl.addEventListener("blur", async (e) => {
        const value = text.getValue();
        plugin.settings.tagNames.isArchived = value;
        text.setValue(value);
        await plugin.saveSettings();
      });
    }).setDisabled(!plugin.settings.addArchivedTags);
    new import_obsidian3.Setting(containerEl).setClass("gki_setting").setName("Add trashed tags").setDesc("Add a tag if the note was trashed in Google Keep (If imported).").addToggle((toggle) => {
      toggle.setValue(plugin.settings.addTrashedTags);
      toggle.onChange(async (value) => {
        plugin.settings.addTrashedTags = value;
        await plugin.saveSettings();
        trashedTag.setDisabled(!value);
      });
    });
    let trashedTag = new import_obsidian3.Setting(containerEl).setClass("gki_setting").setClass("gki_setting-child").setDesc("Trashed tag:").addText((text) => {
      text.setValue(plugin.settings.tagNames.isTrashed);
      text.inputEl.addEventListener("blur", async (e) => {
        const value = text.getValue();
        plugin.settings.tagNames.isTrashed = value;
        text.setValue(value);
        await plugin.saveSettings();
      });
    }).setDisabled(!plugin.settings.addTrashedTags);
  }
};
var CharMappingGroup = class {
  constructor(containerEl, plugin, onComplete) {
    containerEl.createEl("h2", { text: "Character Mapping" });
    containerEl.createEl("p", { text: "Some characters don't work so well in file or folder names on certain operating systems. They will therefore be converted according to the following mapping settings." });
    containerEl.createEl("h3", { text: "Problem characters" });
    containerEl.createEl("p", { text: "While these won't break the imports, they will create issues with links from other files\u2014So are best avoided." });
    for (let k = 0; k < plugin.settings.problemChars.length; k++) {
      new import_obsidian3.Setting(containerEl).setClass("gki_setting-mapping").setName(plugin.settings.problemChars[k].char).addText((text) => {
        text.setValue(plugin.settings.problemChars[k].replacement);
        text.inputEl.addEventListener("blur", async (e) => {
          const value = text.getValue();
          plugin.settings.problemChars[k].replacement = value;
          text.setValue(value);
          await plugin.saveSettings();
        });
      });
    }
    containerEl.createEl("h3", { text: "Invalid characters" });
    containerEl.createEl("p", { text: "These don't work at all on certain operating systems and can break your import or cause errors when transferring files to other operating systems." });
    const invalidMapDropdown = new import_obsidian3.Setting(containerEl).setName("File and folder name compatibility").setDesc("You can choose to limit the invalid characters you map to suit the specific operating system you'd like your filenames to be compatible with. By default it's set to make your files compatible with all operating systems (And you should probably leave it like this).").addDropdown((dropdown) => {
      dropdown.addOption("all/windows" /* allOrWindows */, "All Operating Systems");
      dropdown.addOption("apple/android" /* appleOrAndroid */, "Apple and Android only");
      dropdown.addOption("linux" /* linux */, "Linux only");
      dropdown.setValue(plugin.settings.invalidCharFilter);
      dropdown.onChange(async (value) => {
        applyMappingPreset(value, plugin.settings);
        plugin.settings.invalidCharFilter = value;
        await plugin.saveSettings();
        onComplete();
      });
    });
    for (let k = 0; k < plugin.settings.invalidChars.length; k++) {
      new import_obsidian3.Setting(containerEl).setClass("gki_setting-mapping").setName(plugin.settings.invalidChars[k].char).addText((text) => {
        text.setValue(plugin.settings.invalidChars[k].replacement);
        text.inputEl.addEventListener("blur", async (e) => {
          const value = text.getValue();
          plugin.settings.invalidChars[k].replacement = value;
          text.setValue(value);
          await plugin.saveSettings();
        });
      });
    }
  }
};
function addResetButton(settingEl, plugin, onComplete) {
  return settingEl.addButton((button) => {
    button.setButtonText("Reset settings");
    button.setClass("gki_button");
    button.onClick(() => {
      new ConfirmationModal({
        plugin,
        title: "Please confirm",
        message: "Reset to default settings for Google Keep Import?",
        confirmLabel: "Reset settings",
        confirmAction: async () => {
          await plugin.resetSettings();
          onComplete();
        }
      }).open();
    });
  });
}

// src/modals/edit-settings-modal/edit-settings-modal.ts
var EditSettingsModal = class extends import_obsidian4.Modal {
  constructor(plugin) {
    super(plugin.app);
    this.duplicateNotes = 0;
    this.fileBacklog = [];
    this.plugin = plugin;
  }
  showModal() {
    return new Promise((resolve, reject) => {
      this.open();
      this.resolveModal = resolve;
      this.rejectModal = reject;
    });
  }
  onOpen() {
    const { titleEl, contentEl } = this;
    contentEl.empty();
    contentEl.createEl("h1", { text: "Google Keep Import Settings" });
    contentEl.createEl("p", { text: "All settings will save immediately. Close this modal to return to your import." });
    contentEl.createEl("hr");
    new BasicSettingsGroup(contentEl, this.plugin);
    contentEl.createEl("hr");
    new InclusionSettingsGroup(contentEl, this.plugin);
    contentEl.createEl("hr");
    new TagSettingsGroup(contentEl, this.plugin);
    contentEl.createEl("hr");
    new CharMappingGroup(contentEl, this.plugin, () => this.onOpen());
    contentEl.createEl("hr");
    const modalActions = new import_obsidian4.Setting(contentEl);
    new SupportButtonSet(modalActions);
    addResetButton(modalActions, this.plugin, () => this.onOpen());
    modalActions.addButton((button) => {
      button.setButtonText("Close");
      button.setClass("gki_button");
      button.setCta();
      button.onClick(() => {
        this.close();
      });
    });
  }
  onClose() {
    this.contentEl.empty();
  }
};

// src/modals/start-import-modal/start-import-modal.ts
var StartImportModal = class extends import_obsidian5.Modal {
  constructor(plugin) {
    super(plugin.app);
    this.duplicateNotes = 0;
    this.fileBacklog = [];
    this.plugin = plugin;
  }
  showModal() {
    return new Promise((resolve, reject) => {
      this.open();
      this.resolveModal = resolve;
      this.rejectModal = reject;
    });
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.createEl("h1", { text: "Import Google Keep Files" });
    const firstParaEl = contentEl.createEl("p", {
      text: "To export your files from Google Keep, open ",
      cls: "gki_info-bubble"
    });
    firstParaEl.createEl("a", {
      text: "Google Takeout",
      href: "https://takeout.google.com/"
    });
    firstParaEl.appendText(" and select only Google Keep files. Once you have the exported zip, unzip it and drag all the files in below.");
    const dropFrame = contentEl.createEl("div", { cls: "gki_drop-frame" });
    dropFrame.createEl("div", { cls: "gki_highlight" });
    const dropFrameText = dropFrame.createEl("p", { text: "Drag all files here or " });
    dropFrameText.createEl("label", {
      text: "browse local files",
      attr: {
        "class": "gki_file-input_label",
        "for": "gki_file-input"
      }
    });
    this.uploadInput = dropFrameText.createEl("input", {
      type: "file",
      attr: {
        "multiple": true,
        "id": "gki_file-input"
      }
    });
    this.importSummary = new ImportSummary(dropFrame);
    this.importSummary.hide();
    this.notesSpan = this.importSummary.addItem("notes");
    this.attachmentsSpan = this.importSummary.addItem("other");
    this.modalActions = new import_obsidian5.Setting(contentEl);
    new SupportButtonSet(this.modalActions);
    this.modalActions.addButton((btn) => {
      btn.setClass("gki_button");
      btn.setButtonText("Edit settings");
      btn.onClick(async (e) => {
        const modal = new EditSettingsModal(this.plugin);
        modal.showModal();
      });
    });
    this.startBtn = this.modalActions.addButton((btn) => {
      btn.setClass("gki_button");
      btn.setCta();
      btn.setButtonText("Start Import");
      btn.setDisabled(true);
      btn.onClick((e) => {
        this.resolveModal(this.fileBacklog);
        this.close();
      });
    });
    this.uploadInput.addEventListener("change", () => {
      this.addToFilesBacklog(Object.values(this.uploadInput.files));
    });
    dropFrame.addEventListener("dragenter", (e) => {
      dropFrame.addClass("gki_drag-over-active");
    });
    dropFrame.addEventListener("dragleave", (e) => {
      dropFrame.removeClass("gki_drag-over-active");
    });
    dropFrame.addEventListener("dragover", (e) => {
      e.preventDefault();
    });
    dropFrame.addEventListener("drop", (e) => {
      e.preventDefault();
      dropFrame.removeClass("gki_drag-over-active");
      if (e.dataTransfer === null)
        return;
      const files = [];
      if (e.dataTransfer.items) {
        const items = [...e.dataTransfer.items];
        for (let i = 0; i < items.length; i++) {
          const item = items[i];
          if (item.kind === "file") {
            const file = item.getAsFile();
            if (file)
              files.push(file);
          }
        }
        ;
      } else {
        files.push(...e.dataTransfer.files);
      }
      this.addToFilesBacklog(files);
    });
  }
  addToFilesBacklog(files) {
    let newFiles = 0;
    let duplicateFiles = 0;
    files.forEach((file) => {
      if (this.backlogContains(file)) {
        duplicateFiles++;
      } else {
        this.fileBacklog.push(file);
        newFiles++;
      }
    });
    if (duplicateFiles > 0) {
      new import_obsidian5.Notice(`${duplicateFiles} ${singleOrPlural(duplicateFiles, "file")} ignored because ${singleOrPlural(duplicateFiles, "it's", "they're")} already in the import list.`, 9e3);
    }
    new import_obsidian5.Notice(`${newFiles} new ${singleOrPlural(newFiles, "file")} queued for import.`, 1e4);
    this.uploadInput.files = null;
    const breakdown = this.getBacklogBreakdown();
    this.notesSpan.setText(`${breakdown.notes}`);
    this.attachmentsSpan.setText(`${breakdown.assets}`);
    this.importSummary.show();
    this.startBtn.setDisabled(false);
  }
  backlogContains(file) {
    for (let i = 0; i < this.fileBacklog.length; i++) {
      if (file.path) {
        if (file.path == this.fileBacklog[i].path)
          return true;
      }
    }
    return false;
  }
  getBacklogBreakdown() {
    let notes = 0;
    let assets = 0;
    for (let i = 0; i < this.fileBacklog.length; i++) {
      const file = this.fileBacklog[i];
      if (fileIsJson(file)) {
        notes++;
      } else {
        assets++;
      }
    }
    return {
      notes,
      assets
    };
  }
  onClose() {
    this.titleEl.empty();
    this.contentEl.empty();
  }
};

// src/logic/import-logic.ts
async function runImportSequence(plugin) {
  const modal = new StartImportModal(plugin);
  let fileBacklog;
  try {
    fileBacklog = await modal.showModal();
  } catch (e) {
    return;
  }
  const fileImporter = new FileImporter(plugin);
  fileImporter.import(fileBacklog);
  const progressModal = await new ImportProgressModal(plugin, fileImporter);
  try {
    await progressModal.showModal();
  } catch (message) {
    fileImporter.stop();
    new import_obsidian6.Notice(message, 9e3);
    return;
  }
}
async function createNewEmptyMdFile(vault, pathAndName, options, version = 1) {
  let fileRef;
  let pathAndVersionedName;
  if (version == 1) {
    pathAndVersionedName = pathAndName;
  } else {
    pathAndVersionedName = `${pathAndName} (${version})`;
  }
  if (await vault.adapter.exists(`${pathAndVersionedName}.md`)) {
    fileRef = await createNewEmptyMdFile(vault, pathAndName, options, version + 1);
  } else {
    fileRef = await vault.create(`${pathAndVersionedName}.md`, "", options);
  }
  return fileRef;
}
async function getOrCreateFolder(folderPath, vault) {
  let folder = null;
  let folderExists = await vault.adapter.exists(folderPath);
  if (!folderExists) {
    await vault.createFolder(folderPath);
  }
  return vault.getAbstractFileByPath(folderPath);
}
var FileImporter = class {
  constructor(plugin) {
    this.totalImports = 0;
    this.successCount = 0;
    this.failCount = 0;
    this.skipCount = 0;
    this.activeImport = false;
    this.outputLog = [];
    this.outputLogIter = 0;
    this.plugin = plugin;
  }
  async import(files) {
    const vault = this.plugin.app.vault;
    const settings = this.plugin.settings;
    this.activeImport = true;
    this.totalImports = files.length;
    this.successCount = 0;
    this.failCount = 0;
    this.skipCount = 0;
    for (let i = 0; i < files.length; i++) {
      const file = files[i];
      let result;
      if (!this.activeImport)
        return;
      if (fileIsJson(file)) {
        result = await importJson(vault, settings.folderNames.notes, file, settings);
      } else if (fileIsMarkdown(file)) {
        result = await importBinaryFile(vault, settings.folderNames.notes, file);
      } else if (fileIsBinaryAndSupportedByObsidian(file)) {
        result = await importBinaryFile(vault, settings.folderNames.assets, file);
      } else if (fileIsHtml(file) && settings.importUnsupported && settings.importHtml) {
        result = await importBinaryFile(vault, settings.folderNames.unsupportedAssets, file);
        if (result.logStatus === 3 /* Success */) {
          result.logStatus = 2 /* Warning */;
          result.details = `<p>This file has been imported to '${settings.folderNames.unsupportedAssets}' because you've turned it on in the settings. However, HTML files may not be supported by Obsidian and thus may not be visible.</p><p>Also note that Google Takeout exports only include HTML files that are redundant to the included JSON note files. So if your importing a Takeout export you should leave HTML files turned off.</p>`;
        }
      } else if (fileIsHtml(file) && (!settings.importUnsupported || !settings.importHtml)) {
        result = {
          keepFilename: file.name,
          logStatus: 0 /* Note */,
          details: `<p>HTML files in Google Takeout exports are redundant backups and this file has therefore been skipped. The note it relates too will have an equivalent JSON file that should have imported.</p><p>You can force HTML files to import in the settings but they may be unsupported by Obsidian.</p>`
        };
      } else if (!fileIsHtml(file) && settings.importUnsupported) {
        result = await importBinaryFile(vault, settings.folderNames.unsupportedAssets, file);
        if (result.logStatus === 3 /* Success */) {
          result.logStatus = 2 /* Warning */;
          result.details = `This file type isn't a Google Keep JSON and isn't recognised by this plugin as Obsidian supported. It has been imported into '${settings.folderNames.unsupportedAssets}' as per your settings, but will only be visible in Obsidian if it's supported as is, if not, open that folder outside of Obsidian to convert or deleted the files. Any links to those files in notes will also need to be updated.`;
        }
      } else {
        result = {
          keepFilename: file.name,
          logStatus: 0 /* Note */,
          details: `This file type isn't supported by Obsidian and has been skipped. You can change this behaviour in the settings.`
        };
      }
      this.updateOutputLog(result);
    }
  }
  updateOutputLog(result) {
    if (result.logStatus === 2 /* Warning */) {
      this.successCount++;
      this.outputLog.push({
        status: "Warning",
        title: `${result.keepFilename}`,
        desc: `${result.details} ${result.obsidianFilepath || ""}`
      });
    } else if (result.logStatus === 1 /* Error */) {
      this.failCount++;
      this.outputLog.push({
        status: "Error",
        title: `${result.keepFilename}`,
        desc: `${result.details} ${result.obsidianFilepath ? `<p><em>Intended name:</em> ${result.obsidianFilepath}` : ""} <p><em>${result.error || ""}</em></p>`
      });
    } else if (result.logStatus === 0 /* Note */) {
      this.skipCount++;
      this.outputLog.push({
        status: "Note",
        title: `${result.keepFilename}`,
        desc: `${result.details} <p><em>${result.error || ""}</em></p>`
      });
    } else {
      this.successCount++;
    }
  }
  getTotalImports() {
    return this.totalImports;
  }
  getLatestProgress() {
    let newLogEntries = [];
    if (this.outputLogIter < this.totalImports) {
      newLogEntries = this.outputLog.slice(this.outputLogIter);
      this.outputLogIter += newLogEntries.length;
    }
    return {
      successCount: this.successCount,
      failCount: this.failCount,
      skipCount: this.skipCount,
      newLogEntries
    };
  }
  stop() {
    this.activeImport = false;
  }
};
function fileIsJson(file) {
  return getFileExtension(file.name) === ".json" || file.type === "application/json";
}
function fileIsMarkdown(file) {
  return getFileExtension(file.name) === ".md" || file.type === "text/markdown" || file.type === "text/x-markdown";
}
function fileIsBinaryAndSupportedByObsidian(file) {
  const isImageFile = file.type === "image/png" || file.type === "image/webp" || file.type === "image/jpeg" || file.type === "image/gif" || file.type === "image/bmp" || file.type === "image/svg+xml";
  const isAudioFile = file.type === "audio/mpeg" || file.type === "audio/m4a" || file.type === "audio/webm" || file.type === "audio/wav" || file.type === "audio/ogg" || file.type === "audio/3gpp" || file.type === "audio/x-flac";
  const isVideoFile = file.type === "video/mp4" || file.type === "video/webm" || file.type === "video/ogg" || file.type === "video/3gpp" || file.type === "video/quicktime" || file.type === "video/x-matroska";
  const isOtherFile = file.type === "application/pdf";
  return isImageFile || isAudioFile || isVideoFile || isOtherFile;
}
function fileIsHtml(file) {
  const ext = getFileExtension(file.name);
  return ext === "html" || ext === "htm" || file.type === "text/html";
}
async function importJson(vault, folderPath, file, settings) {
  let folder;
  const result = {
    keepFilename: file.name,
    logStatus: 3 /* Success */
  };
  return new Promise(async (resolve, reject) => {
    try {
      folder = await getOrCreateFolder(folderPath, vault);
    } catch (e) {
      console.log(e);
      result.logStatus = 1 /* Error */;
      result.details = `<p>Please check the intended name doesn't include any characters not allowed by your operating system. This can happen if you've modified the character mapping options in this plugin's settings so that they don't match your operating system.</p>`;
      return resolve(result);
    }
    var reader = new FileReader();
    reader.readAsText(file, "UTF-8");
    reader.onerror = reject;
    reader.onload = async (readerEvent) => {
      if (!readerEvent || !readerEvent.target) {
        result.logStatus = 1 /* Error */;
        result.details = "Something went wrong reading the file.";
        return resolve(result);
      }
      let content;
      try {
        content = JSON.parse(readerEvent.target.result);
      } catch (e) {
        console.log(e);
        result.logStatus = 1 /* Error */;
        result.details = `<p>JSON file appears to be malformed and can't be imported. You can open this file and either attempt to correct and reimport it, or to copy it's contents manually.</p>
				<p><a href="https://www.toptal.com/developers/json-formatter">Toptal JSON Formatter</a> can help to find errors and format JSON data for easier manual copying. Open the file in a text editor (or drag it into a browser tab), to copy the contents into the formatter.</p>`;
        return resolve(result);
      }
      if (!objectIsKeepJson(content)) {
        result.logStatus = 1 /* Error */;
        result.details = `JSON file doesn't match the expected Google Keep format and therefore can't be imported.`;
        return resolve(result);
      }
      if (content.isArchived && !settings.importArchived) {
        result.logStatus = 0 /* Note */;
        result.ignoredReason = 1 /* Archived */;
        return resolve(result);
      }
      if (content.isTrashed && !settings.importTrashed) {
        result.logStatus = 0 /* Note */;
        result.ignoredReason = 0 /* Trashed */;
        return resolve(result);
      }
      let path = `${folder.path}/${filenameSanitize(content.title || getNameAndExt(file.name).name, settings)}`;
      result.obsidianFilepath = path;
      let fileRef;
      try {
        fileRef = await createNewEmptyMdFile(vault, path, {});
      } catch (error) {
        result.logStatus = 1 /* Error */;
        result.error = error;
        result.details = `<p>Please check the intended name doesn't include any characters not allowed by your operating system. This can happen if you've modified the character mapping options in this plugin's settings so that they don't match your operating system.</p>`;
        return resolve(result);
      }
      try {
        settings.addColorTags ? await vault.append(fileRef, `${settings.tagNames.colorPrepend}${content.color} `) : null;
        content.isPinned && settings.addPinnedTags ? await vault.append(fileRef, `${settings.tagNames.isPinned} `) : null;
        content.attachments && settings.addAttachmentTags ? await vault.append(fileRef, `${settings.tagNames.hasAttachment} `) : null;
        content.isArchived && settings.addArchivedTags ? await vault.append(fileRef, `${settings.tagNames.isArchived} `) : null;
        content.isTrashed && settings.addTrashedTags ? await vault.append(fileRef, `${settings.tagNames.isTrashed} `) : null;
      } catch (error) {
        result.logStatus = 1 /* Error */;
        result.error = error;
        result.details = "Error adding tags to the new file.";
        return resolve(result);
      }
      try {
        appendKeepLabels(fileRef, content, settings, vault);
      } catch (error) {
        result.logStatus = 1 /* Error */;
        result.error = error;
        result.details = "Error adding labels to the new file.";
        return resolve(result);
      }
      try {
        if (content.textContent) {
          await vault.append(fileRef, `

`);
          await vault.append(fileRef, `${content.textContent}
`);
        }
      } catch (error) {
        result.logStatus = 1 /* Error */;
        result.error = error;
        result.details = "Error adding paragraph content to the new file.";
        return resolve(result);
      }
      try {
        if (content.listContent) {
          await vault.append(fileRef, `

`);
          for (let i = 0; i < content.listContent.length; i++) {
            const listItem = content.listContent[i];
            if (!listItem.text)
              continue;
            let listItemContent = `- [${listItem.isChecked ? "X" : " "}] ${listItem.text}
`;
            await vault.append(fileRef, listItemContent);
          }
        }
      } catch (error) {
        result.logStatus = 1 /* Error */;
        result.error = error;
        result.details = "Error adding list content to the new file.";
        return resolve(result);
      }
      if (content.attachments) {
        for (let i = 0; i < content.attachments.length; i++) {
          const attachment = content.attachments[i];
          try {
            await vault.append(fileRef, `

![[${attachment.filePath}]]`);
          } catch (error) {
            result.logStatus = 1 /* Error */;
            result.error = error;
            result.details = `Error embedding attachment '${attachment.filePath}' to the new file.`;
            return resolve(result);
          }
        }
      }
      if (settings.createdDate === "Google Keep creation date" /* googleKeep */) {
        const options = {
          ctime: content.createdTimestampUsec / 1e3,
          mtime: content.userEditedTimestampUsec / 1e3
        };
        await vault.append(fileRef, "", options);
      }
      return resolve(result);
    };
  });
}
async function appendKeepLabels(fileRef, content, settings, vault) {
  if (!settings.addLabelTags)
    return;
  if (!content.labels)
    return;
  let labels = "";
  for (let i = 0; i < content.labels.length; i++) {
    const name = content.labels[i].name.split(" ").join("-");
    if (i > 0)
      labels += " ";
    labels += settings.tagNames.labelPrepend + name;
  }
  await vault.append(fileRef, labels);
}
async function importBinaryFile(vault, folderPath, file) {
  let fileRef;
  let folder;
  let path;
  const result = {
    keepFilename: file.name,
    logStatus: 3 /* Success */
  };
  try {
    folder = await getOrCreateFolder(folderPath, vault);
    path = `${folder.path}/${file.name}`;
  } catch (e) {
    console.log(e);
    result.logStatus = 1 /* Error */;
    result.details = `<p>Error creating folder '${folderPath}'.</p>
		<p>Please check it doesn't include any characters not allowed by your operating system. This can happen if you've modified the character mapping options in the settings so that they don't match your operating system.</p>`;
    return Promise.resolve(result);
  }
  try {
    fileRef = await vault.createBinary(path, await file.arrayBuffer());
  } catch (error) {
    result.logStatus = 1 /* Error */;
    result.error = error;
    result.details = `Error creating file at '${path}'.`;
    return Promise.resolve(result);
  }
  return Promise.resolve(result);
}
function applyMappingPreset(presetType, settings) {
  if (presetType === "apple/android" /* appleOrAndroid */) {
    settings.invalidChars = JSON.parse(JSON.stringify(invalidChars_appleOrAndroidPreset));
  } else if (presetType === "linux" /* linux */) {
    settings.invalidChars = JSON.parse(JSON.stringify(invalidChars_linuxPreset));
  } else {
    settings.invalidChars = JSON.parse(JSON.stringify(invalidChars_allOrWindowsPreset));
  }
}

// src/tabs/settings-tab/settings-tab.ts
var import_obsidian7 = require("obsidian");
var MySettingsTab = class extends import_obsidian7.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h1", { text: "Google Keep Import Settings" });
    containerEl.createEl("p", { text: "All settings will save immediately. Close this modal to return to your import." });
    containerEl.createEl("hr");
    new BasicSettingsGroup(containerEl, this.plugin);
    containerEl.createEl("hr");
    new InclusionSettingsGroup(containerEl, this.plugin);
    containerEl.createEl("hr");
    new TagSettingsGroup(containerEl, this.plugin);
    containerEl.createEl("hr");
    new CharMappingGroup(containerEl, this.plugin, () => this.display());
    containerEl.createEl("hr");
    const modalActions = new import_obsidian7.Setting(containerEl);
    new SupportButtonSet(modalActions);
    addResetButton(modalActions, this.plugin, () => this.display());
  }
};

// src/assets/mastodon.ts
var mastodon_default = `
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" stroke="currentColor" stroke-width="6" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg">
        <path d="M47.4883 94.9079C42.5177 94.9079 37.3373 94.211 32.1064 92.8256C15.5071 88.426 12.8622 71.0794 12.4676 54.6899C12.3837 51.1551 12.4005 47.7463 12.4089 44.7404C12.4089 43.6573 12.4172 42.6162 12.4172 41.6338C12.4256 23.8086 24.1552 18.3595 24.6506 18.1328C31.292 15.0849 42.1231 14.3712 50.0323 14.3041H50.2842C58.2103 14.3629 69.0414 15.0849 75.708 18.1495C76.1866 18.3595 87.9161 23.817 87.9161 41.6338C87.9161 42.1124 88.0337 48.1745 86.3712 56.7302C85.0782 63.3968 75.6912 69.8199 65.4478 71.0458C61.0146 71.5747 57.0012 72.0114 52.7443 72.0114C51.8375 72.0114 50.9307 71.9946 50.0575 71.9526C45.0702 71.7259 35.3138 71.0794 32.4758 70.5672C33.5757 75.1431 34.3398 82.8089 50.3598 82.2212C50.7208 82.2044 51.0819 82.238 51.4429 82.238C57.3371 82.238 62.4588 80.6511 62.5175 80.6343C64.096 80.1389 65.7081 81.2724 65.7837 82.918L66.0691 89.1396C66.1111 90.1052 65.599 91.0204 64.7425 91.4738C64.5242 91.5914 59.3354 94.3285 50.3094 94.8323C49.3774 94.8827 48.4287 94.9079 47.4799 94.9079H47.4883Z"/>
    </svg>
`;

// src/main.ts
var invalidChars_allOrWindowsPreset = [
  { char: "*", replacement: "+" },
  { char: '"', replacement: "'" },
  { char: "\\", replacement: "-" },
  { char: "/", replacement: "-" },
  { char: "<", replacement: "(" },
  { char: ">", replacement: ")" },
  { char: ":", replacement: "_" },
  { char: "|", replacement: "_" },
  { char: "?", replacement: "" }
];
var invalidChars_appleOrAndroidPreset = [
  { char: "*", replacement: "+" },
  { char: "\\", replacement: "-" },
  { char: "/", replacement: "-" },
  { char: ":", replacement: "_" },
  { char: "|", replacement: "_" },
  { char: "?", replacement: "" }
];
var invalidChars_linuxPreset = [
  { char: "/", replacement: "-" }
];
var DEFAULT_SETTINGS = {
  folderNames: {
    notes: "Keep Imports",
    assets: "Keep Imports/Assets",
    unsupportedAssets: "Keep Imports/Unsupported Assets"
  },
  createdDate: "Google Keep creation date" /* googleKeep */,
  importArchived: true,
  importTrashed: false,
  importUnsupported: false,
  importHtml: false,
  addColorTags: true,
  addLabelTags: true,
  addPinnedTags: true,
  addAttachmentTags: true,
  addArchivedTags: true,
  addTrashedTags: true,
  tagNames: {
    colorPrepend: "#Keep/Colour/",
    labelPrepend: "#Keep/Label/",
    isPinned: "#Keep/Pinned",
    hasAttachment: "#Keep/Attachments",
    isArchived: "#Keep/Archived",
    isTrashed: "#Keep/Trashed"
  },
  problemChars: [
    {
      char: "#",
      replacement: ""
    },
    {
      char: "^",
      replacement: ""
    },
    {
      char: "[",
      replacement: "("
    },
    {
      char: "]",
      replacement: ")"
    },
    {
      char: "|",
      replacement: "_"
    }
  ],
  invalidChars: JSON.parse(JSON.stringify(invalidChars_allOrWindowsPreset)),
  invalidCharFilter: "all/windows" /* allOrWindows */
};
var GoogleKeepImportPlugin2 = class extends import_obsidian8.Plugin {
  async onload() {
    await this.loadSettings();
    (0, import_obsidian8.addIcon)("mastodon", mastodon_default);
    this.addCommand({
      id: "import-files",
      name: "Import files",
      callback: () => runImportSequence(this)
    });
    this.addSettingTab(new MySettingsTab(this.app, this));
  }
  onunload() {
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  async resetSettings() {
    this.settings = JSON.parse(JSON.stringify(DEFAULT_SETTINGS));
    this.saveSettings();
    new import_obsidian8.Notice("Google Keep Import settings reset");
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vc3JjL21haW4udHMiLCAiLi4vc3JjL2xvZ2ljL2ltcG9ydC1sb2dpYy50cyIsICIuLi9zcmMvbW9kYWxzL2ltcG9ydC1wcm9ncmVzcy1tb2RhbC9pbXBvcnQtcHJvZ3Jlc3MtbW9kYWwudHMiLCAiLi4vc3JjL2NvbXBvbmVudHMvaW1wb3J0LXN1bW1hcnkvaW1wb3J0LXN1bW1hcnkudHMiLCAiLi4vc3JjL2NvbXBvbmVudHMvc3VwcG9ydC1idXR0b24tc2V0L3N1cHBvcnQtYnV0dG9uLXNldC50cyIsICIuLi9zcmMvbG9naWMvc3RyaW5nLXByb2Nlc3Nlcy50cyIsICIuLi9zcmMvdHlwZXMva2VlcC1kYXRhLnRzIiwgIi4uL3NyYy9tb2RhbHMvc3RhcnQtaW1wb3J0LW1vZGFsL3N0YXJ0LWltcG9ydC1tb2RhbC50cyIsICIuLi9zcmMvbW9kYWxzL2VkaXQtc2V0dGluZ3MtbW9kYWwvZWRpdC1zZXR0aW5ncy1tb2RhbC50cyIsICIuLi9zcmMvY29tcG9uZW50cy9zZXR0aW5ncy1ncm91cHMvc2V0dGluZ3MtZ3JvdXBzLnRzIiwgIi4uL3NyYy9tb2RhbHMvY29uZmlybWF0aW9uLW1vZGFsL2NvbmZpcm1hdGlvbi1tb2RhbC50cyIsICIuLi9zcmMvdGFicy9zZXR0aW5ncy10YWIvc2V0dGluZ3MtdGFiLnRzIiwgIi4uL3NyYy9hc3NldHMvbWFzdG9kb24udHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImltcG9ydCB7IE5vdGljZSwgUGx1Z2luLCBhZGRJY29uIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHsgQ3JlYXRlZERhdGVUeXBlcywgTWFwcGluZ1ByZXNldHMsIFBsdWdpblNldHRpbmdzIH0gZnJvbSAnc3JjL3R5cGVzL3BsdWdpbi1zZXR0aW5ncyc7XG5pbXBvcnQgeyBydW5JbXBvcnRTZXF1ZW5jZSB9IGZyb20gJy4vbG9naWMvaW1wb3J0LWxvZ2ljJztcbmltcG9ydCB7IE15U2V0dGluZ3NUYWIgfSBmcm9tICcuL3RhYnMvc2V0dGluZ3MtdGFiL3NldHRpbmdzLXRhYic7XG5pbXBvcnQgTWFzdG9kb25JY29uIGZyb20gJ3NyYy9hc3NldHMvbWFzdG9kb24nO1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbmV4cG9ydCBjb25zdCBpbnZhbGlkQ2hhcnNfYWxsT3JXaW5kb3dzUHJlc2V0ID0gW1xuXHR7XHRjaGFyOiAnKicsXHRyZXBsYWNlbWVudDogJysnIH0sXG5cdHtcdGNoYXI6ICdcIicsXHRyZXBsYWNlbWVudDogXCInXCIgfSxcblx0e1x0Y2hhcjogJ1xcXFwnLFx0cmVwbGFjZW1lbnQ6ICctJyB9LFxuXHR7XHRjaGFyOiAnLycsXHRyZXBsYWNlbWVudDogJy0nIH0sXG5cdHtcdGNoYXI6ICc8JyxcdHJlcGxhY2VtZW50OiAnKCcgfSxcblx0e1x0Y2hhcjogJz4nLFx0cmVwbGFjZW1lbnQ6ICcpJyB9LFxuXHR7XHRjaGFyOiAnOicsXHRyZXBsYWNlbWVudDogJ18nIH0sXG5cdHtcdGNoYXI6ICd8JyxcdHJlcGxhY2VtZW50OiAnXycgfSxcblx0e1x0Y2hhcjogJz8nLFx0cmVwbGFjZW1lbnQ6ICcnICB9LFxuXTtcblxuXG5leHBvcnQgY29uc3QgaW52YWxpZENoYXJzX2FwcGxlT3JBbmRyb2lkUHJlc2V0ID0gW1xuXHR7XHRjaGFyOiAnKicsXHRyZXBsYWNlbWVudDogJysnIH0sXG5cdHtcdGNoYXI6ICdcXFxcJyxcdHJlcGxhY2VtZW50OiAnLScgfSxcblx0e1x0Y2hhcjogJy8nLFx0cmVwbGFjZW1lbnQ6ICctJyB9LFxuXHR7XHRjaGFyOiAnOicsXHRyZXBsYWNlbWVudDogJ18nIH0sXG5cdHtcdGNoYXI6ICd8JyxcdHJlcGxhY2VtZW50OiAnXycgfSxcblx0e1x0Y2hhcjogJz8nLFx0cmVwbGFjZW1lbnQ6ICcnICB9LFxuXTtcblxuXG5leHBvcnQgY29uc3QgaW52YWxpZENoYXJzX2xpbnV4UHJlc2V0ID0gW1xuXHR7XHRjaGFyOiAnLycsXHRyZXBsYWNlbWVudDogJy0nIH0sXG5dO1xuXG5cbi8qKlxuICogVGhlIGRlZmF1bHQgc2V0dGluZ3MgdGhhdCBhIG5ldyBpbnN0YWxsIHN0YXJ0cyB3aXRoXG4gKi9cbmV4cG9ydCBjb25zdCBERUZBVUxUX1NFVFRJTkdTOiBQbHVnaW5TZXR0aW5ncyA9IHtcblx0Zm9sZGVyTmFtZXM6IHtcblx0XHRub3RlczogJ0tlZXAgSW1wb3J0cycsXG5cdFx0YXNzZXRzOiAnS2VlcCBJbXBvcnRzL0Fzc2V0cycsXG5cdFx0dW5zdXBwb3J0ZWRBc3NldHM6ICdLZWVwIEltcG9ydHMvVW5zdXBwb3J0ZWQgQXNzZXRzJ1xuXHR9LFxuXHRjcmVhdGVkRGF0ZTogQ3JlYXRlZERhdGVUeXBlcy5nb29nbGVLZWVwLCBcblx0aW1wb3J0QXJjaGl2ZWQ6IHRydWUsXG5cdGltcG9ydFRyYXNoZWQ6IGZhbHNlLFxuXHRpbXBvcnRVbnN1cHBvcnRlZDogZmFsc2UsXG5cdGltcG9ydEh0bWw6IGZhbHNlLFxuXHRhZGRDb2xvclRhZ3M6IHRydWUsXG5cdGFkZExhYmVsVGFnczogdHJ1ZSxcblx0YWRkUGlubmVkVGFnczogdHJ1ZSxcblx0YWRkQXR0YWNobWVudFRhZ3M6IHRydWUsXG5cdGFkZEFyY2hpdmVkVGFnczogdHJ1ZSxcblx0YWRkVHJhc2hlZFRhZ3M6IHRydWUsXG5cdHRhZ05hbWVzOiB7XG5cdFx0Y29sb3JQcmVwZW5kOiAnI0tlZXAvQ29sb3VyLycsXG5cdFx0bGFiZWxQcmVwZW5kOiAnI0tlZXAvTGFiZWwvJyxcblx0XHRpc1Bpbm5lZDogJyNLZWVwL1Bpbm5lZCcsXG5cdFx0aGFzQXR0YWNobWVudDogJyNLZWVwL0F0dGFjaG1lbnRzJyxcblx0XHRpc0FyY2hpdmVkOiAnI0tlZXAvQXJjaGl2ZWQnLFxuXHRcdGlzVHJhc2hlZDogJyNLZWVwL1RyYXNoZWQnLFxuXHR9LFxuXHQvLyBUaGVzZSBjaGFyYWN0ZXJzIHdpbGwgd29yayBpbmZpbGVwYXRoIGFuZCBuYW1lIGJ1dCB3aWxsIGJyZWFrIGxpbmthYmlsaXR5LlxuXHRwcm9ibGVtQ2hhcnM6IFtcblx0XHR7XG5cdFx0XHRjaGFyOiAnIycsXG5cdFx0XHRyZXBsYWNlbWVudDogJydcblx0XHR9LFxuXHRcdHtcblx0XHRcdGNoYXI6ICdeJyxcblx0XHRcdHJlcGxhY2VtZW50OiAnJ1xuXHRcdH0sXG5cdFx0e1xuXHRcdFx0Y2hhcjogJ1snLFxuXHRcdFx0cmVwbGFjZW1lbnQ6ICcoJ1xuXHRcdH0sXG5cdFx0e1xuXHRcdFx0Y2hhcjogJ10nLFxuXHRcdFx0cmVwbGFjZW1lbnQ6ICcpJ1xuXHRcdH0sXG5cdFx0e1xuXHRcdFx0Y2hhcjogJ3wnLFxuXHRcdFx0cmVwbGFjZW1lbnQ6ICdfJ1xuXHRcdH0sXG5cdF0sXG5cdC8vIFRoZXNlIGNoYXJhY3RlcnMgYXJlbid0IHZhbGlkIGluIHRoZSBmaWxlcGF0aCBvciBuYW1lIG9uIGRpZmZlcmVudCBvcGVyYXRpbmcgc3lzdGVtcy5cblx0aW52YWxpZENoYXJzOiBKU09OLnBhcnNlKCBKU09OLnN0cmluZ2lmeShpbnZhbGlkQ2hhcnNfYWxsT3JXaW5kb3dzUHJlc2V0KSApLFxuXHRpbnZhbGlkQ2hhckZpbHRlcjogTWFwcGluZ1ByZXNldHMuYWxsT3JXaW5kb3dzLFxufVxuXG5cblxuXG4vKipcbiAqIFRoZSBiYXNlIHBsdWdpbiBjbGFzcyBpbml0aWFsaXNlZCBieSBPYnNpZGlhbiBvbiBsYXVuY2hcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR29vZ2xlS2VlcEltcG9ydFBsdWdpbiBleHRlbmRzIFBsdWdpbiB7XG5cdHNldHRpbmdzOiBQbHVnaW5TZXR0aW5ncztcblxuXHRhc3luYyBvbmxvYWQoKSB7XG5cdFx0YXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcblxuXHRcdGFkZEljb24oXCJtYXN0b2RvblwiLCBNYXN0b2Rvbkljb24pO1xuXHRcdFxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRpZDogJ2ltcG9ydC1maWxlcycsXG5cdFx0XHRuYW1lOiAnSW1wb3J0IGZpbGVzJyxcblx0XHRcdGNhbGxiYWNrOiAoKSA9PiBydW5JbXBvcnRTZXF1ZW5jZSh0aGlzKVxuXHRcdH0pO1xuXG5cdFx0dGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBNeVNldHRpbmdzVGFiKHRoaXMuYXBwLCB0aGlzKSk7XG5cdH1cblxuXHQvLyBSdW4gd2hlbiBkZWFjdGl2YXRpbmcgb3IgdW5pbnN0YWxsaW5nIGEgcGx1Z2luXG5cdHB1YmxpYyBvbnVubG9hZCgpIHtcblx0XHQvLyBUT0RPOiBEb3VibGUgY2hlY2sgdGhlcmUgaXNuJ3QgYW55dGhpbmcgSSBuZWVkIHRvIGNsZWFuIHVwXG5cdH1cblxuXHQvKipcblx0ICogTG9hZCBhbnkgZXhpc3RpbmcgcGx1Z2luIHNldHRpbmdzIGZyb20gT2JzaWRpYW4gaW50byB0aGUgcGx1Z2lucyBzZXR0aW5ncyBvYmplY3QuXG5cdCAqL1xuXHRwcml2YXRlIGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcblx0XHR0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVRUSU5HUywgYXdhaXQgdGhpcy5sb2FkRGF0YSgpKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBTYXZlIHRoZSBwbHVnaW5zIHNldHRpbmdzIG9iamVjdCB0byBPYnNpZGlhbi5cblx0ICovXG5cdHB1YmxpYyBhc3luYyBzYXZlU2V0dGluZ3MoKSB7XG5cdFx0YXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZXNldCB0aGUgcGx1Z2lucyBzZXR0aW5ncyBvYmplY3QgYmFjayB0byBkZWZhdWx0cyBhbmQgc2F2ZSB0byBPYnNpZGlhbi5cblx0ICovXG5cdHB1YmxpYyBhc3luYyByZXNldFNldHRpbmdzKCkge1xuXHRcdHRoaXMuc2V0dGluZ3MgPSBKU09OLnBhcnNlKCBKU09OLnN0cmluZ2lmeShERUZBVUxUX1NFVFRJTkdTKSApO1xuXHRcdHRoaXMuc2F2ZVNldHRpbmdzKCk7XG5cdFx0bmV3IE5vdGljZSgnR29vZ2xlIEtlZXAgSW1wb3J0IHNldHRpbmdzIHJlc2V0Jyk7XG5cdH1cbn0iLCAiaW1wb3J0IHsgRGF0YVdyaXRlT3B0aW9ucywgTm90aWNlLCBURmlsZSwgVEZvbGRlciwgVmF1bHQgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCBHb29nbGVLZWVwSW1wb3J0UGx1Z2luLCB7IGludmFsaWRDaGFyc19hbGxPcldpbmRvd3NQcmVzZXQsIGludmFsaWRDaGFyc19hcHBsZU9yQW5kcm9pZFByZXNldCwgaW52YWxpZENoYXJzX2xpbnV4UHJlc2V0fSBmcm9tIFwic3JjL21haW5cIjtcbmltcG9ydCB7IEltcG9ydFByb2dyZXNzTW9kYWwgfSBmcm9tIFwic3JjL21vZGFscy9pbXBvcnQtcHJvZ3Jlc3MtbW9kYWwvaW1wb3J0LXByb2dyZXNzLW1vZGFsXCI7XG5pbXBvcnQgeyBmaWxlbmFtZVNhbml0aXplLCBnZXRGaWxlRXh0ZW5zaW9uLCBnZXROYW1lQW5kRXh0LCByZW1vdmVFeHRlbnNpb24gfSBmcm9tIFwiLi9zdHJpbmctcHJvY2Vzc2VzXCI7XG5pbXBvcnQgeyBDaGFyTWFwLCBDcmVhdGVkRGF0ZVR5cGVzLCBNYXBwaW5nUHJlc2V0cywgUGx1Z2luU2V0dGluZ3MgfSBmcm9tIFwic3JjL3R5cGVzL3BsdWdpbi1zZXR0aW5nc1wiO1xuaW1wb3J0IHsgS2VlcEpzb24sIG9iamVjdElzS2VlcEpzb24gfSBmcm9tIFwic3JjL3R5cGVzL2tlZXAtZGF0YVwiO1xuaW1wb3J0IHsgSWdub3JlSW1wb3J0UmVhc29uLCBJbXBvcnRSZXN1bHQsIExvZ1N0YXR1cyBhcyBMb2dTdGF0dXMgfSBmcm9tIFwic3JjL3R5cGVzL3Jlc3VsdHNcIjtcbmltcG9ydCB7IFN0YXJ0SW1wb3J0TW9kYWwgfSBmcm9tIFwic3JjL21vZGFscy9zdGFydC1pbXBvcnQtbW9kYWwvc3RhcnQtaW1wb3J0LW1vZGFsXCI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5cbmludGVyZmFjZSBQcm9ncmVzc1N1bW1hcnkge1xuXHRzdWNjZXNzQ291bnQ6IG51bWJlcixcblx0c2tpcENvdW50OiBudW1iZXIsXG5cdGZhaWxDb3VudDogbnVtYmVyLFxuXHRuZXdMb2dFbnRyaWVzOiBBcnJheTxPdXRwdXRMb2dJdGVtPjtcbn07XG5cbmludGVyZmFjZSBPdXRwdXRMb2dJdGVtIHtcblx0c3RhdHVzOiBzdHJpbmc7XG5cdHRpdGxlOiBzdHJpbmc7XG5cdGRlc2M6IHN0cmluZztcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLy8vLy8vLy8vLy8vLy8vLy8vXG5cblxuLyoqXG4gKiBSdW5zIGFuZCBtYW5hZ2VzIHRoZSBpbXBvcnQgc2VxdWVuY2Ugb2YgaW1wb3J0IG1vZGFscyBhbmQgaW1wb3J0IGxvZ2ljLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcnVuSW1wb3J0U2VxdWVuY2UocGx1Z2luOiBHb29nbGVLZWVwSW1wb3J0UGx1Z2luKSB7XG5cblx0Ly8gQWxsb3cgdGhlIHVzZXIgdG8gc2VsZWN0IHdoaWNoIGZpbGVzIHRvIGltcG9ydCBhbmQgYWRqdXN0IHNldHRpbmdzXG5cdGNvbnN0IG1vZGFsID0gbmV3IFN0YXJ0SW1wb3J0TW9kYWwocGx1Z2luKTtcblx0bGV0IGZpbGVCYWNrbG9nO1xuXHR0cnkge1xuXHRcdGZpbGVCYWNrbG9nID0gYXdhaXQgbW9kYWwuc2hvd01vZGFsKCk7XG5cdH1cblx0Y2F0Y2gge1xuXHRcdC8vIE1vZGFsIHdhcyBjYW5jZWxsZWRcblx0XHRyZXR1cm47XG5cdH1cblxuXHQvLyBJbXBvcnQgdGhlIGZpbGVzIGFuZCBzaG93IHJlc3VsdHNcblx0Y29uc3QgZmlsZUltcG9ydGVyID0gbmV3IEZpbGVJbXBvcnRlcihwbHVnaW4pO1xuXHRmaWxlSW1wb3J0ZXIuaW1wb3J0KGZpbGVCYWNrbG9nKTtcblx0Y29uc3QgcHJvZ3Jlc3NNb2RhbCA9IGF3YWl0IG5ldyBJbXBvcnRQcm9ncmVzc01vZGFsKHBsdWdpbiwgZmlsZUltcG9ydGVyKTtcblx0dHJ5IHtcblx0XHRhd2FpdCBwcm9ncmVzc01vZGFsLnNob3dNb2RhbCgpO1xuXHR9XG5cdGNhdGNoKG1lc3NhZ2UpIHtcblx0XHQvLyBJbXBvcnQgd2FzIGNhbmNlbGxlZFxuXHRcdGZpbGVJbXBvcnRlci5zdG9wKCk7XG5cdFx0bmV3IE5vdGljZShtZXNzYWdlLCA5MDAwKTtcblx0XHRyZXR1cm47XG5cdH1cblxufVxuXG4vKipcbiAqIENyZWF0ZXMgYW4gZW1wdHkgbWFya2Rvd24gZmlsZSBhbmQgcmV0dXJucyBpdC4gSWYgdGhlIGZpbGUgZXhpc3RzIGFscmVhZHkgaXQgY3JlYXRlcyBhIG5ldyBvbmUgYW5kIGFwcGVuZHMgYSB2ZXJzaW9uIG51bWJlci5cbiAqIERvbid0IGluY2x1ZGUgZmlsZSBleHRlbnNpb24gdW5sZXNzIGl0IHNob3VsZCBhcHBlYXIgaW4gdGhlIG5vdGUncyB0aXRsZS5cbiAqIFxuICovXG5hc3luYyBmdW5jdGlvbiBjcmVhdGVOZXdFbXB0eU1kRmlsZSh2YXVsdDogVmF1bHQsIHBhdGhBbmROYW1lOiBzdHJpbmcsIG9wdGlvbnM6IERhdGFXcml0ZU9wdGlvbnMsIHZlcnNpb246IG51bWJlciA9IDEpIDogUHJvbWlzZTxURmlsZT4ge1xuXHRsZXQgZmlsZVJlZjogVEZpbGU7XG5cdGxldCBwYXRoQW5kVmVyc2lvbmVkTmFtZTtcblx0XG5cdGlmKHZlcnNpb24gPT0gMSkge1xuXHRcdHBhdGhBbmRWZXJzaW9uZWROYW1lID0gcGF0aEFuZE5hbWU7XG5cdH0gZWxzZSB7XG5cdFx0cGF0aEFuZFZlcnNpb25lZE5hbWUgPSBgJHtwYXRoQW5kTmFtZX0gKCR7dmVyc2lvbn0pYDtcblx0fVxuXG5cdGlmKCBhd2FpdCB2YXVsdC5hZGFwdGVyLmV4aXN0cyhgJHtwYXRoQW5kVmVyc2lvbmVkTmFtZX0ubWRgKSApIHtcblx0XHQvLyBGaWxlIGFscmVhZHkgZXhpc3RzLCB0cnkgYXBwZW5kaW5nIGEgbnVtYmVyIChvciBoaWdoZXIgbnVtYmVyKVxuXHRcdGZpbGVSZWYgPSBhd2FpdCBjcmVhdGVOZXdFbXB0eU1kRmlsZSh2YXVsdCwgcGF0aEFuZE5hbWUsIG9wdGlvbnMsIHZlcnNpb24rMSk7XG5cblx0fSBlbHNlIHtcblx0XHQvLyBJdCBkb2Vzbid0IHlldCBleGlzdCwgc28gY3JlYXRlIGl0XG5cdFx0ZmlsZVJlZiA9IGF3YWl0IHZhdWx0LmNyZWF0ZShgJHtwYXRoQW5kVmVyc2lvbmVkTmFtZX0ubWRgLCAnJywgb3B0aW9ucyk7XG5cblx0fVxuXHRcblx0cmV0dXJuIGZpbGVSZWY7XG59XG5cbi8qKlxuICogUmV0cmlldmVzIGEgcmVmZXJlbmNlIHRvIGEgc3BlY2lmaWMgZm9sZGVyIGluIGEgdmF1bHQuIENyZWF0ZXMgaXQgZmlyc3QgaWYgaXQgZG9lc24ndCBleGlzdC5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gZ2V0T3JDcmVhdGVGb2xkZXIoZm9sZGVyUGF0aDogc3RyaW5nLCB2YXVsdDogVmF1bHQpOiBQcm9taXNlPFRGb2xkZXI+IHtcblx0bGV0IGZvbGRlcjogVEZvbGRlciB8IG51bGwgPSBudWxsO1xuXHRsZXQgZm9sZGVyRXhpc3RzID0gYXdhaXQgdmF1bHQuYWRhcHRlci5leGlzdHMoZm9sZGVyUGF0aCk7XG5cblx0aWYoIWZvbGRlckV4aXN0cykge1xuXHRcdC8vIEl0IGRvZXNuJ3QgeWV0IGV4aXN0LCBzbyBjcmVhdGUgaXRcblx0XHRhd2FpdCB2YXVsdC5jcmVhdGVGb2xkZXIoZm9sZGVyUGF0aCk7XG5cdH1cblxuXHRyZXR1cm4gdmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKGZvbGRlclBhdGgpIGFzIFRGb2xkZXI7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBvYmplY3QgdG8gbWFuYWdlIHRoZSBpbXBvcnRpbmcgb2YgZmlsZXMsIHN0YXJ0cyB0aGUgaW1wb3J0LCBhbmQgcmV0dXJucyB0aGUgb2JqZWN0LlxuICovXG5leHBvcnQgY2xhc3MgRmlsZUltcG9ydGVyIHtcblx0cHJpdmF0ZSBwbHVnaW46IEdvb2dsZUtlZXBJbXBvcnRQbHVnaW47XG5cdHByaXZhdGUgdG90YWxJbXBvcnRzID0gMDtcblx0cHJpdmF0ZSBzdWNjZXNzQ291bnQgPSAwO1xuXHRwcml2YXRlIGZhaWxDb3VudCA9IDA7XG5cdHByaXZhdGUgc2tpcENvdW50ID0gMDtcblx0cHJpdmF0ZSBhY3RpdmVJbXBvcnQgPSBmYWxzZTtcblx0cHJpdmF0ZSBvdXRwdXRMb2c6IEFycmF5PE91dHB1dExvZ0l0ZW0+ID0gW107XG5cdHByaXZhdGUgb3V0cHV0TG9nSXRlciA9IDA7XG5cblx0Y29uc3RydWN0b3IocGx1Z2luOiBHb29nbGVLZWVwSW1wb3J0UGx1Z2luKSB7XG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XG5cdH1cblxuXHQvKipcblx0ICogQmVnaW5zIGltcG9ydGluZyBhbiBhcnJheSBvZiBmaWxlc1xuXHQgKi9cblx0YXN5bmMgaW1wb3J0KGZpbGVzOiBBcnJheTxPYmplY3Q+KSB7XG5cdFx0Y29uc3QgdmF1bHQgPSB0aGlzLnBsdWdpbi5hcHAudmF1bHQ7XG5cdFx0Y29uc3Qgc2V0dGluZ3MgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncztcblx0XHR0aGlzLmFjdGl2ZUltcG9ydCA9IHRydWU7XG5cdFxuXHRcdHRoaXMudG90YWxJbXBvcnRzID0gZmlsZXMubGVuZ3RoO1xuXHRcdHRoaXMuc3VjY2Vzc0NvdW50ID0gMDtcblx0XHR0aGlzLmZhaWxDb3VudCA9IDA7XG5cdFx0dGhpcy5za2lwQ291bnQgPSAwO1xuXHRcdFxuXHRcdGZvcihsZXQgaT0wOyBpPGZpbGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRjb25zdCBmaWxlID0gZmlsZXNbaV0gYXMgRmlsZTtcblx0XHRcdGxldCByZXN1bHQ6IEltcG9ydFJlc3VsdDtcblxuXHRcdFx0Ly8gQmFpbCBpZiB0aGUgaW1wb3J0IGhhcyBiZWVuIGNhbmNlbGxlZC5cblx0XHRcdGlmKCF0aGlzLmFjdGl2ZUltcG9ydCkgcmV0dXJuO1xuXHRcblx0XHRcdGlmKGZpbGVJc0pzb24oZmlsZSkpIHtcblx0XHRcdFx0Ly8gQXNzdW1lIGlzIEdvb2dsZSBLZWVwIG5vdGUgYW5kIGF0dGVtcHQgdG8gaW1wb3J0XG5cdFx0XHRcdHJlc3VsdCA9IGF3YWl0IGltcG9ydEpzb24odmF1bHQsIHNldHRpbmdzLmZvbGRlck5hbWVzLm5vdGVzLCBmaWxlLCBzZXR0aW5ncyk7XG5cdFx0XHRcblx0XHRcdH0gZWxzZSBpZihmaWxlSXNNYXJrZG93bihmaWxlKSkge1xuXHRcdFx0XHQvLyBJbXBvcnQgYXMgaXNcblx0XHRcdFx0cmVzdWx0ID0gYXdhaXQgaW1wb3J0QmluYXJ5RmlsZSh2YXVsdCwgc2V0dGluZ3MuZm9sZGVyTmFtZXMubm90ZXMsIGZpbGUpO1xuXG5cdFx0XHR9IGVsc2UgaWYoZmlsZUlzQmluYXJ5QW5kU3VwcG9ydGVkQnlPYnNpZGlhbihmaWxlKSkge1xuXHRcdFx0XHQvLyBJbXBvcnQgYXMgc3VwcG9ydGVkIGJpbmFyeSBmaWxlXG5cdFx0XHRcdHJlc3VsdCA9IGF3YWl0IGltcG9ydEJpbmFyeUZpbGUodmF1bHQsIHNldHRpbmdzLmZvbGRlck5hbWVzLmFzc2V0cywgZmlsZSk7XG5cblx0XHRcdH0gZWxzZSBpZihmaWxlSXNIdG1sKGZpbGUpICYmIHNldHRpbmdzLmltcG9ydFVuc3VwcG9ydGVkICYmIHNldHRpbmdzLmltcG9ydEh0bWwpIHtcblx0XHRcdFx0Ly8gSW1wb3J0IGh0bWwgZmlsZVxuXHRcdFx0XHRcblx0XHRcdFx0cmVzdWx0ID0gYXdhaXQgaW1wb3J0QmluYXJ5RmlsZSh2YXVsdCwgc2V0dGluZ3MuZm9sZGVyTmFtZXMudW5zdXBwb3J0ZWRBc3NldHMsIGZpbGUpO1xuXHRcdFx0XHRpZihyZXN1bHQubG9nU3RhdHVzID09PSBMb2dTdGF0dXMuU3VjY2Vzcykge1xuXHRcdFx0XHRcdHJlc3VsdC5sb2dTdGF0dXMgPSBMb2dTdGF0dXMuV2FybmluZztcblx0XHRcdFx0XHRyZXN1bHQuZGV0YWlscyA9IGA8cD5UaGlzIGZpbGUgaGFzIGJlZW4gaW1wb3J0ZWQgdG8gJyR7c2V0dGluZ3MuZm9sZGVyTmFtZXMudW5zdXBwb3J0ZWRBc3NldHN9JyBiZWNhdXNlIHlvdSd2ZSB0dXJuZWQgaXQgb24gaW4gdGhlIHNldHRpbmdzLiBIb3dldmVyLCBIVE1MIGZpbGVzIG1heSBub3QgYmUgc3VwcG9ydGVkIGJ5IE9ic2lkaWFuIGFuZCB0aHVzIG1heSBub3QgYmUgdmlzaWJsZS48L3A+PHA+QWxzbyBub3RlIHRoYXQgR29vZ2xlIFRha2VvdXQgZXhwb3J0cyBvbmx5IGluY2x1ZGUgSFRNTCBmaWxlcyB0aGF0IGFyZSByZWR1bmRhbnQgdG8gdGhlIGluY2x1ZGVkIEpTT04gbm90ZSBmaWxlcy4gU28gaWYgeW91ciBpbXBvcnRpbmcgYSBUYWtlb3V0IGV4cG9ydCB5b3Ugc2hvdWxkIGxlYXZlIEhUTUwgZmlsZXMgdHVybmVkIG9mZi48L3A+YDtcblx0XHRcdFx0fVxuXG5cdFx0XHR9IGVsc2UgaWYoZmlsZUlzSHRtbChmaWxlKSAmJiAoIXNldHRpbmdzLmltcG9ydFVuc3VwcG9ydGVkIHx8ICFzZXR0aW5ncy5pbXBvcnRIdG1sKSkge1xuXHRcdFx0XHQvLyBEb24ndCBpbXBvcnQgaHRtbHMsIGJ1dCBzdGlsbCBsb2dcblx0XHRcdFx0cmVzdWx0ID0ge1xuXHRcdFx0XHRcdGtlZXBGaWxlbmFtZTogZmlsZS5uYW1lLFxuXHRcdFx0XHRcdGxvZ1N0YXR1czogTG9nU3RhdHVzLk5vdGUsXG5cdFx0XHRcdFx0ZGV0YWlsczogYDxwPkhUTUwgZmlsZXMgaW4gR29vZ2xlIFRha2VvdXQgZXhwb3J0cyBhcmUgcmVkdW5kYW50IGJhY2t1cHMgYW5kIHRoaXMgZmlsZSBoYXMgdGhlcmVmb3JlIGJlZW4gc2tpcHBlZC4gVGhlIG5vdGUgaXQgcmVsYXRlcyB0b28gd2lsbCBoYXZlIGFuIGVxdWl2YWxlbnQgSlNPTiBmaWxlIHRoYXQgc2hvdWxkIGhhdmUgaW1wb3J0ZWQuPC9wPjxwPllvdSBjYW4gZm9yY2UgSFRNTCBmaWxlcyB0byBpbXBvcnQgaW4gdGhlIHNldHRpbmdzIGJ1dCB0aGV5IG1heSBiZSB1bnN1cHBvcnRlZCBieSBPYnNpZGlhbi48L3A+YCxcblx0XHRcdFx0fVxuXG5cdFx0XHR9IGVsc2UgaWYoIWZpbGVJc0h0bWwoZmlsZSkgJiYgc2V0dGluZ3MuaW1wb3J0VW5zdXBwb3J0ZWQpIHtcblx0XHRcdFx0Ly8gSW1wb3J0IGFzIHVuc3VwcG9ydGVkIG5vbi1qc29uIGZpbGVcblx0XHRcdFx0cmVzdWx0ID0gYXdhaXQgaW1wb3J0QmluYXJ5RmlsZSh2YXVsdCwgc2V0dGluZ3MuZm9sZGVyTmFtZXMudW5zdXBwb3J0ZWRBc3NldHMsIGZpbGUpO1xuXHRcdFx0XHRpZihyZXN1bHQubG9nU3RhdHVzID09PSBMb2dTdGF0dXMuU3VjY2Vzcykge1xuXHRcdFx0XHRcdHJlc3VsdC5sb2dTdGF0dXMgPSBMb2dTdGF0dXMuV2FybmluZztcblx0XHRcdFx0XHRyZXN1bHQuZGV0YWlscyA9IGBUaGlzIGZpbGUgdHlwZSBpc24ndCBhIEdvb2dsZSBLZWVwIEpTT04gYW5kIGlzbid0IHJlY29nbmlzZWQgYnkgdGhpcyBwbHVnaW4gYXMgT2JzaWRpYW4gc3VwcG9ydGVkLiBJdCBoYXMgYmVlbiBpbXBvcnRlZCBpbnRvICcke3NldHRpbmdzLmZvbGRlck5hbWVzLnVuc3VwcG9ydGVkQXNzZXRzfScgYXMgcGVyIHlvdXIgc2V0dGluZ3MsIGJ1dCB3aWxsIG9ubHkgYmUgdmlzaWJsZSBpbiBPYnNpZGlhbiBpZiBpdCdzIHN1cHBvcnRlZCBhcyBpcywgaWYgbm90LCBvcGVuIHRoYXQgZm9sZGVyIG91dHNpZGUgb2YgT2JzaWRpYW4gdG8gY29udmVydCBvciBkZWxldGVkIHRoZSBmaWxlcy4gQW55IGxpbmtzIHRvIHRob3NlIGZpbGVzIGluIG5vdGVzIHdpbGwgYWxzbyBuZWVkIHRvIGJlIHVwZGF0ZWQuYDtcblx0XHRcdFx0fVxuXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBEb24ndCBpbXBvcnQgdW5zdXBwb3J0ZWQgbm9uLWpzb24gZmlsZSwgYnV0IHN0aWxsIGxvZ1xuXHRcdFx0XHRyZXN1bHQgPSB7XG5cdFx0XHRcdFx0a2VlcEZpbGVuYW1lOiBmaWxlLm5hbWUsXG5cdFx0XHRcdFx0bG9nU3RhdHVzOiBMb2dTdGF0dXMuTm90ZSxcblx0XHRcdFx0XHRkZXRhaWxzOiBgVGhpcyBmaWxlIHR5cGUgaXNuJ3Qgc3VwcG9ydGVkIGJ5IE9ic2lkaWFuIGFuZCBoYXMgYmVlbiBza2lwcGVkLiBZb3UgY2FuIGNoYW5nZSB0aGlzIGJlaGF2aW91ciBpbiB0aGUgc2V0dGluZ3MuYCxcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLnVwZGF0ZU91dHB1dExvZyhyZXN1bHQpO1xuXHRcblx0XHR9XG5cdFxuXHR9XG5cblx0LyoqXG5cdCAqIFVwZGF0ZXMgdGhlIHBhc3NlcyB0aGUgcmVzdWx0IGludG8gdGhlIG91dHB1dCBsb2cgb2YgdGhlIGZpbGUgbG9hZGVyIG9iamVjdC5cblx0ICovXG5cdHByaXZhdGUgdXBkYXRlT3V0cHV0TG9nKHJlc3VsdDogSW1wb3J0UmVzdWx0KSB7XG5cdFx0aWYocmVzdWx0LmxvZ1N0YXR1cyA9PT0gTG9nU3RhdHVzLldhcm5pbmcpIHtcblx0XHRcdHRoaXMuc3VjY2Vzc0NvdW50Kys7XG5cdFx0XHR0aGlzLm91dHB1dExvZy5wdXNoKHtcblx0XHRcdFx0c3RhdHVzOiAnV2FybmluZycsXG5cdFx0XHRcdHRpdGxlOiBgJHtyZXN1bHQua2VlcEZpbGVuYW1lfWAsXG5cdFx0XHRcdGRlc2M6IGAke3Jlc3VsdC5kZXRhaWxzfSAke3Jlc3VsdC5vYnNpZGlhbkZpbGVwYXRoIHx8ICcnfWAsXG5cdFx0XHR9KVxuXG5cdFx0fSBlbHNlIGlmKHJlc3VsdC5sb2dTdGF0dXMgPT09IExvZ1N0YXR1cy5FcnJvcikge1xuXHRcdFx0dGhpcy5mYWlsQ291bnQrKztcblx0XHRcdHRoaXMub3V0cHV0TG9nLnB1c2goe1xuXHRcdFx0XHRzdGF0dXM6ICdFcnJvcicsXG5cdFx0XHRcdHRpdGxlOiBgJHtyZXN1bHQua2VlcEZpbGVuYW1lfWAsXG5cdFx0XHRcdGRlc2M6IGAke3Jlc3VsdC5kZXRhaWxzfSAke3Jlc3VsdC5vYnNpZGlhbkZpbGVwYXRoID8gYDxwPjxlbT5JbnRlbmRlZCBuYW1lOjwvZW0+ICR7cmVzdWx0Lm9ic2lkaWFuRmlsZXBhdGh9YCA6ICcnfSA8cD48ZW0+JHtyZXN1bHQuZXJyb3IgfHwgJyd9PC9lbT48L3A+YCxcblx0XHRcdH0pXG5cdFx0XHRcblx0XHR9IGVsc2UgaWYocmVzdWx0LmxvZ1N0YXR1cyA9PT0gTG9nU3RhdHVzLk5vdGUpIHtcblx0XHRcdHRoaXMuc2tpcENvdW50Kys7XG5cdFx0XHR0aGlzLm91dHB1dExvZy5wdXNoKHtcblx0XHRcdFx0c3RhdHVzOiAnTm90ZScsXG5cdFx0XHRcdHRpdGxlOiBgJHtyZXN1bHQua2VlcEZpbGVuYW1lfWAsXG5cdFx0XHRcdGRlc2M6IGAke3Jlc3VsdC5kZXRhaWxzfSA8cD48ZW0+JHtyZXN1bHQuZXJyb3IgfHwgJyd9PC9lbT48L3A+YCxcblx0XHRcdH0pXG5cblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5zdWNjZXNzQ291bnQrKztcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIGZpbGVzIHBhc3NlZCB0byB0aGUgb2JqZWN0LlxuXHQgKi9cblx0cHVibGljIGdldFRvdGFsSW1wb3J0cygpOiBudW1iZXIge1xuXHRcdHJldHVybiB0aGlzLnRvdGFsSW1wb3J0cztcblx0fVxuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIGEgc3VtbWFyeSBvZiB0aGUgaW1wb3J0IG9iamVjdHMgcHJvZ3Jlc3MsIGluY2x1ZGluZyBhbnkgbmV3IG91dHB1dCBsb2cgZW50cmllcyBzaW5jZSBsYXN0IGNhbGwuXG5cdCAqL1xuXHRwdWJsaWMgZ2V0TGF0ZXN0UHJvZ3Jlc3MoKTogUHJvZ3Jlc3NTdW1tYXJ5IHtcblx0XHRsZXQgbmV3TG9nRW50cmllczogQXJyYXk8T3V0cHV0TG9nSXRlbT4gPSBbXTtcblx0XHRpZih0aGlzLm91dHB1dExvZ0l0ZXIgPCB0aGlzLnRvdGFsSW1wb3J0cykge1xuXHRcdFx0bmV3TG9nRW50cmllcyA9IHRoaXMub3V0cHV0TG9nLnNsaWNlKHRoaXMub3V0cHV0TG9nSXRlcik7XG5cdFx0XHR0aGlzLm91dHB1dExvZ0l0ZXIgKz0gbmV3TG9nRW50cmllcy5sZW5ndGg7XG5cdFx0fVxuXHRcdHJldHVybiAge1xuXHRcdFx0c3VjY2Vzc0NvdW50OiB0aGlzLnN1Y2Nlc3NDb3VudCxcblx0XHRcdGZhaWxDb3VudDogdGhpcy5mYWlsQ291bnQsXG5cdFx0XHRza2lwQ291bnQ6IHRoaXMuc2tpcENvdW50LFxuXHRcdFx0bmV3TG9nRW50cmllc1xuXHRcdH07XG5cdH1cblxuXHQvKipcblx0ICogU3RvcHMgdGhlIGFjdGl2ZSBpbXBvcnQgcHJlbWF0dXJlbHkuXG5cdCAqL1xuXHRwdWJsaWMgc3RvcCgpIHtcblx0XHR0aGlzLmFjdGl2ZUltcG9ydCA9IGZhbHNlO1xuXHR9XG5cbn1cblxuLyoqXG4gKiBSZXR1cm5zIGlmIGEgZmlsZSBpcyBhIEpTT04gZmlsZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpbGVJc0pzb24oZmlsZTogRmlsZSkge1xuXHRyZXR1cm4gZ2V0RmlsZUV4dGVuc2lvbihmaWxlLm5hbWUpID09PSAnLmpzb24nIHx8IGZpbGUudHlwZSA9PT0gJ2FwcGxpY2F0aW9uL2pzb24nO1xufVxuXG4vKipcbiAqIFJldHVybnMgaWYgYSBmaWxlIGlzIGEgYSBtYXJrZG93biB0ZXh0IGZpbGUuIFdoZXRoZXIgYnkgbWltZXR5cGUgb3IgYnkgZmlsZSBleHRlbnNpb24uXG4gKiBGaWxlIGV4dGVuc2lvbiBpcyBhbHNvIHVzZWQgYmVjYXVzZSBzb21lIHNlZW0gdG8gcmV0dXJuIGEgYmxhbmsgbWltZS10eXBlLlxuICovXG5mdW5jdGlvbiBmaWxlSXNNYXJrZG93bihmaWxlOiBGaWxlKSB7XG5cdHJldHVyblx0Z2V0RmlsZUV4dGVuc2lvbihmaWxlLm5hbWUpICA9PT0gJy5tZCdcdFx0XHRcdFx0fHxcblx0XHRcdGZpbGUudHlwZSA9PT0gJ3RleHQvbWFya2Rvd24nXHR8fFxuXHRcdFx0ZmlsZS50eXBlID09PSAndGV4dC94LW1hcmtkb3duJztcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGlmIGEgZmlsZSBpcyBiaW5hcnkgYW5kIHN1cHBvcnRlZCBuYXRpdmVseSBieSBPYnNpZGlhbi5cbiAqIEJhc2VkIG9uIGFjY2VwdGVkIGZpbGUgZm9ybWF0cyBsaXN0ZWQgaGVyZTogaHR0cHM6Ly9oZWxwLm9ic2lkaWFuLm1kL0FkdmFuY2VkK3RvcGljcy9BY2NlcHRlZCtmaWxlK2Zvcm1hdHNcbiAqL1xuZnVuY3Rpb24gZmlsZUlzQmluYXJ5QW5kU3VwcG9ydGVkQnlPYnNpZGlhbihmaWxlOiBGaWxlKSB7XG5cdGNvbnN0IGlzSW1hZ2VGaWxlID1cdGZpbGUudHlwZSA9PT0gJ2ltYWdlL3BuZydcdFx0XHRcdHx8XG5cdFx0XHRcdFx0XHRmaWxlLnR5cGUgPT09ICdpbWFnZS93ZWJwJ1x0XHRcdFx0fHxcblx0XHRcdFx0XHRcdGZpbGUudHlwZSA9PT0gJ2ltYWdlL2pwZWcnXHRcdFx0XHR8fFx0Ly8gLmpwZyBvciAuanBlZ1xuXHRcdFx0XHRcdFx0ZmlsZS50eXBlID09PSAnaW1hZ2UvZ2lmJ1x0XHRcdFx0fHxcblx0XHRcdFx0XHRcdGZpbGUudHlwZSA9PT0gJ2ltYWdlL2JtcCdcdFx0XHRcdHx8XG5cdFx0XHRcdFx0XHRmaWxlLnR5cGUgPT09ICdpbWFnZS9zdmcreG1sJztcblxuXHRjb25zdCBpc0F1ZGlvRmlsZSA9IGZpbGUudHlwZSA9PT0gJ2F1ZGlvL21wZWcnXHRcdFx0XHR8fFx0Ly8gLm00YVxuXHRcdFx0XHRcdFx0ZmlsZS50eXBlID09PSAnYXVkaW8vbTRhJ1x0XHRcdFx0fHxcdC8vIC5tNGFcblx0XHRcdFx0XHRcdGZpbGUudHlwZSA9PT0gJ2F1ZGlvL3dlYm0nXHRcdFx0XHR8fFxuXHRcdFx0XHRcdFx0ZmlsZS50eXBlID09PSAnYXVkaW8vd2F2J1x0XHRcdFx0fHxcblx0XHRcdFx0XHRcdGZpbGUudHlwZSA9PT0gJ2F1ZGlvL29nZydcdFx0XHRcdHx8XG5cdFx0XHRcdFx0XHRmaWxlLnR5cGUgPT09ICdhdWRpby8zZ3BwJ1x0XHRcdFx0fHxcblx0XHRcdFx0XHRcdGZpbGUudHlwZSA9PT0gJ2F1ZGlvL3gtZmxhYyc7XG5cdFxuXHRjb25zdCBpc1ZpZGVvRmlsZSA9IGZpbGUudHlwZSA9PT0gJ3ZpZGVvL21wNCdcdFx0XHRcdHx8XG5cdFx0XHRcdFx0XHRmaWxlLnR5cGUgPT09ICd2aWRlby93ZWJtJ1x0XHRcdFx0fHxcblx0XHRcdFx0XHRcdGZpbGUudHlwZSA9PT0gJ3ZpZGVvL29nZydcdFx0XHRcdHx8XHQvLyAub2d2XG5cdFx0XHRcdFx0XHRmaWxlLnR5cGUgPT09ICd2aWRlby8zZ3BwJ1x0XHRcdFx0fHxcdC8vIC4zZ3Bcblx0XHRcdFx0XHRcdGZpbGUudHlwZSA9PT0gJ3ZpZGVvL3F1aWNrdGltZSdcdFx0XHR8fFx0Ly8gLm1vdlxuXHRcdFx0XHRcdFx0ZmlsZS50eXBlID09PSAndmlkZW8veC1tYXRyb3NrYSc7XHRcdFx0Ly8gLm1rdlxuXG5cdGNvbnN0IGlzT3RoZXJGaWxlID0gZmlsZS50eXBlID09PSAnYXBwbGljYXRpb24vcGRmJztcblxuXHRyZXR1cm4gaXNJbWFnZUZpbGUgfHwgaXNBdWRpb0ZpbGUgfHwgaXNWaWRlb0ZpbGUgfHwgaXNPdGhlckZpbGU7XG59XG5cbi8qKlxuICogUmV0dXJucyBpZiBhIGZpbGUgaXMgYW4gaHRtbCBmaWxlLiBXaGV0aGVyIGJ5IG1pbWV0eXBlIG9yIGJ5IGZpbGUgZXh0ZW5zaW9uLlxuICovXG5mdW5jdGlvbiBmaWxlSXNIdG1sKGZpbGU6IEZpbGUpIHtcblx0Y29uc3QgZXh0ID0gZ2V0RmlsZUV4dGVuc2lvbihmaWxlLm5hbWUpO1xuXHRyZXR1cm5cdGV4dCA9PT0gJ2h0bWwnXHRcdFx0XHRcdFx0fHxcblx0XHRcdGV4dCA9PT0gJ2h0bSdcdFx0XHRcdFx0XHR8fFxuXHRcdFx0ZmlsZS50eXBlID09PSAndGV4dC9odG1sJztcblxufVxuXG4vKipcbiAqIFJlYWRzIGEgR29vZ2xlIEtlZXAgSlNPTiBmaWxlIGFuZCBjcmVhdGVzIGEgbWFya2Rvd24gbm90ZSBmcm9tIGl0IGluIHRoZSBPYnNpZGlhbiB2YXVsdC5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gaW1wb3J0SnNvbih2YXVsdDogVmF1bHQsIGZvbGRlclBhdGg6IHN0cmluZywgZmlsZTogRmlsZSwgc2V0dGluZ3M6IFBsdWdpblNldHRpbmdzKSA6IFByb21pc2U8SW1wb3J0UmVzdWx0PiB7XG5cdGxldCBmb2xkZXI6IFRGb2xkZXI7XG5cdGNvbnN0IHJlc3VsdDogSW1wb3J0UmVzdWx0ID0ge1xuXHRcdGtlZXBGaWxlbmFtZTogZmlsZS5uYW1lLFxuXHRcdGxvZ1N0YXR1czogTG9nU3RhdHVzLlN1Y2Nlc3MsXG5cdH1cblxuXG4gICAgLy8gVE9ETzogVGhpcyBjb21wb3NpdGlvbiBpcyBjb25mdXNpbmcgLSBBdHRlbXB0IHRvIHNpbXBsaWZ5XG5cdHJldHVybiBuZXcgUHJvbWlzZSggYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXG5cdFx0Ly8gQ3JlYXRlIGZvbGRlclxuXHRcdHRyeSB7XG5cdFx0XHRmb2xkZXIgPSBhd2FpdCBnZXRPckNyZWF0ZUZvbGRlcihmb2xkZXJQYXRoLCB2YXVsdCk7XG5cdFx0fSBjYXRjaChlKSB7XG5cdFx0XHRjb25zb2xlLmxvZyhlKTtcblx0XHRcdHJlc3VsdC5sb2dTdGF0dXMgPSBMb2dTdGF0dXMuRXJyb3I7XG5cdFx0XHRyZXN1bHQuZGV0YWlscyA9IGA8cD5QbGVhc2UgY2hlY2sgdGhlIGludGVuZGVkIG5hbWUgZG9lc24ndCBpbmNsdWRlIGFueSBjaGFyYWN0ZXJzIG5vdCBhbGxvd2VkIGJ5IHlvdXIgb3BlcmF0aW5nIHN5c3RlbS4gVGhpcyBjYW4gaGFwcGVuIGlmIHlvdSd2ZSBtb2RpZmllZCB0aGUgY2hhcmFjdGVyIG1hcHBpbmcgb3B0aW9ucyBpbiB0aGlzIHBsdWdpbidzIHNldHRpbmdzIHNvIHRoYXQgdGhleSBkb24ndCBtYXRjaCB5b3VyIG9wZXJhdGluZyBzeXN0ZW0uPC9wPmA7XG5cdFx0XHRyZXR1cm4gcmVzb2x2ZShyZXN1bHQpO1xuXHRcdH1cblxuXG5cdFx0Ly8gVE9ETzogUmVmYWN0b3IgdGhpcyBhcyBhIHBhcnNlS2VlcEpzb24gZnVuY3Rpb24gdGhhdCB3ZSB3YWl0IGZvci5cblx0XHQvLyBzZXR0aW5nIHVwIHRoZSByZWFkZXJcblx0XHR2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcblx0XHRyZWFkZXIucmVhZEFzVGV4dChmaWxlIGFzIEJsb2IsJ1VURi04Jyk7XG5cdFx0cmVhZGVyLm9uZXJyb3IgPSByZWplY3Q7XG5cdFx0cmVhZGVyLm9ubG9hZCA9IGFzeW5jIChyZWFkZXJFdmVudCkgPT4ge1xuXG5cblx0XHRcdC8vIEJhaWwgaWYgdGhlIGZpbGUgaGFzbid0IGJlZW4gaW50ZXJwcmV0ZWQgcHJvcGVybHlcblx0XHRcdGlmKCFyZWFkZXJFdmVudCB8fCAhcmVhZGVyRXZlbnQudGFyZ2V0KSB7XG5cdFx0XHRcdHJlc3VsdC5sb2dTdGF0dXMgPSBMb2dTdGF0dXMuRXJyb3I7XG5cdFx0XHRcdHJlc3VsdC5kZXRhaWxzID0gJ1NvbWV0aGluZyB3ZW50IHdyb25nIHJlYWRpbmcgdGhlIGZpbGUuJ1xuXHRcdFx0XHRyZXR1cm4gcmVzb2x2ZShyZXN1bHQpO1xuXHRcdFx0fVxuXHRcdFx0XG5cblx0XHRcdC8vIEJhaWwgaWYgdGhlIGZpbGUgaGFzIGJlZW4gcmVhZCBjb3JyZWN0bHkgYnV0IGlzIG1hbGZvcm1lZFxuXHRcdFx0bGV0IGNvbnRlbnQ6IEtlZXBKc29uIHwgdW5kZWZpbmVkO1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0Y29udGVudCA9IEpTT04ucGFyc2UocmVhZGVyRXZlbnQudGFyZ2V0LnJlc3VsdCBhcyBzdHJpbmcpIGFzIEtlZXBKc29uO1xuXHRcdFx0fSBjYXRjaChlKSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKGUpO1xuXHRcdFx0XHRyZXN1bHQubG9nU3RhdHVzID0gTG9nU3RhdHVzLkVycm9yO1xuXHRcdFx0XHRyZXN1bHQuZGV0YWlscyA9IGA8cD5KU09OIGZpbGUgYXBwZWFycyB0byBiZSBtYWxmb3JtZWQgYW5kIGNhbid0IGJlIGltcG9ydGVkLiBZb3UgY2FuIG9wZW4gdGhpcyBmaWxlIGFuZCBlaXRoZXIgYXR0ZW1wdCB0byBjb3JyZWN0IGFuZCByZWltcG9ydCBpdCwgb3IgdG8gY29weSBpdCdzIGNvbnRlbnRzIG1hbnVhbGx5LjwvcD5cblx0XHRcdFx0PHA+PGEgaHJlZj1cImh0dHBzOi8vd3d3LnRvcHRhbC5jb20vZGV2ZWxvcGVycy9qc29uLWZvcm1hdHRlclwiPlRvcHRhbCBKU09OIEZvcm1hdHRlcjwvYT4gY2FuIGhlbHAgdG8gZmluZCBlcnJvcnMgYW5kIGZvcm1hdCBKU09OIGRhdGEgZm9yIGVhc2llciBtYW51YWwgY29weWluZy4gT3BlbiB0aGUgZmlsZSBpbiBhIHRleHQgZWRpdG9yIChvciBkcmFnIGl0IGludG8gYSBicm93c2VyIHRhYiksIHRvIGNvcHkgdGhlIGNvbnRlbnRzIGludG8gdGhlIGZvcm1hdHRlci48L3A+YDtcblx0XHRcdFx0cmV0dXJuIHJlc29sdmUocmVzdWx0KTtcblx0XHRcdH1cblx0XHRcblxuXHRcdFx0Ly8gQmFpbCBpZiB0aGUgZmlsZSBoYXMgYmVlbiByZWFkIGNvcnJlY3RseSBidXQgZG9lc24ndCBtYXRjaCB0aGUgZXhwZWN0ZWQgS2VlcCBmb3JtYXRcblx0XHRcdGlmKCFvYmplY3RJc0tlZXBKc29uKGNvbnRlbnQpKSB7XG5cdFx0XHRcdHJlc3VsdC5sb2dTdGF0dXMgPSBMb2dTdGF0dXMuRXJyb3I7XG5cdFx0XHRcdHJlc3VsdC5kZXRhaWxzID0gYEpTT04gZmlsZSBkb2Vzbid0IG1hdGNoIHRoZSBleHBlY3RlZCBHb29nbGUgS2VlcCBmb3JtYXQgYW5kIHRoZXJlZm9yZSBjYW4ndCBiZSBpbXBvcnRlZC5gO1xuXHRcdFx0XHRyZXR1cm4gcmVzb2x2ZShyZXN1bHQpO1xuXHRcdFx0fVxuXG5cblx0XHRcdC8vIFRPRE86IFJlZmFjdG9yIHRoaXMgYXMgSXNGaWxlVHlwZVVzZXJBY2NlcHRlZCBmdW5jdGlvblxuXHRcdFx0Ly8gQWJvcnQgaWYgdXNlciBkb2Vzbid0IHdhbnQgdGhpcyB0eXBlIG9mIGZpbGVcblx0XHRcdGlmKGNvbnRlbnQuaXNBcmNoaXZlZCAmJiAhc2V0dGluZ3MuaW1wb3J0QXJjaGl2ZWQpIHtcblx0XHRcdFx0cmVzdWx0LmxvZ1N0YXR1cyA9IExvZ1N0YXR1cy5Ob3RlO1xuXHRcdFx0XHRyZXN1bHQuaWdub3JlZFJlYXNvbiA9IElnbm9yZUltcG9ydFJlYXNvbi5BcmNoaXZlZDtcblx0XHRcdFx0cmV0dXJuIHJlc29sdmUocmVzdWx0KTtcblx0XHRcdH1cblx0XHRcdGlmKGNvbnRlbnQuaXNUcmFzaGVkICYmICFzZXR0aW5ncy5pbXBvcnRUcmFzaGVkKSB7XG5cdFx0XHRcdHJlc3VsdC5sb2dTdGF0dXMgPSBMb2dTdGF0dXMuTm90ZTtcblx0XHRcdFx0cmVzdWx0Lmlnbm9yZWRSZWFzb24gPSBJZ25vcmVJbXBvcnRSZWFzb24uVHJhc2hlZDtcblx0XHRcdFx0cmV0dXJuIHJlc29sdmUocmVzdWx0KTtcblx0XHRcdH1cblxuXHRcdFx0XG5cdFx0XHRsZXQgcGF0aCA9IGAke2ZvbGRlci5wYXRofS8ke2ZpbGVuYW1lU2FuaXRpemUoY29udGVudC50aXRsZSB8fCBnZXROYW1lQW5kRXh0KGZpbGUubmFtZSkubmFtZSwgc2V0dGluZ3MpfWA7XG5cblxuXHRcdFx0Ly8gVE9ETzogUmVmYWN0b3IgdGhpcyBhcyBjcmVhdGVOZXdNYXJrZG93bkZpbGUgZnVuY3Rpb25cblx0XHRcdC8vIENyZWF0ZSBuZXcgZmlsZVxuXHRcdFx0cmVzdWx0Lm9ic2lkaWFuRmlsZXBhdGggPSBwYXRoO1xuXHRcdFx0bGV0IGZpbGVSZWY6IFRGaWxlO1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0ZmlsZVJlZiA9IGF3YWl0IGNyZWF0ZU5ld0VtcHR5TWRGaWxlKHZhdWx0LCBwYXRoLCB7fSk7XG5cdFx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0XHRyZXN1bHQubG9nU3RhdHVzID0gTG9nU3RhdHVzLkVycm9yO1xuXHRcdFx0XHRyZXN1bHQuZXJyb3IgPSBlcnJvcjtcblx0XHRcdFx0cmVzdWx0LmRldGFpbHMgPSBgPHA+UGxlYXNlIGNoZWNrIHRoZSBpbnRlbmRlZCBuYW1lIGRvZXNuJ3QgaW5jbHVkZSBhbnkgY2hhcmFjdGVycyBub3QgYWxsb3dlZCBieSB5b3VyIG9wZXJhdGluZyBzeXN0ZW0uIFRoaXMgY2FuIGhhcHBlbiBpZiB5b3UndmUgbW9kaWZpZWQgdGhlIGNoYXJhY3RlciBtYXBwaW5nIG9wdGlvbnMgaW4gdGhpcyBwbHVnaW4ncyBzZXR0aW5ncyBzbyB0aGF0IHRoZXkgZG9uJ3QgbWF0Y2ggeW91ciBvcGVyYXRpbmcgc3lzdGVtLjwvcD5gO1xuXHRcdFx0XHRyZXR1cm4gcmVzb2x2ZShyZXN1bHQpO1xuXHRcdFx0fVxuXHRcdFxuXG5cdFx0XHQvLyBUT0RPOiBSZWZhY3RvciB0aGlzIGFzIGFwcGVuZEtlZXBUYWdzIGZ1bmN0aW9uXG5cdFx0XHQvLyBBZGQgaW4gdGFncyB0byByZXByZXNlbnQgS2VlcCBwcm9wZXJ0aWVzXG5cdFx0XHR0cnkge1xuXHRcdFx0XHRzZXR0aW5ncy5hZGRDb2xvclRhZ3MgP1x0XHRcdFx0XHRcdFx0XHRhd2FpdCB2YXVsdC5hcHBlbmQoZmlsZVJlZiwgYCR7c2V0dGluZ3MudGFnTmFtZXMuY29sb3JQcmVwZW5kfSR7Y29udGVudC5jb2xvcn0gYCkgOiBudWxsO1xuXHRcdFx0XHRjb250ZW50LmlzUGlubmVkICYmIHNldHRpbmdzLmFkZFBpbm5lZFRhZ3MgP1x0XHRhd2FpdCB2YXVsdC5hcHBlbmQoZmlsZVJlZiwgYCR7c2V0dGluZ3MudGFnTmFtZXMuaXNQaW5uZWR9IGApIDpcdG51bGw7XG5cdFx0XHRcdGNvbnRlbnQuYXR0YWNobWVudHMgJiYgc2V0dGluZ3MuYWRkQXR0YWNobWVudFRhZ3MgP1x0YXdhaXQgdmF1bHQuYXBwZW5kKGZpbGVSZWYsIGAke3NldHRpbmdzLnRhZ05hbWVzLmhhc0F0dGFjaG1lbnR9IGApIDogbnVsbDtcblx0XHRcdFx0Y29udGVudC5pc0FyY2hpdmVkICYmIHNldHRpbmdzLmFkZEFyY2hpdmVkVGFncyA/XHRhd2FpdCB2YXVsdC5hcHBlbmQoZmlsZVJlZiwgYCR7c2V0dGluZ3MudGFnTmFtZXMuaXNBcmNoaXZlZH0gYCkgOiBudWxsO1xuXHRcdFx0XHRjb250ZW50LmlzVHJhc2hlZCAmJiBzZXR0aW5ncy5hZGRUcmFzaGVkVGFncyA/IFx0XHRhd2FpdCB2YXVsdC5hcHBlbmQoZmlsZVJlZiwgYCR7c2V0dGluZ3MudGFnTmFtZXMuaXNUcmFzaGVkfSBgKSA6IG51bGw7XG5cdFx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0XHRyZXN1bHQubG9nU3RhdHVzID0gTG9nU3RhdHVzLkVycm9yO1xuXHRcdFx0XHRyZXN1bHQuZXJyb3IgPSBlcnJvcjtcblx0XHRcdFx0cmVzdWx0LmRldGFpbHMgPSAnRXJyb3IgYWRkaW5nIHRhZ3MgdG8gdGhlIG5ldyBmaWxlLidcblx0XHRcdFx0cmV0dXJuIHJlc29sdmUocmVzdWx0KTtcblx0XHRcdH1cblxuXG5cdFx0XHQvLyBBZGQgaW4gdGFncyB0byByZXByZXNlbnQgS2VlcCBwcm9wZXJ0aWVzXG5cdFx0XHR0cnkge1xuXHRcdFx0XHRhcHBlbmRLZWVwTGFiZWxzKGZpbGVSZWYsIGNvbnRlbnQsIHNldHRpbmdzLCB2YXVsdCk7XG5cdFx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0XHRyZXN1bHQubG9nU3RhdHVzID0gTG9nU3RhdHVzLkVycm9yO1xuXHRcdFx0XHRyZXN1bHQuZXJyb3IgPSBlcnJvcjtcblx0XHRcdFx0cmVzdWx0LmRldGFpbHMgPSAnRXJyb3IgYWRkaW5nIGxhYmVscyB0byB0aGUgbmV3IGZpbGUuJ1xuXHRcdFx0XHRyZXR1cm4gcmVzb2x2ZShyZXN1bHQpO1xuXHRcdFx0fVxuXG5cblx0XHRcdC8vIFRPRE86IFJlZmFjdG9yIHRoaXMgYXMgYXBwZW5kVGV4dENvbnRlbnRcblx0XHRcdC8vIEFkZCBpbiB0ZXh0IGNvbnRlbnRcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGlmKGNvbnRlbnQudGV4dENvbnRlbnQpIHtcdC8vIFRPRE86IE1ha2UgdGhpcyBhIGJhaWwgbGluZSB3aXRob3V0IGVycm9yXG5cdFx0XHRcdFx0YXdhaXQgdmF1bHQuYXBwZW5kKGZpbGVSZWYsIGBcXG5cXG5gKTtcblx0XHRcdFx0XHRhd2FpdCB2YXVsdC5hcHBlbmQoZmlsZVJlZiwgYCR7Y29udGVudC50ZXh0Q29udGVudH1cXG5gKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdFx0cmVzdWx0LmxvZ1N0YXR1cyA9IExvZ1N0YXR1cy5FcnJvcjtcblx0XHRcdFx0cmVzdWx0LmVycm9yID0gZXJyb3I7XG5cdFx0XHRcdHJlc3VsdC5kZXRhaWxzID0gJ0Vycm9yIGFkZGluZyBwYXJhZ3JhcGggY29udGVudCB0byB0aGUgbmV3IGZpbGUuJ1xuXHRcdFx0XHRyZXR1cm4gcmVzb2x2ZShyZXN1bHQpO1xuXHRcdFx0fVxuXHRcdFx0XHRcblxuXHRcdFx0Ly8gVE9ETzogUmVmYWN0b3IgdGhpcyBhcyBhcHBlbmRMaXN0Q29udGVudCBmdW5jdGlvblxuXHRcdFx0Ly8gQWRkIGluIHRleHQgY29udGVudCBpZiBjaGVjayBib3hcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGlmKGNvbnRlbnQubGlzdENvbnRlbnQpIHtcdC8vIFRPRE86IE1ha2UgdGhpcyBhIGJhaWwgbGluZSB3aXRob3V0IGVycm9yXG5cdFx0XHRcdFx0YXdhaXQgdmF1bHQuYXBwZW5kKGZpbGVSZWYsIGBcXG5cXG5gKTtcblx0XHRcdFx0XHRmb3IobGV0IGk9MDsgaTxjb250ZW50Lmxpc3RDb250ZW50Lmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0XHRjb25zdCBsaXN0SXRlbSA9IGNvbnRlbnQubGlzdENvbnRlbnRbaV07XG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdC8vIFNraXAgdG8gbmV4dCBsaW5lIGlmIHRoaXMgb25lIGlzIGJsYW5rXG5cdFx0XHRcdFx0XHRpZighbGlzdEl0ZW0udGV4dCkgY29udGludWU7XG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdGxldCBsaXN0SXRlbUNvbnRlbnQgPSBgLSBbJHtsaXN0SXRlbS5pc0NoZWNrZWQgPyAnWCcgOiAnICd9XSAke2xpc3RJdGVtLnRleHR9XFxuYDtcblx0XHRcdFx0XHRcdGF3YWl0IHZhdWx0LmFwcGVuZChmaWxlUmVmLCBsaXN0SXRlbUNvbnRlbnQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdFx0cmVzdWx0LmxvZ1N0YXR1cyA9IExvZ1N0YXR1cy5FcnJvcjtcblx0XHRcdFx0cmVzdWx0LmVycm9yID0gZXJyb3I7XG5cdFx0XHRcdHJlc3VsdC5kZXRhaWxzID0gJ0Vycm9yIGFkZGluZyBsaXN0IGNvbnRlbnQgdG8gdGhlIG5ldyBmaWxlLidcblx0XHRcdFx0cmV0dXJuIHJlc29sdmUocmVzdWx0KTtcblx0XHRcdH1cblx0XHRcdFxuXG5cblx0XHRcdC8vIFRPRE86IFJlZmFjdG9yIHRoaXMgYXMgYXBwZW5kQXR0YWNobWVudHMgZnVuY3Rpb25cblx0XHRcdC8vIEVtYmVkIGF0dGFjaG1lbnRzXG5cdFx0XHQvLyBOT1RFOiBUaGUgZmlsZXMgZm9yIHRoZXNlIG1heSBub3QgaGF2ZSBiZWVuIGNyZWF0ZWQgeWV0LCBidXQgc2luY2UgaXQncyBqdXN0IG1hcmtkb3duIHRleHQsIHRoZXkgY2FuIGJlIGNyZWF0ZWQgYWZ0ZXIuXG5cdFx0XHRpZihjb250ZW50LmF0dGFjaG1lbnRzKSB7XG5cdFx0XHRcdGZvcihsZXQgaT0wOyBpPGNvbnRlbnQuYXR0YWNobWVudHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRjb25zdCBhdHRhY2htZW50ID0gY29udGVudC5hdHRhY2htZW50c1tpXTtcblx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0YXdhaXQgdmF1bHQuYXBwZW5kKGZpbGVSZWYsIGBcXG5cXG4hW1ske2F0dGFjaG1lbnQuZmlsZVBhdGh9XV1gKTtcblx0XHRcdFx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0XHRcdFx0cmVzdWx0LmxvZ1N0YXR1cyA9IExvZ1N0YXR1cy5FcnJvcjtcblx0XHRcdFx0XHRcdHJlc3VsdC5lcnJvciA9IGVycm9yO1xuXHRcdFx0XHRcdFx0cmVzdWx0LmRldGFpbHMgPSBgRXJyb3IgZW1iZWRkaW5nIGF0dGFjaG1lbnQgJyR7YXR0YWNobWVudC5maWxlUGF0aH0nIHRvIHRoZSBuZXcgZmlsZS5gO1xuXHRcdFx0XHRcdFx0cmV0dXJuIHJlc29sdmUocmVzdWx0KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXG5cblx0XHRcdC8vIFRPRE86IFJlZmFjdG9yIHRoaXMgYXMgcmVzZXRNb2RpZmllZERhdGUgZnVuY3Rpb25cblx0XHRcdC8vIFVwZGF0ZSBjcmVhdGVkIGFuZCBtb2RpZmllZCBkYXRlIHRvIG1hdGNoIEtlZXAgZGF0YSBpZiBkZXNpcmVkXG5cdFx0XHRpZihzZXR0aW5ncy5jcmVhdGVkRGF0ZSA9PT0gQ3JlYXRlZERhdGVUeXBlcy5nb29nbGVLZWVwKSB7XG5cdFx0XHRcdGNvbnN0IG9wdGlvbnM6IERhdGFXcml0ZU9wdGlvbnMgPSB7XG5cdFx0XHRcdFx0Y3RpbWU6IGNvbnRlbnQuY3JlYXRlZFRpbWVzdGFtcFVzZWMvMTAwMCxcblx0XHRcdFx0XHRtdGltZTogY29udGVudC51c2VyRWRpdGVkVGltZXN0YW1wVXNlYy8xMDAwXG5cdFx0XHRcdH1cblx0XHRcdFx0YXdhaXQgdmF1bHQuYXBwZW5kKGZpbGVSZWYsICcnLCBvcHRpb25zKTtcblx0XHRcdFx0Ly8gYXdhaXQgcGx1Z2luLmFwcC52YXVsdC5wcm9jZXNzKGZpbGVSZWYsIChzdHIpID0+IHN0ciwgb3B0aW9ucyk7XHQvLyBUT0RPOiBFcnJvciBpbiBkb2NzLiBFeGlzdHMgaW4gZG9jcyBidXQgbm90IGluIGNsYXNzXG5cdFx0XHR9XG5cblxuXHRcdFx0XG5cdFx0XHRyZXR1cm4gcmVzb2x2ZShyZXN1bHQpO1x0XG5cdFx0fVxuXHRcdFxuXHR9KVxuXHRcbn1cblxuXG5cbi8qKlxuICogQWRkcyBsYWJlbHMgZm91bmQgaW4gdGhlIEdvb2dsZSBLZWVwIGZpbGUgdG8gdGhlIHBhc3NlZCBpbiBtYXJrZG93biBmaWxlLlxuICovXG5hc3luYyBmdW5jdGlvbiBhcHBlbmRLZWVwTGFiZWxzKGZpbGVSZWY6IFRGaWxlLCBjb250ZW50OiBLZWVwSnNvbiwgc2V0dGluZ3M6IFBsdWdpblNldHRpbmdzLCB2YXVsdDogVmF1bHQpIHtcblx0aWYoIXNldHRpbmdzLmFkZExhYmVsVGFncykgcmV0dXJuO1xuXHRpZighY29udGVudC5sYWJlbHMpIHJldHVybjtcblxuXHRsZXQgbGFiZWxzID0gJyc7XG5cdGZvcihsZXQgaT0wOyBpPGNvbnRlbnQubGFiZWxzLmxlbmd0aDsgaSsrKSB7XG5cdFx0Y29uc3QgbmFtZSA9IGNvbnRlbnQubGFiZWxzW2ldLm5hbWUuc3BsaXQoJyAnKS5qb2luKCctJyk7XG5cdFx0aWYoaSA+IDApIGxhYmVscyArPSAnICc7XG5cdFx0bGFiZWxzICs9IHNldHRpbmdzLnRhZ05hbWVzLmxhYmVsUHJlcGVuZCArIG5hbWU7XG5cdH1cblx0YXdhaXQgdmF1bHQuYXBwZW5kKGZpbGVSZWYsIGxhYmVscyk7XG59XG5cblxuXG4vKipcbiAqIFJlY3JlYXRlcyBhbnkgYmluYXJ5IGZpbGUgaW4gdGhlIE9ic2lkaWFuIHZhdWx0LlxuICovXG5hc3luYyBmdW5jdGlvbiBpbXBvcnRCaW5hcnlGaWxlKHZhdWx0OiBWYXVsdCwgZm9sZGVyUGF0aDogc3RyaW5nLCBmaWxlOiBGaWxlKSA6IFByb21pc2U8SW1wb3J0UmVzdWx0PiB7XG4gICAgbGV0IGZpbGVSZWY6IFRGaWxlO1xuXHRsZXQgZm9sZGVyOiBURm9sZGVyO1xuXHRsZXQgcGF0aDogc3RyaW5nO1xuXHRjb25zdCByZXN1bHQ6IEltcG9ydFJlc3VsdCA9IHtcblx0XHRrZWVwRmlsZW5hbWU6IGZpbGUubmFtZSxcblx0XHRsb2dTdGF0dXM6IExvZ1N0YXR1cy5TdWNjZXNzLFxuXHR9XG5cdFxuXHQvLyBDcmVhdGUgZm9sZGVyXG5cdHRyeSB7XG5cdFx0Zm9sZGVyID0gYXdhaXQgZ2V0T3JDcmVhdGVGb2xkZXIoZm9sZGVyUGF0aCwgdmF1bHQpO1xuXHRcdHBhdGggPSBgJHtmb2xkZXIucGF0aH0vJHtmaWxlLm5hbWV9YDtcblx0fSBjYXRjaChlKSB7XG5cdFx0Y29uc29sZS5sb2coZSk7XG5cdFx0cmVzdWx0LmxvZ1N0YXR1cyA9IExvZ1N0YXR1cy5FcnJvcjtcblx0XHRyZXN1bHQuZGV0YWlscyA9IGA8cD5FcnJvciBjcmVhdGluZyBmb2xkZXIgJyR7Zm9sZGVyUGF0aH0nLjwvcD5cblx0XHQ8cD5QbGVhc2UgY2hlY2sgaXQgZG9lc24ndCBpbmNsdWRlIGFueSBjaGFyYWN0ZXJzIG5vdCBhbGxvd2VkIGJ5IHlvdXIgb3BlcmF0aW5nIHN5c3RlbS4gVGhpcyBjYW4gaGFwcGVuIGlmIHlvdSd2ZSBtb2RpZmllZCB0aGUgY2hhcmFjdGVyIG1hcHBpbmcgb3B0aW9ucyBpbiB0aGUgc2V0dGluZ3Mgc28gdGhhdCB0aGV5IGRvbid0IG1hdGNoIHlvdXIgb3BlcmF0aW5nIHN5c3RlbS48L3A+YDtcblx0XHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlc3VsdCk7XG5cdH1cblxuXHQvLyBDcmVhdGUgZmlsZVxuXHR0cnkge1xuXHRcdGZpbGVSZWYgPSBhd2FpdCB2YXVsdC5jcmVhdGVCaW5hcnkocGF0aCwgYXdhaXQgZmlsZS5hcnJheUJ1ZmZlcigpKTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXN1bHQubG9nU3RhdHVzID0gTG9nU3RhdHVzLkVycm9yO1xuXHRcdHJlc3VsdC5lcnJvciA9IGVycm9yO1xuXHRcdHJlc3VsdC5kZXRhaWxzID0gYEVycm9yIGNyZWF0aW5nIGZpbGUgYXQgJyR7cGF0aH0nLmA7XG5cdFx0cmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXN1bHQpO1xuXHR9XG4gICAgXG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXN1bHQpO1xufVxuXG5cblxuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5TWFwcGluZ1ByZXNldChwcmVzZXRUeXBlOiBNYXBwaW5nUHJlc2V0cywgc2V0dGluZ3M6IFBsdWdpblNldHRpbmdzKSB7XG5cdGlmKHByZXNldFR5cGUgPT09IE1hcHBpbmdQcmVzZXRzLmFwcGxlT3JBbmRyb2lkKSB7XG5cdFx0c2V0dGluZ3MuaW52YWxpZENoYXJzID0gSlNPTi5wYXJzZSggSlNPTi5zdHJpbmdpZnkoaW52YWxpZENoYXJzX2FwcGxlT3JBbmRyb2lkUHJlc2V0KSApO1xuXHRcdFxuXHR9IGVsc2UgaWYocHJlc2V0VHlwZSA9PT0gTWFwcGluZ1ByZXNldHMubGludXgpIHtcblx0XHRzZXR0aW5ncy5pbnZhbGlkQ2hhcnMgPSBKU09OLnBhcnNlKCBKU09OLnN0cmluZ2lmeShpbnZhbGlkQ2hhcnNfbGludXhQcmVzZXQpICk7XG5cdFx0XG5cdH0gZWxzZSB7XG5cdFx0c2V0dGluZ3MuaW52YWxpZENoYXJzID0gSlNPTi5wYXJzZSggSlNPTi5zdHJpbmdpZnkoaW52YWxpZENoYXJzX2FsbE9yV2luZG93c1ByZXNldCkgKTtcblx0fVxufVxuXG5cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE1hdGNoaW5nUHJlc2V0KGludmFsaWRDaGFyczogQXJyYXk8Q2hhck1hcD4pOiBzdHJpbmcge1xuXHRmdW5jdGlvbiBhcnJheXNFcXVhbChhcnIxOiBDaGFyTWFwW10sIGFycjI6IENoYXJNYXBbXSk6IGJvb2xlYW4ge1xuXHRcdGlmIChhcnIxLmxlbmd0aCAhPT0gYXJyMi5sZW5ndGgpIHJldHVybiBmYWxzZTtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGFycjEubGVuZ3RoOyBpKyspIHtcblx0XHRcdGlmIChhcnIxW2ldLmNoYXIgIT09IGFycjJbaV0uY2hhciB8fCBhcnIxW2ldLnJlcGxhY2VtZW50ICE9PSBhcnIyW2ldLnJlcGxhY2VtZW50KSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHQvLyBEZWZpbmUgeW91ciBwcmVzZXRzXG5cdGNvbnN0IHByZXNldHM6IEFycmF5PFtzdHJpbmcsIENoYXJNYXBbXV0+ID0gW1xuXHRcdFtNYXBwaW5nUHJlc2V0cy5hbGxPcldpbmRvd3MsIGludmFsaWRDaGFyc19hbGxPcldpbmRvd3NQcmVzZXRdLFxuXHRcdFtNYXBwaW5nUHJlc2V0cy5hcHBsZU9yQW5kcm9pZCwgaW52YWxpZENoYXJzX2FwcGxlT3JBbmRyb2lkUHJlc2V0XSxcblx0XHRbTWFwcGluZ1ByZXNldHMubGludXgsIGludmFsaWRDaGFyc19saW51eFByZXNldF0sXG5cdF07XG5cblx0Ly8gQ2hlY2sgZm9yIGEgbWF0Y2hpbmcgcHJlc2V0XG5cdGZvciAoY29uc3QgW3ByZXNldE5hbWUsIHByZXNldENoYXJzXSBvZiBwcmVzZXRzKSB7XG5cdFx0aWYgKGFycmF5c0VxdWFsKGludmFsaWRDaGFycywgcHJlc2V0Q2hhcnMpKSB7XG5cdFx0XHRyZXR1cm4gcHJlc2V0TmFtZTtcblx0XHR9XG5cdH1cblx0XG5cdHJldHVybiBNYXBwaW5nUHJlc2V0cy5hbGxPcldpbmRvd3M7XG59XG5cbiIsICJpbXBvcnQgeyBNb2RhbCwgU2V0dGluZyB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHsgSW1wb3J0U3VtbWFyeSB9IGZyb20gXCJzcmMvY29tcG9uZW50cy9pbXBvcnQtc3VtbWFyeS9pbXBvcnQtc3VtbWFyeVwiO1xuaW1wb3J0IHsgU3VwcG9ydEJ1dHRvblNldCB9IGZyb20gXCJzcmMvY29tcG9uZW50cy9zdXBwb3J0LWJ1dHRvbi1zZXQvc3VwcG9ydC1idXR0b24tc2V0XCI7XG5pbXBvcnQgeyBGaWxlSW1wb3J0ZXIgfSBmcm9tIFwic3JjL2xvZ2ljL2ltcG9ydC1sb2dpY1wiO1xuaW1wb3J0IEdvb2dsZUtlZXBJbXBvcnRQbHVnaW4gZnJvbSBcInNyYy9tYWluXCI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5cbmV4cG9ydCBjbGFzcyBJbXBvcnRQcm9ncmVzc01vZGFsIGV4dGVuZHMgTW9kYWwge1xuXHRmaWxlSW1wb3J0ZXI6IEZpbGVJbXBvcnRlcjtcblx0cmVzdWx0OiBzdHJpbmc7XG5cdG1vZGFsSGVhZGVyRGl2OiBIVE1MRGl2RWxlbWVudDtcblx0YmFyOiBIVE1MRGl2RWxlbWVudDtcblx0cmVtYWluaW5nU3BhbjogSFRNTFNwYW5FbGVtZW50O1xuXHRza2lwcGVkU3BhbjogSFRNTFNwYW5FbGVtZW50O1xuXHRmYWlsZWRTcGFuOiBIVE1MU3BhbkVsZW1lbnQ7XG5cdGltcG9ydGVkU3BhbjogSFRNTFNwYW5FbGVtZW50O1xuXHRvdXRwdXRTdHI6IHN0cmluZyA9ICcnO1xuXHRvdXRwdXRMb2dFbDogSFRNTFBhcmFncmFwaEVsZW1lbnQ7XG5cdGltcG9ydENvbXBsZXRlZDogQm9vbGVhbiA9IGZhbHNlO1xuXHRtb2RhbEFjdGlvbnM6IFNldHRpbmc7XG5cblx0cmVzb2x2ZU1vZGFsOiAodmFsdWU6IHN0cmluZykgPT4gdm9pZDtcblx0cmVqZWN0TW9kYWw6ICh2YWx1ZTogc3RyaW5nKSA9PiB2b2lkO1xuXG5cdGNvbnN0cnVjdG9yKHBsdWdpbjogR29vZ2xlS2VlcEltcG9ydFBsdWdpbiwgZmlsZUltcG9ydGVyOiBGaWxlSW1wb3J0ZXIpIHtcblx0XHRzdXBlcihwbHVnaW4uYXBwKTtcblx0XHR0aGlzLmZpbGVJbXBvcnRlciA9IGZpbGVJbXBvcnRlclxuXHR9XG5cblx0LyoqXG5cdCAqIE9wZW5zIHRoZSBtb2RhbCBhbmQgcmV0dXJucyBvZiBhIHJlc3VsdC5cblx0ICovXG5cdHB1YmxpYyBzaG93TW9kYWwoKSB7XG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHRcdHRoaXMub3BlbigpO1xuXHRcdFx0dGhpcy5yZXNvbHZlTW9kYWwgPSByZXNvbHZlO1xuXHRcdFx0dGhpcy5yZWplY3RNb2RhbCA9IHJlamVjdDtcblx0XHR9KVxuXHR9XG5cblx0LyoqXG5cdCAqIENhbGxlZCBhdXRvbWF0aWNhbGx5IGJ5IHRoZSBNb2RhbCBjbGFzcyB3aGVuIG1vZGFsIGlzIG9wZW5lZC5cblx0ICovXG5cdHB1YmxpYyBvbk9wZW4oKSB7XG5cdFx0Y29uc3Qge3RpdGxlRWwsIGNvbnRlbnRFbH0gPSB0aGlzO1xuXG5cdFx0dGl0bGVFbC5zZXRUZXh0KCdJbXBvcnQgaW4gcHJvZ3Jlc3MnKTtcblx0XHR0aGlzLm1vZGFsSGVhZGVyRGl2ID0gY29udGVudEVsLmNyZWF0ZURpdigpO1xuXHRcdGNvbnN0IHByb2dyZXNzQmFyRWwgPSBjb250ZW50RWwuY3JlYXRlRWwoJ2RpdicsIHtjbHM6ICdna2lfcHJvZ3Jlc3MtYmFyJ30pO1xuXHRcdHRoaXMuYmFyID0gcHJvZ3Jlc3NCYXJFbC5jcmVhdGVFbCgnZGl2Jywge2NsczogJ2draV9iYXInfSk7XHRcblx0XHRcblx0XHRsZXQgaW1wb3J0U3VtbWFyeSA9IG5ldyBJbXBvcnRTdW1tYXJ5KGNvbnRlbnRFbCk7XG5cdFx0dGhpcy5yZW1haW5pbmdTcGFuID0gaW1wb3J0U3VtbWFyeS5hZGRJdGVtKCdyZW1haW5pbmcnKTtcblx0XHR0aGlzLnNraXBwZWRTcGFuID0gaW1wb3J0U3VtbWFyeS5hZGRJdGVtKCdza2lwcGVkJyk7XG5cdFx0dGhpcy5mYWlsZWRTcGFuID0gaW1wb3J0U3VtbWFyeS5hZGRJdGVtKCdmYWlsZWQnKTtcblx0XHR0aGlzLmltcG9ydGVkU3BhbiA9IGltcG9ydFN1bW1hcnkuYWRkSXRlbSgnaW1wb3J0ZWQnKTtcblxuXHRcdHRoaXMub3V0cHV0TG9nRWwgPSBjb250ZW50RWwuY3JlYXRlRGl2KCdna2lfZXJyb3ItbG9nJyk7XG5cblx0XHR0aGlzLm1vZGFsQWN0aW9ucyA9IG5ldyBTZXR0aW5nKHRoaXMuY29udGVudEVsKTtcblx0XHRuZXcgU3VwcG9ydEJ1dHRvblNldCh0aGlzLm1vZGFsQWN0aW9ucyk7XG5cblx0XHR0aGlzLnVwZGF0ZVByb2dyZXNzVmlzdWFscygpXG5cdH1cblxuXHQvKipcblx0ICogVGVsbHMgdGhlIG1vZGFsIHRvIGNoZWNrIHRoZSBmaWxlSW1wb3J0ZXIgdGhhdCB3YXMgcGFzc2VkIGluIG9uIGluc3RhbnRpYXRpb24gYW5kIHVwZGF0ZSB0aGUgcHJvZ3Jlc3MuXG5cdCAqL1xuXHRwcml2YXRlIHVwZGF0ZVByb2dyZXNzVmlzdWFscygpIHtcblxuXHRcdGNvbnN0IHRvdGFsSW1wb3J0cyA9IHRoaXMuZmlsZUltcG9ydGVyLmdldFRvdGFsSW1wb3J0cygpO1xuXHRcdGNvbnN0IHtcblx0XHRcdHN1Y2Nlc3NDb3VudCxcblx0XHRcdHNraXBDb3VudCxcblx0XHRcdGZhaWxDb3VudCxcblx0XHRcdG5ld0xvZ0VudHJpZXMsXG5cdFx0fSA9IHRoaXMuZmlsZUltcG9ydGVyLmdldExhdGVzdFByb2dyZXNzKCk7XG5cblx0XHQvLyBVcGRhdGUgYmFyIHZpc3VhbFxuXHRcdGNvbnN0IHBlcmMgPSAoc3VjY2Vzc0NvdW50ICsgc2tpcENvdW50ICsgZmFpbENvdW50KS90b3RhbEltcG9ydHMgKiAxMDA7XG5cdFx0dGhpcy5iYXIuc2V0QXR0cignc3R5bGUnLCBgd2lkdGg6ICR7cGVyY30lYCk7XG5cblx0XHQvLyBVcGRhdGUgdGV4dFxuXHRcdHRoaXMucmVtYWluaW5nU3Bhbi5zZXRUZXh0KGAke3RvdGFsSW1wb3J0cy1zdWNjZXNzQ291bnQtZmFpbENvdW50LXNraXBDb3VudH1gKTtcblx0XHR0aGlzLnNraXBwZWRTcGFuLnNldFRleHQoYCR7c2tpcENvdW50fWApO1xuXHRcdHRoaXMuZmFpbGVkU3Bhbi5zZXRUZXh0KGAke2ZhaWxDb3VudH1gKTtcblx0XHR0aGlzLmltcG9ydGVkU3Bhbi5zZXRUZXh0KGAke3N1Y2Nlc3NDb3VudH1gKTtcblxuXHRcdC8vIFVwZGF0ZSBvdXRwdXQgbG9nXG5cdFx0Zm9yKGxldCBpPTA7IGk8bmV3TG9nRW50cmllcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dGhpcy5hZGRPdXRwdXRMaW5lKG5ld0xvZ0VudHJpZXNbaV0pO1xuXHRcdH1cblxuXHRcdC8vIEZpbmFsaXNlIG9yIGNvbnRpbnVlIG9uIG5leHQgZnJhbWVcblx0XHRpZihzdWNjZXNzQ291bnQgKyBza2lwQ291bnQgKyBmYWlsQ291bnQgPT0gdG90YWxJbXBvcnRzKSB7XG5cdFx0XHR0aGlzLmltcG9ydENvbXBsZXRlZCA9IHRydWU7XG5cdFx0XHR0aGlzLmFwcGx5Q29tcGxldGVkU3RhdGUoKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB0aGlzLnVwZGF0ZVByb2dyZXNzVmlzdWFscygpKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogQWRkcyBhIG5ldyBsaW5lIHRvIHRoZSBvdXRwdXQgbG9nLlxuXHQgKi9cblx0cHJpdmF0ZSBhZGRPdXRwdXRMaW5lKG9wdGlvbnM6IHtzdGF0dXM6IHN0cmluZywgdGl0bGU6IHN0cmluZywgZGVzYzogc3RyaW5nfSkge1xuXHRcdGNvbnN0IGl0ZW1FbCA9IHRoaXMub3V0cHV0TG9nRWwuY3JlYXRlRGl2KHtjbHM6ICdna2lfaXRlbSd9KTtcblxuXHRcdGNvbnN0IGl0ZW1IZWFkZXJFbCA9IGl0ZW1FbC5jcmVhdGVFbCgncCcsIHtjbHM6ICdna2lfaXRlbS1oZWFkZXInfSk7XG5cdFx0Y29uc3Qgc3RhdHVzQ2xhc3MgPSBvcHRpb25zLnN0YXR1cy50b0xvd2VyQ2FzZSgpO1xuXHRcdGl0ZW1IZWFkZXJFbC5jcmVhdGVFbCgnc3BhbicsIHtjbHM6IGBna2lfc3RhdHVzICR7c3RhdHVzQ2xhc3N9YH0pLnNldFRleHQob3B0aW9ucy5zdGF0dXMpO1xuXHRcdGl0ZW1IZWFkZXJFbC5jcmVhdGVFbCgnc3BhbicsIHtjbHM6ICdna2lfdGl0bGUnfSkuc2V0VGV4dChvcHRpb25zLnRpdGxlKTtcblxuXHRcdGNvbnN0IGl0ZW1Cb2R5RWwgPSBpdGVtRWwuY3JlYXRlRWwoJ3AnLCB7Y2xzOiAnZ2tpX2l0ZW0tYm9keSd9KTtcblx0XHQvLyBpdGVtQm9keUVsLmNyZWF0ZUVsKCdwJywge2NsczogJ2draV9kZXNjJ30pLnNldFRleHQob3B0aW9ucy5kZXNjKTtcblx0XHRpdGVtQm9keUVsLmNyZWF0ZUVsKCdwJywge2NsczogJ2draV9kZXNjJ30pLmlubmVySFRNTCA9IG9wdGlvbnMuZGVzYztcdC8vIFJFVklFVzogVXNlZCBpbm5lckhUTUwgdG8gc3VwcG9ydCBsaW5rcy4gSXMgaXQgdW5zYWZlIGluIHRoaXMgY29udGV4dD9cblx0XHRcblx0XHR0aGlzLm91dHB1dExvZ0VsLmFkZENsYXNzKCdna2lfdmlzaWJsZScpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJlc3R5bGVzIHRoZSBtb2RhbCB0byBpbmRpY2F0ZSB0aGUgdXBsb2FkcyBoYXZlIGNvbXBsZXRlZC5cblx0ICovXG5cdHB1YmxpYyBhcHBseUNvbXBsZXRlZFN0YXRlKCkge1xuXHRcdHRoaXMudGl0bGVFbC5lbXB0eSgpO1xuXHRcdHRoaXMubW9kYWxIZWFkZXJEaXYuY3JlYXRlRWwoJ2gxJywge3RleHQ6ICdJbXBvcnQgQ29tcGxldGUnfSk7XG5cdFx0dGhpcy5tb2RhbEFjdGlvbnMuYWRkQnV0dG9uKGJ0biA9PiB7XG5cdFx0XHRidG4uc2V0Q3RhKCk7XG5cdFx0XHRidG4uc2V0Q2xhc3MoJ2draV9idXR0b24nKTtcblx0XHRcdGJ0bi5zZXRCdXR0b25UZXh0KCdDbG9zZScpO1xuXHRcdFx0YnRuLm9uQ2xpY2soIChlKSA9PiB7XG5cdFx0XHRcdHRoaXMuY2xvc2UoKTtcblx0XHRcdH0pXG5cdFx0fSlcblx0fVxuXG5cdC8qKlxuXHQgKiBDYWxsZWQgYXV0b21hdGljYWxseSBieSB0aGUgTW9kYWwgY2xhc3Mgd2hlbiB0aGUgbW9kYWwgaXMgY2xvc2VkLlxuXHQgKi9cblx0cHVibGljIG9uQ2xvc2UoKSB7XG5cdFx0dGhpcy50aXRsZUVsLmVtcHR5KCk7XG5cdFx0dGhpcy5jb250ZW50RWwuZW1wdHkoKTtcblxuXHRcdGlmKCF0aGlzLmltcG9ydENvbXBsZXRlZCkge1xuXHRcdFx0dGhpcy5yZWplY3RNb2RhbCgnSW1wb3J0IGNhbmNlbGxlZCcpO1xuXHRcdH1cblx0fVxufVxuXG5cblxuXG4iLCAiXG5cbi8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8vLy8vLy8vLy8vLy8vLy9cblxuXG5leHBvcnQgY2xhc3MgSW1wb3J0U3VtbWFyeSB7XG4gICAgc3VtbWFyeUVsOiBIVE1MRWxlbWVudDtcblxuICAgIGNvbnN0cnVjdG9yKHBhcmVudEVsOiBIVE1MRWxlbWVudCkge1xuICAgICAgICB0aGlzLnN1bW1hcnlFbCA9IHBhcmVudEVsLmNyZWF0ZURpdignZ2tpX2ltcG9ydC1zdW1tYXJ5Jyk7XG4gICAgfVxuXG4gICAgaGlkZSgpIHtcbiAgICAgICAgdGhpcy5zdW1tYXJ5RWwuYWRkQ2xhc3MoJ2draV9oaWRkZW4nKTtcbiAgICB9XG4gICAgXG4gICAgc2hvdygpIHtcbiAgICAgICAgdGhpcy5zdW1tYXJ5RWwuYWRkQ2xhc3MoJ2draV9zbW9vdGgtYXBwZWFyJyk7XG4gICAgICAgIHRoaXMuc3VtbWFyeUVsLnJlbW92ZUNsYXNzKCdna2lfaGlkZGVuJyk7XG4gICAgfVxuXG4gICAgYWRkSXRlbShsYWJlbDogc3RyaW5nKTogSFRNTFNwYW5FbGVtZW50IHtcbiAgICAgICAgbGV0IGJ1YmJsZUVsOiBIVE1MRGl2RWxlbWVudDtcblx0XHRsZXQgcEJ1YmJsZUVsOiBIVE1MUGFyYWdyYXBoRWxlbWVudDtcbiAgICAgICAgbGV0IHZhbHVlU3BhbjogSFRNTFNwYW5FbGVtZW50O1xuXG4gICAgICAgIGJ1YmJsZUVsID0gdGhpcy5zdW1tYXJ5RWwuY3JlYXRlRGl2KCdna2lfaW1wb3J0LWltcG9ydGVkJyk7XG5cdFx0cEJ1YmJsZUVsID0gYnViYmxlRWwuY3JlYXRlRWwoJ3AnKTtcblx0XHR2YWx1ZVNwYW4gPSBwQnViYmxlRWwuY3JlYXRlRWwoJ3NwYW4nLCB7Y2xzOiAnZ2tpX2ltcG9ydC1udW1iZXInLCB0ZXh0OiBgMGB9KTtcblx0XHRwQnViYmxlRWwuY3JlYXRlRWwoJ2JyJyk7XG5cdFx0cEJ1YmJsZUVsLmNyZWF0ZUVsKCdzcGFuJywge2NsczogJ2draV9pbXBvcnQtbGFiZWwnLCB0ZXh0OiBsYWJlbH0pO1xuXG4gICAgICAgIHJldHVybiB2YWx1ZVNwYW47XG4gICAgfVxufSIsICJpbXBvcnQgeyBTZXR0aW5nIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5cblxuXG5leHBvcnQgY2xhc3MgU3VwcG9ydEJ1dHRvblNldCB7XG5cbiAgICBjb25zdHJ1Y3RvcihzZXR0aW5nRWw6IFNldHRpbmcpIHtcbiAgICAgICAgc2V0dGluZ0VsLmFkZEJ1dHRvbihidG4gPT4ge1xuICAgICAgICAgICAgYnRuLnNldENsYXNzKCdna2lfYnV0dG9uJyk7XG4gICAgICAgICAgICBidG4uc2V0VG9vbHRpcCgnQ29udGFjdCBAZGFsZWRlc2lsdmFAaW5kaWV3ZWIuc29jaWFsJyk7XG4gICAgICAgICAgICBidG4uc2V0SWNvbignbWFzdG9kb24nKTtcbiAgICAgICAgICAgIGJ0bi5vbkNsaWNrKCAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5vcGVuKCdodHRwczovL2luZGlld2ViLnNvY2lhbC9AZGFsZWRlc2lsdmEnLCAnX2JsYW5rJyk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgICBzZXR0aW5nRWwuYWRkQnV0dG9uKGJ0biA9PiB7XG4gICAgICAgICAgICBidG4uc2V0Q2xhc3MoJ2draV9idXR0b24nKTtcbiAgICAgICAgICAgIGJ0bi5zZXRUb29sdGlwKCdDb250YWN0IEBkYWxlZGVzaWx2YScpO1xuICAgICAgICAgICAgYnRuLnNldEljb24oJ3R3aXR0ZXInKTtcbiAgICAgICAgICAgIGJ0bi5vbkNsaWNrKCAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5vcGVuKCdodHRwczovL3R3aXR0ZXIuY29tL2RhbGVkZXNpbHZhJywgJ19ibGFuaycpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICAgICAgc2V0dGluZ0VsLmFkZEJ1dHRvbihidG4gPT4ge1xuICAgICAgICAgICAgYnRuLnNldENsYXNzKCdna2lfYnV0dG9uJyk7XG4gICAgICAgICAgICBidG4uc2V0VG9vbHRpcCgnU3VwcG9ydCBkZXZlbG9wZXInKTtcbiAgICAgICAgICAgIGJ0bi5zZXRJY29uKCdoZWFydCcpO1xuICAgICAgICAgICAgYnRuLm9uQ2xpY2soIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgd2luZG93Lm9wZW4oJ2h0dHBzOi8va28tZmkuY29tL040TjNKTFVDVycsICdfYmxhbmsnKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfVxuXG59XG4iLCAiXG5cbi8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8vLy8vLy8vLy8vLy8vLy9cblxuaW1wb3J0IHsgTWFwcGluZ1ByZXNldHMsIFBsdWdpblNldHRpbmdzIH0gZnJvbSBcInNyYy90eXBlcy9wbHVnaW4tc2V0dGluZ3NcIjtcblxuXG4vKipcbiAqIFRha2VzIGEgdmFsdWUgYW5kIHN0cmluZyBhbmQgYWRkcyBhbmQgcGx1cmFsaXNlcyB0aGUgd29yZCBpZiBuZWVkZWQuXG4gKiBCeSBkZWZhdWx0LCBpdCBqdXN0IGFkZHMgYW4gUyBvbiB0aGUgZW5kLCBidXQgaWYgYSBwbHVyYWxWZXJzaW9uIGlzIHBhc3NlZCBpdCB3aWxsIHVzZSB0aGF0LlxuICovXG5leHBvcnQgY29uc3Qgc2luZ2xlT3JQbHVyYWwgPSAoY291bnQ6IG51bWJlciwgc2luZ2xlVmVyc2lvbjogc3RyaW5nLCBwbHVyYWxWZXJzaW9uPzogc3RyaW5nKSA9PiB7XG5cdGlmKGNvdW50ID09IDEgfHwgY291bnQgPT0gLTEpIHtcblx0XHRyZXR1cm4gc2luZ2xlVmVyc2lvbjtcblx0fSBlbHNlIHtcblx0XHRpZihwbHVyYWxWZXJzaW9uKSB7XG5cdFx0XHQvLyBjdXN0b20gcGx1cmFsIHZlcnNpb24gcGFzc2VkIGluXG5cdFx0XHRyZXR1cm4gcGx1cmFsVmVyc2lvbjtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8ganVzdCBhZGQgYW4gc1xuXHRcdFx0cmV0dXJuIGAke3NpbmdsZVZlcnNpb259c2A7XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogUmVtb3ZlcyBjaGFyYWN0ZXJzIGZyb20gYSBzdHJpbmcgdGhhdCBjYW5ub3QgYmUgdXNlZCBpbiBmaWxlbmFtZXMgYW5kIHJldHVybnMgYSBuZXcgc3RyaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZmlsZW5hbWVTYW5pdGl6ZShzdHI6IHN0cmluZywgc2V0dGluZ3M6IFBsdWdpblNldHRpbmdzKSB7XG5cdGxldCBuYW1lU3RyID0gc3RyO1xuXG5cdC8vIHJlbWFwIHByb2JsZW0gY2hhcmFjdGVyc1xuXHRmb3IobGV0IGk9MDsgaTxzZXR0aW5ncy5wcm9ibGVtQ2hhcnMubGVuZ3RoOyBpKyspIHtcblx0XHRjb25zdCBwcm9ibGVtQ2hhciA9IHNldHRpbmdzLnByb2JsZW1DaGFyc1tpXS5jaGFyO1xuXHRcdGNvbnN0IHJlcGxhY2VtZW50ID0gc2V0dGluZ3MucHJvYmxlbUNoYXJzW2ldLnJlcGxhY2VtZW50O1xuXHRcdG5hbWVTdHIgPSBuYW1lU3RyLnNwbGl0KHByb2JsZW1DaGFyKS5qb2luKHJlcGxhY2VtZW50KTtcblx0fVxuXG5cdC8vIFJlbWFwIGludmFsaWQgY2hhcmFjdGVyc1xuXHRmb3IobGV0IGk9MDsgaTxzZXR0aW5ncy5pbnZhbGlkQ2hhcnMubGVuZ3RoOyBpKyspIHtcblx0XHRjb25zdCBpbnZhbGlkQ2hhciA9IHNldHRpbmdzLmludmFsaWRDaGFyc1tpXS5jaGFyO1xuXHRcdGNvbnN0IHJlcGxhY2VtZW50ID0gc2V0dGluZ3MuaW52YWxpZENoYXJzW2ldLnJlcGxhY2VtZW50O1xuXHRcdG5hbWVTdHIgPSBuYW1lU3RyLnNwbGl0KGludmFsaWRDaGFyKS5qb2luKHJlcGxhY2VtZW50KS50cmltKCk7XG5cdH1cblxuXHRyZXR1cm4gbmFtZVN0cjtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGNoYXJhY3RlcnMgZnJvbSBhIGZvbGRlciB0aGF0IGNhbm5vdCBiZSB1c2VkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZm9sZGVyUGF0aFNhbml0aXplKHN0cjogc3RyaW5nLCBzZXR0aW5nczogUGx1Z2luU2V0dGluZ3MpIHtcblx0bGV0IHBhdGhBcnI7XG5cdGxldCBwYXRoU3RyID0gc3RyO1xuXG5cdC8vIHBhdGgncyBoYXZlIC8gdG8gZGVub3QgbmV3IGZvbGRlcnMsIHNvIHJlbW92ZSB0aGVtIGR1cmluZyBzYW50aXNpbmcgYW5kIGFkZCBiYWNrIGFmdGVyLlxuXHRwYXRoQXJyID0gcGF0aFN0ci5zcGxpdCgnLycpO1xuXHRcblx0Zm9yKGxldCBqPTA7IGo8cGF0aEFyci5sZW5ndGg7IGorKyl7XG5cdFx0XG5cdFx0Ly8gcmVtYXAgcHJvYmxlbSBjaGFyYWN0ZXJzXG5cdFx0Zm9yKGxldCBpPTA7IGk8c2V0dGluZ3MucHJvYmxlbUNoYXJzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRjb25zdCBwcm9ibGVtQ2hhciA9IHNldHRpbmdzLnByb2JsZW1DaGFyc1tpXS5jaGFyO1xuXHRcdFx0Y29uc3QgcmVwbGFjZW1lbnQgPSBzZXR0aW5ncy5wcm9ibGVtQ2hhcnNbaV0ucmVwbGFjZW1lbnQ7XG5cdFx0XHRwYXRoQXJyW2pdID0gcGF0aEFycltqXS5zcGxpdChwcm9ibGVtQ2hhcikuam9pbihyZXBsYWNlbWVudCkudHJpbSgpO1xuXHRcdH1cblx0XHRcblx0XHQvLyBSZW1hcCBpbnZhbGlkIGNoYXJhY3RlcnNcblx0XHRmb3IobGV0IGk9MDsgaTxzZXR0aW5ncy5pbnZhbGlkQ2hhcnMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGNvbnN0IGludmFsaWRDaGFyID0gc2V0dGluZ3MuaW52YWxpZENoYXJzW2ldLmNoYXI7XG5cdFx0XHRjb25zdCByZXBsYWNlbWVudCA9IHNldHRpbmdzLmludmFsaWRDaGFyc1tpXS5yZXBsYWNlbWVudDtcblx0XHRcdHBhdGhBcnJbal0gPSBwYXRoQXJyW2pdLnNwbGl0KGludmFsaWRDaGFyKS5qb2luKHJlcGxhY2VtZW50KS50cmltKCk7XG5cdFx0fVxuXHRcdFxuXHR9XG5cdFxuXHRwYXRoU3RyID0gcGF0aEFyci5qb2luKCcvJyk7XG5cblx0Ly8gUmVtb3ZlIHRyYWlsaW5nIC8gaW5jYXNlIGNoYW5nZXMgYWJvdmUgcHV0IGEgc2xhc2ggYXQgdGhlIGVuZFxuXHR3aGlsZShwYXRoU3RyLnNsaWNlKC0xKSA9PSAnLycpIHtcblx0XHRwYXRoU3RyID0gcGF0aFN0ci5zbGljZSgwLC0xKS50cmltKCk7XG5cdH1cblxuXHRyZXR1cm4gcGF0aFN0cjtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBmaWxlIGV4dGVuc2lvbiB3aGVuIHBhc3NlZCBhIGZpbGVuYW1lIHN0cmluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEZpbGVFeHRlbnNpb24oZmlsZW5hbWU6IHN0cmluZyk6IHN0cmluZyB7XG5cdGxldCBmaWxlQW5kRXh0ID0gZmlsZW5hbWUuc3BsaXQoJy4nKVxuXHRpZihmaWxlQW5kRXh0Lmxlbmd0aCA8PSAxKSByZXR1cm4gJyc7XG5cblx0bGV0IGV4dCA9IGZpbGVBbmRFeHQucG9wKCk7XG5cdGlmKGV4dCkge1xuXHRcdHJldHVybiBleHQudG9Mb3dlckNhc2UoKTtcblx0fSBlbHNlIHtcblx0XHRyZXR1cm4gJyc7XG5cdH1cbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBmaWxlbmFtZSB3aXRob3V0IHRoZSBleHRlbnNpb24uXG4gKiBTdXBwb3J0cyBiZWluZyBwYXNzZWQgdGhlIGZ1bGwgcGF0aCBhbmQgd2lsbCByZXR1cm4gYSBmdWxsIHBhdGhcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUV4dGVuc2lvbihwYXRoOiBzdHJpbmcpOiBzdHJpbmcge1xuXHRcblx0Ly8gU3BsaXQgaW50byBmb2xkZXJzIGFsb25nIHRoZSBwYXRoXG5cdGxldCBzZWN0aW9ucyA9IHBhdGguc3BsaXQoJy8nKTtcblx0aWYoc2VjdGlvbnMubGVuZ3RoID09PSAwKSByZXR1cm4gcGF0aDtcblxuXHQvLyBSZW1vdmUgZXh0ZW5zaW9uIGZyb20gZmlsZW5hbWUgc2VjdGlvbiBhbmQgYWRkIGJhY2sgaW5cblx0bGV0IGZpbGVNZXRhID0gZ2V0TmFtZUFuZEV4dChzZWN0aW9ucy5wb3AoKSBhcyBzdHJpbmcpO1xuXHRzZWN0aW9ucy5wdXNoKGZpbGVNZXRhLm5hbWUpO1xuXG5cdHJldHVybiBzZWN0aW9ucy5qb2luKCcvJyk7XG59XG5cbi8qKlxuICogUmV0dXJucyBhbiBvYmplY3Qgd2l0aCBuYW1lIGFuZCBleHQgcHJvcGVydGllcy5cbiAqIERvZXNuJ3QgYWNjZXB0IGEgZnVsbCBwYXRoLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0TmFtZUFuZEV4dChmaWxlbmFtZTogc3RyaW5nKToge25hbWU6IHN0cmluZywgZXh0OiBzdHJpbmd9IHtcblx0Y29uc3QgaW5kZXhPZkxhc3RQZXJpb2QgPSBmaWxlbmFtZS5sYXN0SW5kZXhPZignLicpO1xuXHRcblx0Ly8gSWYgdGhlcmUgaXMgbm8gcGVyaW9kLCB0aGVuIHRoZSBmaWxlbmFtZSBoYXMgbm8gZXh0ZW5zaW9uLlxuXHRpZiAoaW5kZXhPZkxhc3RQZXJpb2QgPT09IC0xKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdG5hbWU6IGZpbGVuYW1lLFxuXHRcdFx0ZXh0OiAnJyxcblx0XHR9XG5cdH1cblx0XG5cdGNvbnN0IG5hbWUgPSBmaWxlbmFtZS5zdWJzdHJpbmcoMCwgaW5kZXhPZkxhc3RQZXJpb2QpO1xuXHRjb25zdCBleHQgPSBmaWxlbmFtZS5zdWJzdHJpbmcoaW5kZXhPZkxhc3RQZXJpb2QgKyAxKTtcblx0XG5cdHJldHVybiB7XG5cdFx0bmFtZSxcblx0XHRleHQsXG5cdH07XG59IiwgIi8vIFR5cGUgZGVmaW5pdGlvbnMgZm9yIEdvb2dsZSBLZWVwIGRhdGEgc3RydWN0dXJlXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5leHBvcnQgaW50ZXJmYWNlIEtlZXBMaXN0SXRlbSB7XG5cdHRleHQ6IHN0cmluZztcblx0aXNDaGVja2VkOiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEtlZXBBdHRhY2htZW50IHtcblx0ZmlsZVBhdGg6IHN0cmluZztcblx0bWltZXR5cGU6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBLZWVwU2hhcmVlIHtcblx0aXNPd25lcjogYm9vbGVhbjtcblx0dHlwZTogc3RyaW5nO1xuXHRlbWFpbDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEtlZXBMYWJlbCB7XG5cdG5hbWU6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBLZWVwSnNvbiB7XG5cdGNvbG9yOiBzdHJpbmc7XG5cdGNyZWF0ZWRUaW1lc3RhbXBVc2VjOiBudW1iZXI7XG5cdGlzQXJjaGl2ZWQ6IGJvb2xlYW47XG5cdGlzUGlubmVkOiBib29sZWFuO1xuXHRpc1RyYXNoZWQ6IGJvb2xlYW47XG5cdHRleHRDb250ZW50Pzogc3RyaW5nO1xuXHRsaXN0Q29udGVudD86IEFycmF5PEtlZXBMaXN0SXRlbT47XG5cdGF0dGFjaG1lbnRzPzogQXJyYXk8S2VlcEF0dGFjaG1lbnQ+O1xuXHRzaGFyZWVzPzogQXJyYXk8S2VlcFNoYXJlZT47XG5cdHRpdGxlOiBzdHJpbmc7XG5cdHVzZXJFZGl0ZWRUaW1lc3RhbXBVc2VjOiBudW1iZXI7XG5cdGxhYmVsczogQXJyYXk8S2VlcExhYmVsPjtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGlmIGFuIGltcG9ydGVkIGpzb24gbWF0Y2hlcyB0aGUgS2VlcCBpbnRlcmZhY2Ugc2hhcGUgYXQgcnVudGltZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9iamVjdElzS2VlcEpzb24oZmlsZUNvbnRlbnRzOiBLZWVwSnNvbikge1xuXHRyZXR1cm5cdHR5cGVvZiBmaWxlQ29udGVudHMuY29sb3IgIT09ICd1bmRlZmluZWQnXHRcdFx0XHRcdFx0JiZcblx0XHRcdHR5cGVvZiBmaWxlQ29udGVudHMuaXNUcmFzaGVkICE9PSAndW5kZWZpbmVkJ1x0XHRcdFx0XHQmJlxuXHRcdFx0dHlwZW9mIGZpbGVDb250ZW50cy5pc1Bpbm5lZCAhPT0gJ3VuZGVmaW5lZCdcdFx0XHRcdFx0JiZcblx0XHRcdHR5cGVvZiBmaWxlQ29udGVudHMuaXNBcmNoaXZlZCAhPT0gJ3VuZGVmaW5lZCdcdFx0XHRcdFx0JiZcblx0XHRcdHR5cGVvZiBmaWxlQ29udGVudHMudGl0bGUgIT09ICd1bmRlZmluZWQnXHRcdFx0XHRcdFx0JiZcblx0XHRcdHR5cGVvZiBmaWxlQ29udGVudHMudXNlckVkaXRlZFRpbWVzdGFtcFVzZWMgIT09ICd1bmRlZmluZWQnXHRcdCYmXG5cdFx0XHR0eXBlb2YgZmlsZUNvbnRlbnRzLmNyZWF0ZWRUaW1lc3RhbXBVc2VjICE9PSAndW5kZWZpbmVkJztcbn0iLCAiaW1wb3J0IHsgTW9kYWwsIE5vdGljZSwgU2V0dGluZyB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHsgc2luZ2xlT3JQbHVyYWwgfSBmcm9tIFwic3JjL2xvZ2ljL3N0cmluZy1wcm9jZXNzZXNcIjtcbmltcG9ydCBHb29nbGVLZWVwSW1wb3J0UGx1Z2luIGZyb20gXCJzcmMvbWFpblwiO1xuaW1wb3J0IHsgRWRpdFNldHRpbmdzTW9kYWwgfSBmcm9tIFwiLi4vZWRpdC1zZXR0aW5ncy1tb2RhbC9lZGl0LXNldHRpbmdzLW1vZGFsXCI7XG5pbXBvcnQgeyBTdXBwb3J0QnV0dG9uU2V0IH0gZnJvbSAnc3JjL2NvbXBvbmVudHMvc3VwcG9ydC1idXR0b24tc2V0L3N1cHBvcnQtYnV0dG9uLXNldCc7XG5pbXBvcnQgeyBJbXBvcnRTdW1tYXJ5IH0gZnJvbSBcInNyYy9jb21wb25lbnRzL2ltcG9ydC1zdW1tYXJ5L2ltcG9ydC1zdW1tYXJ5XCI7XG5pbXBvcnQgeyBmaWxlSXNKc29uIH0gZnJvbSBcInNyYy9sb2dpYy9pbXBvcnQtbG9naWNcIjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLy8vLy8vLy8vLy8vLy8vLy8vXG5cblxuZXhwb3J0IGNsYXNzIFN0YXJ0SW1wb3J0TW9kYWwgZXh0ZW5kcyBNb2RhbCB7XG5cdHBsdWdpbjogR29vZ2xlS2VlcEltcG9ydFBsdWdpbjtcblx0cmVzdWx0OiBzdHJpbmc7XG5cdGR1cGxpY2F0ZU5vdGVzOiBudW1iZXIgPSAwO1xuXHRub3Rlc1NwYW46IEhUTUxTcGFuRWxlbWVudDtcblx0YXR0YWNobWVudHNTcGFuOiBIVE1MU3BhbkVsZW1lbnQ7XG5cdGltcG9ydFN1bW1hcnk6IEltcG9ydFN1bW1hcnk7XG5cdGZpbGVCYWNrbG9nOiBBcnJheTxGaWxlPiA9IFtdO1xuXHR1cGxvYWRJbnB1dDogSFRNTElucHV0RWxlbWVudDtcblx0bW9kYWxBY3Rpb25zOiBTZXR0aW5nO1xuXHRzdGFydEJ0bjogU2V0dGluZztcblx0cmVzb2x2ZU1vZGFsOiAodmFsdWU6IEFycmF5PEZpbGU+KSA9PiB2b2lkO1xuXHRyZWplY3RNb2RhbDogKHZhbHVlOiBzdHJpbmcpID0+IHZvaWQ7XG5cblx0Y29uc3RydWN0b3IocGx1Z2luOiBHb29nbGVLZWVwSW1wb3J0UGx1Z2luKSB7XG5cdFx0c3VwZXIocGx1Z2luLmFwcCk7XG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XG5cdH1cblxuXHQvKipcblx0ICogT3BlbnMgdGhlIG1vZGFsIGFuZCByZXR1cm5zIG9mIGEgcmVzdWx0LlxuXHQgKi9cblx0cHVibGljIHNob3dNb2RhbCgpOiBQcm9taXNlPEFycmF5PEZpbGU+PiB7XG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHRcdHRoaXMub3BlbigpO1xuXHRcdFx0dGhpcy5yZXNvbHZlTW9kYWwgPSByZXNvbHZlO1xuXHRcdFx0dGhpcy5yZWplY3RNb2RhbCA9IHJlamVjdDtcblx0XHR9KVxuXHR9XG5cblx0LyoqXG5cdCAqIENhbGxlZCBhdXRvbWF0aWNhbGx5IGJ5IHRoZSBNb2RhbCBjbGFzcyB3aGVuIG1vZGFsIGlzIG9wZW5lZC5cblx0ICovXG5cdHB1YmxpYyBvbk9wZW4oKSB7XG5cdFx0Y29uc3Qge2NvbnRlbnRFbH0gPSB0aGlzO1xuXG5cdFx0Y29udGVudEVsLmNyZWF0ZUVsKCdoMScsIHt0ZXh0OiAnSW1wb3J0IEdvb2dsZSBLZWVwIEZpbGVzJ30pO1xuXG5cdFx0Y29uc3QgZmlyc3RQYXJhRWwgPSBjb250ZW50RWwuY3JlYXRlRWwoJ3AnLCB7XG5cdFx0XHR0ZXh0OiAnVG8gZXhwb3J0IHlvdXIgZmlsZXMgZnJvbSBHb29nbGUgS2VlcCwgb3BlbiAnLFxuXHRcdFx0Y2xzOiAnZ2tpX2luZm8tYnViYmxlJ1xuXHRcdH0pO1xuXHRcdGZpcnN0UGFyYUVsLmNyZWF0ZUVsKCdhJywge1xuXHRcdFx0dGV4dDogJ0dvb2dsZSBUYWtlb3V0Jyxcblx0XHRcdGhyZWY6ICdodHRwczovL3Rha2VvdXQuZ29vZ2xlLmNvbS8nXG5cdFx0fSk7XG5cdFx0Zmlyc3RQYXJhRWwuYXBwZW5kVGV4dCgnIGFuZCBzZWxlY3Qgb25seSBHb29nbGUgS2VlcCBmaWxlcy4gT25jZSB5b3UgaGF2ZSB0aGUgZXhwb3J0ZWQgemlwLCB1bnppcCBpdCBhbmQgZHJhZyBhbGwgdGhlIGZpbGVzIGluIGJlbG93LicpO1xuXG5cdFx0Y29uc3QgZHJvcEZyYW1lID0gY29udGVudEVsLmNyZWF0ZUVsKCdkaXYnLCB7Y2xzOiAnZ2tpX2Ryb3AtZnJhbWUnfSk7XG5cdFx0ZHJvcEZyYW1lLmNyZWF0ZUVsKCdkaXYnLCB7Y2xzOiAnZ2tpX2hpZ2hsaWdodCd9KTtcblx0XHRjb25zdCBkcm9wRnJhbWVUZXh0ID0gZHJvcEZyYW1lLmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnRHJhZyBhbGwgZmlsZXMgaGVyZSBvciAnIH0pO1xuXHRcdGRyb3BGcmFtZVRleHQuY3JlYXRlRWwoJ2xhYmVsJywgeyBcblx0XHRcdHRleHQ6ICdicm93c2UgbG9jYWwgZmlsZXMnLFxuXHRcdFx0YXR0cjoge1xuXHRcdFx0XHQnY2xhc3MnOiAnZ2tpX2ZpbGUtaW5wdXRfbGFiZWwnLFxuXHRcdFx0XHQnZm9yJzogJ2draV9maWxlLWlucHV0Jyxcblx0XHRcdH1cblx0XHR9KVxuXHRcdHRoaXMudXBsb2FkSW5wdXQgPSBkcm9wRnJhbWVUZXh0LmNyZWF0ZUVsKCdpbnB1dCcsIHsgXG5cdFx0XHR0eXBlOiAnZmlsZScsXG5cdFx0XHRhdHRyOiB7XG5cdFx0XHRcdCdtdWx0aXBsZSc6IHRydWUsXG5cdFx0XHRcdCdpZCc6ICdna2lfZmlsZS1pbnB1dCcsXG5cdFx0XHR9XG5cdFx0fSlcblxuXHRcdHRoaXMuaW1wb3J0U3VtbWFyeSA9IG5ldyBJbXBvcnRTdW1tYXJ5KGRyb3BGcmFtZSk7XG5cdFx0dGhpcy5pbXBvcnRTdW1tYXJ5LmhpZGUoKTtcblx0XHR0aGlzLm5vdGVzU3BhbiA9IHRoaXMuaW1wb3J0U3VtbWFyeS5hZGRJdGVtKCdub3RlcycpO1xuXHRcdHRoaXMuYXR0YWNobWVudHNTcGFuID0gdGhpcy5pbXBvcnRTdW1tYXJ5LmFkZEl0ZW0oJ290aGVyJyk7XG5cblx0XHR0aGlzLm1vZGFsQWN0aW9ucyA9IG5ldyBTZXR0aW5nKGNvbnRlbnRFbCk7XG5cdFx0bmV3IFN1cHBvcnRCdXR0b25TZXQodGhpcy5tb2RhbEFjdGlvbnMpO1xuXHRcdHRoaXMubW9kYWxBY3Rpb25zLmFkZEJ1dHRvbihidG4gPT4ge1xuXHRcdFx0YnRuLnNldENsYXNzKCdna2lfYnV0dG9uJyk7XG5cdFx0XHRidG4uc2V0QnV0dG9uVGV4dCgnRWRpdCBzZXR0aW5ncycpO1xuXHRcdFx0YnRuLm9uQ2xpY2soIGFzeW5jIChlKSA9PiB7XG5cdFx0XHRcdGNvbnN0IG1vZGFsID0gbmV3IEVkaXRTZXR0aW5nc01vZGFsKHRoaXMucGx1Z2luKVxuXHRcdFx0XHRtb2RhbC5zaG93TW9kYWwoKTtcblx0XHRcdH0pXG5cdFx0fSlcblx0XHR0aGlzLnN0YXJ0QnRuID0gdGhpcy5tb2RhbEFjdGlvbnMuYWRkQnV0dG9uKGJ0biA9PiB7XG5cdFx0XHRidG4uc2V0Q2xhc3MoJ2draV9idXR0b24nKTtcblx0XHRcdGJ0bi5zZXRDdGEoKTtcblx0XHRcdGJ0bi5zZXRCdXR0b25UZXh0KCdTdGFydCBJbXBvcnQnKTtcblx0XHRcdGJ0bi5zZXREaXNhYmxlZCh0cnVlKTtcblx0XHRcdGJ0bi5vbkNsaWNrKCAoZSkgPT4ge1xuXHRcdFx0XHR0aGlzLnJlc29sdmVNb2RhbCh0aGlzLmZpbGVCYWNrbG9nKVxuXHRcdFx0XHR0aGlzLmNsb3NlKCk7XG5cdFx0XHR9KVxuXHRcdH0pXG5cdFx0XG5cdFx0Ly8gQWN0aW9uc1xuXHRcdC8vLy8vLy8vLy9cblxuXHRcdC8vIEVuYWJsZSBhZGRpbmcgZmlsZXMgYnkgY2xpY2tpbmdcblx0XHR0aGlzLnVwbG9hZElucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcblx0XHRcdHRoaXMuYWRkVG9GaWxlc0JhY2tsb2coIE9iamVjdC52YWx1ZXModGhpcy51cGxvYWRJbnB1dC5maWxlcyBhcyBGaWxlTGlzdCkgKTtcblx0XHR9KTtcblxuXHRcdC8vIEFkZCB2aXN1YWwgZHJhZyBhbmQgZHJvcCBmZWVkYmFja1xuXHRcdGRyb3BGcmFtZS5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW50ZXInLCAoZSkgPT4ge1xuXHRcdFx0ZHJvcEZyYW1lLmFkZENsYXNzKCdna2lfZHJhZy1vdmVyLWFjdGl2ZScpO1xuXHRcdH0pO1x0XHRcblx0XHRkcm9wRnJhbWUuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2xlYXZlJywgKGUpID0+IHtcblx0XHRcdGRyb3BGcmFtZS5yZW1vdmVDbGFzcygnZ2tpX2RyYWctb3Zlci1hY3RpdmUnKTtcblx0XHR9KTtcblxuXHRcdC8vIEVuYWJsZSBhZGRpbmcgZmlsZXMgYnkgZHJhZ2dpbmcgYW5kIGRyb3BwaW5nXG5cdFx0ZHJvcEZyYW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgKGUpID0+IHtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTsgLy8gUHJldmVudCBkZWZhdWx0IHRvIGFsbG93IGRyb3Bcblx0XHR9KTtcblx0XHRkcm9wRnJhbWUuYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIChlKSA9PiB7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7IC8vIFByZXZlbnQgZGVmYXVsdCB0byBzdG9wIGJyb3dzZXIgb3BlbmluZyBmaWxlXG5cdFx0XHRkcm9wRnJhbWUucmVtb3ZlQ2xhc3MoJ2draV9kcmFnLW92ZXItYWN0aXZlJyk7XG5cblx0XHRcdC8vIEJhaWwgaWYgdGhlcmUgYXJlIG5vIGZpbGVzXG5cdFx0XHRpZihlLmRhdGFUcmFuc2ZlciA9PT0gbnVsbCkgcmV0dXJuO1xuXG5cdFx0XHQvLyBBZGQgYWxsIGZpbGVzIHRvIHRoZSBpbXBvcnQgYmFja2xvZ1xuXHRcdFx0Y29uc3QgZmlsZXM6IEFycmF5PEZpbGU+ID0gW107XG5cdFx0XHQvLyBUT0RPOiBGaW5kIG91dCB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZXNlIHR3byB0aGluZ3MgYW5kIGlmIEkgY2FuIGp1c3QgdXNlIGRhdGFUcmFuc2Zlci5maWxlc1xuXHRcdFx0aWYgKGUuZGF0YVRyYW5zZmVyLml0ZW1zKSB7XG5cdFx0XHRcdC8vIERhdGFUcmFuc2Zlckl0ZW1zIGlzIHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXJcblxuXHRcdFx0XHRjb25zdCBpdGVtcyA9IFsuLi5lLmRhdGFUcmFuc2Zlci5pdGVtc107XG5cdFx0XHRcdGZvcihsZXQgaT0wOyBpPGl0ZW1zLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0Y29uc3QgaXRlbSA9IGl0ZW1zW2ldO1xuXHRcdFx0XHRcdGlmIChpdGVtLmtpbmQgPT09ICdmaWxlJykge1xuXHRcdFx0XHRcdFx0Y29uc3QgZmlsZTogRmlsZSB8IG51bGwgPSBpdGVtLmdldEFzRmlsZSgpO1xuXHRcdFx0XHRcdFx0aWYoZmlsZSkgZmlsZXMucHVzaChmaWxlKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH07XG5cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIFVzZSBEYXRhVHJhbnNmZXIgaW50ZXJmYWNlIHRvIGFjY2VzcyB0aGUgZmlsZShzKVxuXHRcdFx0XHRmaWxlcy5wdXNoKC4uLmUuZGF0YVRyYW5zZmVyLmZpbGVzKTtcblxuXHRcdFx0fVxuXHRcdFx0dGhpcy5hZGRUb0ZpbGVzQmFja2xvZyhmaWxlcyk7XG5cdFx0fSk7XG5cblxuXHR9XG5cblx0LyoqXG5cdCAqIEFkZHMgZmlsZXMgdG8gdGhlIGJhY2tsb2cgd2hpY2ggY2FuIHRoZW4gYmUgcGFzc2VkIHRvIGEgZmlsZUltcG9ydGVyIG9iamVjdFxuXHQgKi9cblx0cHJpdmF0ZSBhZGRUb0ZpbGVzQmFja2xvZyggZmlsZXM6IEFycmF5PEZpbGU+ICkge1xuXHRcdGxldCBuZXdGaWxlcyA9IDA7XG5cdFx0bGV0IGR1cGxpY2F0ZUZpbGVzID0gMDtcblxuXHRcdC8vIEFkZCBhbGwgZmlsZXMgbm90IGFscmVhZHkgaW4gdGhlIGJhY2tsb2dcblx0XHRmaWxlcy5mb3JFYWNoKCAoZmlsZSkgPT4ge1xuXHRcdFx0aWYoIHRoaXMuYmFja2xvZ0NvbnRhaW5zKGZpbGUpICkge1xuXHRcdFx0XHRkdXBsaWNhdGVGaWxlcysrO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5maWxlQmFja2xvZy5wdXNoKGZpbGUpO1xuXHRcdFx0XHRuZXdGaWxlcysrO1xuXHRcdFx0fVxuXHRcdH0pXG5cblx0XHQvLyBMZXQgdGhlIHVzZXIga25vdyBob3cgbWFueSBmaWxlcyB3ZXJlIGFkZGVkIGFuZCBob3cgbWFueSB3ZXJlIHNraXBwZWQgZHVlIHRvIGR1cGxpY2F0ZXNcblx0XHRpZihkdXBsaWNhdGVGaWxlcz4wKSB7XG5cdFx0XHRuZXcgTm90aWNlKGAke2R1cGxpY2F0ZUZpbGVzfSAke3NpbmdsZU9yUGx1cmFsKGR1cGxpY2F0ZUZpbGVzLCAnZmlsZScpfSBpZ25vcmVkIGJlY2F1c2UgJHtzaW5nbGVPclBsdXJhbChkdXBsaWNhdGVGaWxlcywgJ2l0XFwncycsICd0aGV5XFwncmUnKX0gYWxyZWFkeSBpbiB0aGUgaW1wb3J0IGxpc3QuYCwgOTAwMCk7XG5cdFx0fVxuXHRcdG5ldyBOb3RpY2UoYCR7bmV3RmlsZXN9IG5ldyAke3NpbmdsZU9yUGx1cmFsKG5ld0ZpbGVzLCAnZmlsZScpfSBxdWV1ZWQgZm9yIGltcG9ydC5gLCAxMDAwMCk7XG5cblx0XHQvLyBFcmFzZSByZWZlcmVuY2VzIGluIHVwbG9hZCBjb21wb25lbnQgdG8gcHJlcGFyZSBmb3IgbmV3IHNldFxuXHRcdHRoaXMudXBsb2FkSW5wdXQuZmlsZXMgPSBudWxsO1xuXHRcdFx0XG5cdFx0Ly8gVXBkYXRlIHN1bW1hcnkgbnVtYmVyc1xuXHRcdGNvbnN0IGJyZWFrZG93biA9IHRoaXMuZ2V0QmFja2xvZ0JyZWFrZG93bigpO1xuXHRcdHRoaXMubm90ZXNTcGFuLnNldFRleHQoYCR7YnJlYWtkb3duLm5vdGVzfWApO1xuXHRcdHRoaXMuYXR0YWNobWVudHNTcGFuLnNldFRleHQoYCR7YnJlYWtkb3duLmFzc2V0c31gKTtcblx0XHR0aGlzLmltcG9ydFN1bW1hcnkuc2hvdygpO1xuXG5cdFx0Ly8gQWN0aXZhdGUgc3RhcnQgYnV0dG9uXG5cdFx0dGhpcy5zdGFydEJ0bi5zZXREaXNhYmxlZChmYWxzZSk7XG5cdH1cblxuXHQvKipcblx0ICogQ2hlY2tzIGlmIHRoZSBiYWNrbG9nIGFscmVhZHkgY29udGFpbnMgYSBmaWxlXG5cdCAqL1xuXHRwcml2YXRlIGJhY2tsb2dDb250YWlucyhmaWxlOiBGaWxlKTogYm9vbGVhbiB7XG5cdFx0Zm9yKGxldCBpPTA7IGk8dGhpcy5maWxlQmFja2xvZy5sZW5ndGg7IGkrKykge1xuXHRcdFx0Ly8gVE9ETzogTG9vayB1cCB3aGljaCBlbnZpcm9ubWVudHMgdGhpcyBtaWdodCBub3QgYmUgc3VwcG9ydGVkIGluIGFuZCBkZWFsIHdpdGggaWYgbmVjZXNzYXJ5XG5cdFx0XHQvLyBOT1RFOiBQYXRoIGlzbid0IG5lY2Vzc2FyaWx5IGd1YXJhbnRlZWQgaW4gYWxsIGVudmlyb25tZW50cy5cblx0XHRcdC8vIENvdWxkIGRvIGEgbmFtZSBhbmQgY29udGVudCBjb21wYXJpc29uIGZvciBqc29ucywgYW5kIGFsc28gdG9vIGZvciBiaW5hcnkgaWYgcG9zc2libGUuXG5cdFx0XHQvLyBNYXliZSBldmVuIGp1c3QgYSBjb250ZW50IGNvbXBhcmlzb24uIEZvciBub3cgdGhpcyBpcyBmaW5lLlxuXHRcdFx0aWYoKGZpbGUgYXMgYW55KS5wYXRoKSB7XG5cdFx0XHRcdGlmKChmaWxlIGFzIGFueSkucGF0aCA9PSAodGhpcy5maWxlQmFja2xvZ1tpXSBhcyBhbnkpLnBhdGgpIHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblx0XHQvLyBJZiBubyBmaWxlIGZvdW5kIGluIGJhY2tsb2dcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHQvKipcblx0ICogR2V0cyB0aGUgbnVtYmVyIG9mIG5vdGVzIGFuZCBhc3NldHMgdGhhdCBoYXZlIGJlZW4gYWRkZWQgdG8gdGhlIGJhY2tsb2cgZm9yIGltcG9ydFxuXHQgKi9cblx0cHJpdmF0ZSBnZXRCYWNrbG9nQnJlYWtkb3duKCk6IHsgbm90ZXMgOiBudW1iZXIsIGFzc2V0czogbnVtYmVyIH0ge1xuXHRcdGxldCBub3RlcyA9IDA7XG5cdFx0bGV0IGFzc2V0cyA9IDA7XG5cblx0XHRmb3IobGV0IGk9MDsgaTx0aGlzLmZpbGVCYWNrbG9nLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRjb25zdCBmaWxlID0gdGhpcy5maWxlQmFja2xvZ1tpXSBhcyBGaWxlO1xuXHRcblx0XHRcdGlmKGZpbGVJc0pzb24oZmlsZSkpIHtcblx0XHRcdFx0bm90ZXMrKztcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGFzc2V0cysrO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB7XG5cdFx0XHRub3Rlcyxcblx0XHRcdGFzc2V0c1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBDYWxsZWQgYXV0b21hdGljYWxseSB3aGVuIG1vZGFsIGlzIGNsb3NlZCBieSB1c2VyXG5cdCAqL1xuXHRwdWJsaWMgb25DbG9zZSgpIHtcblx0XHR0aGlzLnRpdGxlRWwuZW1wdHkoKTtcblx0XHR0aGlzLmNvbnRlbnRFbC5lbXB0eSgpO1xuXHR9XG59IiwgImltcG9ydCB7IE1vZGFsLCBTZXR0aW5nIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgeyBhZGRSZXNldEJ1dHRvbiwgQmFzaWNTZXR0aW5nc0dyb3VwLCBDaGFyTWFwcGluZ0dyb3VwLCBJbmNsdXNpb25TZXR0aW5nc0dyb3VwLCBUYWdTZXR0aW5nc0dyb3VwIH0gZnJvbSBcInNyYy9jb21wb25lbnRzL3NldHRpbmdzLWdyb3Vwcy9zZXR0aW5ncy1ncm91cHNcIjtcbmltcG9ydCB7IFN1cHBvcnRCdXR0b25TZXQgfSBmcm9tIFwic3JjL2NvbXBvbmVudHMvc3VwcG9ydC1idXR0b24tc2V0L3N1cHBvcnQtYnV0dG9uLXNldFwiO1xuaW1wb3J0IEdvb2dsZUtlZXBJbXBvcnRQbHVnaW4gZnJvbSBcInNyYy9tYWluXCI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5cbmV4cG9ydCBjbGFzcyBFZGl0U2V0dGluZ3NNb2RhbCBleHRlbmRzIE1vZGFsIHtcblx0cGx1Z2luOiBHb29nbGVLZWVwSW1wb3J0UGx1Z2luO1xuXHRyZXN1bHQ6IHN0cmluZztcblx0ZHVwbGljYXRlTm90ZXM6IG51bWJlciA9IDA7XG5cdG5vdGVTcGFuOiBIVE1MU3BhbkVsZW1lbnQ7XG5cdGFzc2V0U3BhbjogSFRNTFNwYW5FbGVtZW50O1xuXHRmaWxlQmFja2xvZzogQXJyYXk8RmlsZT4gPSBbXTtcblx0dXBsb2FkSW5wdXQ6IEhUTUxJbnB1dEVsZW1lbnQ7XG5cdG1vZGFsQWN0aW9uczogU2V0dGluZztcblx0c3RhcnRCdG46IFNldHRpbmc7XG5cdHJlc29sdmVNb2RhbDogKHZhbHVlOiBBcnJheTxGaWxlPikgPT4gdm9pZDtcblx0cmVqZWN0TW9kYWw6ICh2YWx1ZTogc3RyaW5nKSA9PiB2b2lkO1xuXG5cdGNvbnN0cnVjdG9yKHBsdWdpbjogR29vZ2xlS2VlcEltcG9ydFBsdWdpbikge1xuXHRcdHN1cGVyKHBsdWdpbi5hcHApO1xuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xuXHR9XG5cdFxuXHQvKipcblx0ICogT3BlbnMgdGhlIG1vZGFsIGFuZCByZXR1cm5zIG9mIGEgcmVzdWx0LlxuXHQgKi9cblx0cHVibGljIHNob3dNb2RhbCgpOiBQcm9taXNlPEFycmF5PEZpbGU+PiB7XG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHRcdHRoaXMub3BlbigpO1xuXHRcdFx0dGhpcy5yZXNvbHZlTW9kYWwgPSByZXNvbHZlO1xuXHRcdFx0dGhpcy5yZWplY3RNb2RhbCA9IHJlamVjdDtcblx0XHR9KVxuXHR9XG5cblx0LyoqXG5cdCAqIENhbGxlZCBhdXRvbWF0aWNhbGx5IGJ5IHRoZSBNb2RhbCBjbGFzcyB3aGVuIG1vZGFsIGlzIG9wZW5lZC5cblx0ICovXG5cdG9uT3BlbigpIHtcblx0XHRjb25zdCB7dGl0bGVFbCwgY29udGVudEVsfSA9IHRoaXM7XG5cdFx0Y29udGVudEVsLmVtcHR5KCk7XG5cblx0XHRjb250ZW50RWwuY3JlYXRlRWwoJ2gxJywge3RleHQ6ICdHb29nbGUgS2VlcCBJbXBvcnQgU2V0dGluZ3MnfSk7XG5cdFx0Y29udGVudEVsLmNyZWF0ZUVsKCdwJywge3RleHQ6ICdBbGwgc2V0dGluZ3Mgd2lsbCBzYXZlIGltbWVkaWF0ZWx5LiBDbG9zZSB0aGlzIG1vZGFsIHRvIHJldHVybiB0byB5b3VyIGltcG9ydC4nfSk7XG5cdFx0XG5cdFx0Y29udGVudEVsLmNyZWF0ZUVsKCdocicpO1xuXHRcdG5ldyBCYXNpY1NldHRpbmdzR3JvdXAoY29udGVudEVsLCB0aGlzLnBsdWdpbik7XG5cdFx0XG5cdFx0Y29udGVudEVsLmNyZWF0ZUVsKCdocicpO1xuXHRcdG5ldyBJbmNsdXNpb25TZXR0aW5nc0dyb3VwKGNvbnRlbnRFbCwgdGhpcy5wbHVnaW4pO1xuXHRcdFxuXHRcdGNvbnRlbnRFbC5jcmVhdGVFbCgnaHInKTtcblx0XHRuZXcgVGFnU2V0dGluZ3NHcm91cChjb250ZW50RWwsIHRoaXMucGx1Z2luKTtcblx0XHRcblx0XHRjb250ZW50RWwuY3JlYXRlRWwoJ2hyJyk7XG5cdFx0bmV3IENoYXJNYXBwaW5nR3JvdXAoY29udGVudEVsLCB0aGlzLnBsdWdpbiwgKCkgPT4gdGhpcy5vbk9wZW4oKSk7XG5cblx0XHRjb250ZW50RWwuY3JlYXRlRWwoJ2hyJyk7XG5cdFx0Y29uc3QgbW9kYWxBY3Rpb25zID0gbmV3IFNldHRpbmcoY29udGVudEVsKTtcblx0XHRuZXcgU3VwcG9ydEJ1dHRvblNldChtb2RhbEFjdGlvbnMpO1xuXHRcdGFkZFJlc2V0QnV0dG9uKG1vZGFsQWN0aW9ucywgdGhpcy5wbHVnaW4sICgpID0+IHRoaXMub25PcGVuKCkpO1xuXHRcdG1vZGFsQWN0aW9ucy5hZGRCdXR0b24oIChidXR0b24pID0+IHtcblx0XHRcdGJ1dHRvbi5zZXRCdXR0b25UZXh0KCdDbG9zZScpO1xuXHRcdFx0YnV0dG9uLnNldENsYXNzKCdna2lfYnV0dG9uJyk7XG5cdFx0XHRidXR0b24uc2V0Q3RhKCk7XG5cdFx0XHRidXR0b24ub25DbGljaygoKSA9PiB7XG5cdFx0XHRcdHRoaXMuY2xvc2UoKTtcblx0XHRcdH0pXG5cdFx0fSlcblx0fVxuXG5cdC8qKlxuXHQgKiBDYWxsZWQgYXV0b21hdGljYWxseSBieSB0aGUgTW9kYWwgY2xhc3Mgd2hlbiB0aGUgbW9kYWwgaXMgY2xvc2VkLlxuXHQgKi9cblx0b25DbG9zZSgpIHtcblx0XHR0aGlzLmNvbnRlbnRFbC5lbXB0eSgpO1xuXHR9XG59IiwgImltcG9ydCB7IFNldHRpbmcgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7IGFwcGx5TWFwcGluZ1ByZXNldCB9IGZyb20gXCJzcmMvbG9naWMvaW1wb3J0LWxvZ2ljXCI7XG5pbXBvcnQgeyBmb2xkZXJQYXRoU2FuaXRpemUgfSBmcm9tIFwic3JjL2xvZ2ljL3N0cmluZy1wcm9jZXNzZXNcIjtcbmltcG9ydCBHb29nbGVLZWVwSW1wb3J0UGx1Z2luIGZyb20gXCJzcmMvbWFpblwiO1xuaW1wb3J0IHsgQ29uZmlybWF0aW9uTW9kYWwgfSBmcm9tIFwic3JjL21vZGFscy9jb25maXJtYXRpb24tbW9kYWwvY29uZmlybWF0aW9uLW1vZGFsXCI7XG5pbXBvcnQgeyBDcmVhdGVkRGF0ZVR5cGVzLCBNYXBwaW5nUHJlc2V0cyB9IGZyb20gXCJzcmMvdHlwZXMvcGx1Z2luLXNldHRpbmdzXCI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5cbi8qKlxuICogSW5zZXJ0cyBzZXZlcmFsIGZpZWxkcyB0byBhbGxvdyB0aGUgdXNlciB0byBlZGl0IGJhc2ljIHNldHRpbmdzIG9mIGVhY2ggaW1wb3J0LlxuICovXG5leHBvcnQgY2xhc3MgQmFzaWNTZXR0aW5nc0dyb3VwIHtcblxuICAgIGNvbnN0cnVjdG9yKGNvbnRhaW5lckVsOiBIVE1MRWxlbWVudCwgcGx1Z2luOiBHb29nbGVLZWVwSW1wb3J0UGx1Z2luKSB7XG5cbiAgICAgICAgY29udGFpbmVyRWwuY3JlYXRlRWwoJ2gyJywge3RleHQ6ICdCYXNpY3MnfSk7XG5cbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAgICAgICAuc2V0Q2xhc3MoJ2draV9zZXR0aW5nJylcbiAgICAgICAgICAgIC5zZXROYW1lKCdOb3RlIGltcG9ydCBmb2xkZXInKVxuICAgICAgICAgICAgLmFkZFRleHQoKHRleHQpID0+IHtcbiAgICAgICAgICAgICAgICB0ZXh0LnNldFZhbHVlKHBsdWdpbi5zZXR0aW5ncy5mb2xkZXJOYW1lcy5ub3Rlcyk7XG4gICAgICAgICAgICAgICAgdGV4dC5pbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCBhc3luYyAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGZvbGRlclBhdGhTYW5pdGl6ZSh0ZXh0LmdldFZhbHVlKCksIHBsdWdpbi5zZXR0aW5ncyk7XG4gICAgICAgICAgICAgICAgICAgIHBsdWdpbi5zZXR0aW5ncy5mb2xkZXJOYW1lcy5ub3RlcyA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB0ZXh0LnNldFZhbHVlKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgcGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgICAgICAgIC5zZXRDbGFzcygnZ2tpX3NldHRpbmcnKVxuICAgICAgICAgICAgLnNldE5hbWUoJ0F0dGFjaG1lbnQgaW1wb3J0IGZvbGRlcicpXG4gICAgICAgICAgICAuYWRkVGV4dCgodGV4dCkgPT4ge1xuICAgICAgICAgICAgICAgIHRleHQuc2V0VmFsdWUocGx1Z2luLnNldHRpbmdzLmZvbGRlck5hbWVzLmFzc2V0cyk7XG4gICAgICAgICAgICAgICAgdGV4dC5pbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCBhc3luYyAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGZvbGRlclBhdGhTYW5pdGl6ZSh0ZXh0LmdldFZhbHVlKCksIHBsdWdpbi5zZXR0aW5ncyk7XG4gICAgICAgICAgICAgICAgICAgIHBsdWdpbi5zZXR0aW5ncy5mb2xkZXJOYW1lcy5hc3NldHMgPSBmb2xkZXJQYXRoU2FuaXRpemUodmFsdWUsIHBsdWdpbi5zZXR0aW5ncyk7XG4gICAgICAgICAgICAgICAgICAgIHRleHQuc2V0VmFsdWUodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBwbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgICAgICAgIC5zZXRDbGFzcygnZ2tpX3NldHRpbmcnKVxuICAgICAgICAgICAgLnNldE5hbWUoJ1Vuc3VwcG9ydGVkIGF0dGFjaG1lbnQgaW1wb3J0IGZvbGRlcicpXG4gICAgICAgICAgICAuYWRkVGV4dCgodGV4dCkgPT4ge1xuICAgICAgICAgICAgICAgIHRleHQuc2V0VmFsdWUocGx1Z2luLnNldHRpbmdzLmZvbGRlck5hbWVzLnVuc3VwcG9ydGVkQXNzZXRzKTtcbiAgICAgICAgICAgICAgICB0ZXh0LmlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIGFzeW5jIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZm9sZGVyUGF0aFNhbml0aXplKHRleHQuZ2V0VmFsdWUoKSwgcGx1Z2luLnNldHRpbmdzKTtcbiAgICAgICAgICAgICAgICAgICAgcGx1Z2luLnNldHRpbmdzLmZvbGRlck5hbWVzLnVuc3VwcG9ydGVkQXNzZXRzID0gZm9sZGVyUGF0aFNhbml0aXplKHZhbHVlLCBwbHVnaW4uc2V0dGluZ3MpO1xuICAgICAgICAgICAgICAgICAgICB0ZXh0LnNldFZhbHVlKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgcGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgICAgICAgIC5zZXRDbGFzcygnZ2tpX3NldHRpbmcnKVxuICAgICAgICAgICAgLnNldE5hbWUoJ05vdGUgY3JlYXRpb24gZGF0ZScpXG4gICAgICAgICAgICAuc2V0RGVzYygnU2hvdWxkIHRoZSBpbXBvcnRlZCBub3RlIGhhdmUgYSBjcmVhdGlvbiBkYXRlIHNldCB0byB0aGUgR29vZ2xlIEtlZXAgbm90ZVxcJ3MgY3JlYXRpb24gZGF0ZSwgb3IgdGhlIGRhdGUgaW1wb3J0ZWQgaW50byBPYnNpZGlhbj8nKVxuICAgICAgICAgICAgLmFkZERyb3Bkb3duKChkcm9wZG93bikgPT4ge1xuICAgICAgICAgICAgICAgIGRyb3Bkb3duLmFkZE9wdGlvbihDcmVhdGVkRGF0ZVR5cGVzLmdvb2dsZUtlZXAsIENyZWF0ZWREYXRlVHlwZXMuZ29vZ2xlS2VlcCk7XG4gICAgICAgICAgICAgICAgZHJvcGRvd24uYWRkT3B0aW9uKENyZWF0ZWREYXRlVHlwZXMuaW1wb3J0LCBDcmVhdGVkRGF0ZVR5cGVzLmltcG9ydCk7XG4gICAgICAgICAgICAgICAgZHJvcGRvd24uc2V0VmFsdWUocGx1Z2luLnNldHRpbmdzLmNyZWF0ZWREYXRlKVxuICAgICAgICAgICAgICAgIGRyb3Bkb3duLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBwbHVnaW4uc2V0dGluZ3MuY3JlYXRlZERhdGUgPSB2YWx1ZSBhcyBDcmVhdGVkRGF0ZVR5cGVzO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBwbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KVxuICAgIH1cblxufVxuXG5cbi8qKlxuICogSW5zZXJ0cyBzZXZlcmFsIHRvZ2dsZXMgdG8gYWxsb3cgdGhlIHVzZXIgdG8gZWRpdCB3aGF0IHNob3VsZCBiZSBpbmNsdWRlZCBpbiBhbiBpbXBvcnQuXG4gKi9cbmV4cG9ydCBjbGFzcyBJbmNsdXNpb25TZXR0aW5nc0dyb3VwIHtcblxuICAgIGNvbnN0cnVjdG9yKGNvbnRhaW5lckVsOiBIVE1MRWxlbWVudCwgcGx1Z2luOiBHb29nbGVLZWVwSW1wb3J0UGx1Z2luKSB7XG4gICAgICAgIFxuICAgICAgICBjb250YWluZXJFbC5jcmVhdGVFbCgnaDInLCB7dGV4dDogJ0luY2x1c2lvbnMnfSk7XG4gICAgICAgIFxuICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgICAgICAgIC5zZXRDbGFzcygnZ2tpX3NldHRpbmcnKVxuICAgICAgICAgICAgLnNldE5hbWUoJ0ltcG9ydCBhcmNoaXZlZCBub3RlcycpXG4gICAgICAgICAgICAuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB7XG4gICAgICAgICAgICAgICAgdG9nZ2xlLnNldFZhbHVlKHBsdWdpbi5zZXR0aW5ncy5pbXBvcnRBcmNoaXZlZClcbiAgICAgICAgICAgICAgICB0b2dnbGUub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHBsdWdpbi5zZXR0aW5ncy5pbXBvcnRBcmNoaXZlZCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBwbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgICAgICAgLnNldENsYXNzKCdna2lfc2V0dGluZycpXG4gICAgICAgICAgICAuc2V0TmFtZSgnSW1wb3J0IHRyYXNoZWQgbm90ZXMnKVxuICAgICAgICAgICAgLmFkZFRvZ2dsZSh0b2dnbGUgPT4ge1xuICAgICAgICAgICAgICAgIHRvZ2dsZS5zZXRWYWx1ZShwbHVnaW4uc2V0dGluZ3MuaW1wb3J0VHJhc2hlZClcbiAgICAgICAgICAgICAgICB0b2dnbGUub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHBsdWdpbi5zZXR0aW5ncy5pbXBvcnRUcmFzaGVkID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAgICAgICAuc2V0Q2xhc3MoJ2draV9zZXR0aW5nJylcbiAgICAgICAgICAgIC5zZXROYW1lKCdJbXBvcnQgdW5zdXBwb3J0ZWQgZmlsZXMnKVxuICAgICAgICAgICAgLnNldERlc2MoJ0ltcG9ydGluZyB1bnN1cHBvcnRlZCBmaWxlcyB3aWxsIHBsYWNlIHRoZW0gaW4gY29ycmVjdCBmb2xkZXJzIGFuZCBub3RpZnkgeW91IG9uIGltcG9ydC4gQnV0IHRoZXkgd29uXFwndCBzaG93IHVwIGluIE9ic2lkaWFuIHVudGlsIHlvdSBjb252ZXJ0IHRoZW0gbWFudWFsbHkgdGhyb3VnaCBhbm90aGVyIHByb2dyYW0uJylcbiAgICAgICAgICAgIC5hZGRUb2dnbGUodG9nZ2xlID0+IHtcbiAgICAgICAgICAgICAgICB0b2dnbGUuc2V0VmFsdWUocGx1Z2luLnNldHRpbmdzLmltcG9ydFVuc3VwcG9ydGVkKVxuICAgICAgICAgICAgICAgIHRvZ2dsZS5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcGx1Z2luLnNldHRpbmdzLmltcG9ydFVuc3VwcG9ydGVkID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICAgICAgaW1wb3J0SHRtbFRvZ2dsZS5zZXREaXNhYmxlZCghdmFsdWUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIGxldCBpbXBvcnRIdG1sVG9nZ2xlID0gbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAgICAgICAuc2V0Q2xhc3MoJ2draV9zZXR0aW5nJylcbiAgICAgICAgICAgIC5zZXROYW1lKCdJbXBvcnQgaHRtbCBmaWxlcycpXG4gICAgICAgICAgICAuc2V0RGVzYygnSFRNTCBmaWxlcyBtYXkgYmUgdW5zdXBwb3J0ZWQgYnkgT2JzaWRpYW4gYW5kIHRoZXJlZm9yZSB3b25cXCd0IGFwcGVhciwgYW5kIHRoZXlcXCdyZSBhbHNvIGR1cGxpY2F0ZXMgb2Ygc3VwcG9ydGVkIEpTT04gbm90ZXMgaW4gYSBHb29nbGUgS2VlcCBleHBvcnQuIFNvIHlvdSBwcm9iYWJseSBkb25cXCd0IHdhbnQgdGhlc2UgcmVnYXJkbGVzcy4nKVxuICAgICAgICAgICAgLmFkZFRvZ2dsZSh0b2dnbGUgPT4ge1xuICAgICAgICAgICAgICAgIHRvZ2dsZS5zZXRWYWx1ZShwbHVnaW4uc2V0dGluZ3MuaW1wb3J0SHRtbClcbiAgICAgICAgICAgICAgICB0b2dnbGUub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHBsdWdpbi5zZXR0aW5ncy5pbXBvcnRIdG1sID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuc2V0RGlzYWJsZWQoIXBsdWdpbi5zZXR0aW5ncy5pbXBvcnRVbnN1cHBvcnRlZClcbiAgICAgICAgXG4gICAgfVxuXG59XG5cblxuLyoqXG4gKiBJbnNlcnRzIHNldmVyYWwgZmllbGRzIHRvIGFsbG93IHRoZSB1c2VyIHRvIGVkaXQgaG93IHRhZ3MgYXJlIHRyZWF0ZWQgZHVyaW5nIGltcG9ydHMuXG4gKi9cbmV4cG9ydCBjbGFzcyBUYWdTZXR0aW5nc0dyb3VwIHtcbiAgICBcbiAgICBjb25zdHJ1Y3Rvcihjb250YWluZXJFbDogSFRNTEVsZW1lbnQsIHBsdWdpbjogR29vZ2xlS2VlcEltcG9ydFBsdWdpbikge1xuICAgICAgICBcbiAgICAgICAgY29udGFpbmVyRWwuY3JlYXRlRWwoJ2gyJywge3RleHQ6ICdUYWdzJ30pO1xuXG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgICAgICAgLnNldENsYXNzKCdna2lfc2V0dGluZycpXG4gICAgICAgICAgICAuc2V0TmFtZSgnQWRkIGxhYmVsIHRhZ3MnKVxuICAgICAgICAgICAgLnNldERlc2MoJ0FkZCBhIHRhZyB0byByZXByZXNlbnQgZWFjaCBsYWJlbCBwcmVzZW50IGluIHRoZSBHb29nbGUgS2VlcCBub3RlLicpXG4gICAgICAgICAgICAuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB7XG4gICAgICAgICAgICAgICAgdG9nZ2xlLnNldFZhbHVlKHBsdWdpbi5zZXR0aW5ncy5hZGRMYWJlbFRhZ3MpXG4gICAgICAgICAgICAgICAgdG9nZ2xlLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBwbHVnaW4uc2V0dGluZ3MuYWRkTGFiZWxUYWdzID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWxQcmVmaXhJbnB1dC5zZXREaXNhYmxlZCghdmFsdWUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgbGV0IGxhYmVsUHJlZml4SW5wdXQgPSBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgICAgICAgIC5zZXRDbGFzcygnZ2tpX3NldHRpbmcnKVxuICAgICAgICAgICAgLnNldENsYXNzKCdna2lfc2V0dGluZy1jaGlsZCcpXG4gICAgICAgICAgICAuc2V0RGVzYygnVGV4dCB0byBwcmVwZW5kIHRvIGVhY2ggbGFiZWwgdGFnOicpXG4gICAgICAgICAgICAuYWRkVGV4dCgodGV4dCkgPT4ge1xuICAgICAgICAgICAgICAgIHRleHQuc2V0VmFsdWUocGx1Z2luLnNldHRpbmdzLnRhZ05hbWVzLmxhYmVsUHJlcGVuZCk7XG4gICAgICAgICAgICAgICAgdGV4dC5pbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCBhc3luYyAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHRleHQuZ2V0VmFsdWUoKTtcbiAgICAgICAgICAgICAgICAgICAgcGx1Z2luLnNldHRpbmdzLnRhZ05hbWVzLmxhYmVsUHJlcGVuZCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB0ZXh0LnNldFZhbHVlKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgcGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5zZXREaXNhYmxlZCghcGx1Z2luLnNldHRpbmdzLmFkZENvbG9yVGFncylcblxuICAgICAgICBcbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAgICAgICAuc2V0Q2xhc3MoJ2draV9zZXR0aW5nJylcbiAgICAgICAgICAgIC5zZXROYW1lKCdBZGQgY29sb3VyIHRhZ3MnKVxuICAgICAgICAgICAgLnNldERlc2MoJ0FkZCBhIHRhZyByZXByZXNlbnRpbmcgdGhlIGNvbG9yIG9mIHRoZSBub3RlIGluIEdvb2dsZSBLZWVwLicpXG4gICAgICAgICAgICAuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB7XG4gICAgICAgICAgICAgICAgdG9nZ2xlLnNldFZhbHVlKHBsdWdpbi5zZXR0aW5ncy5hZGRDb2xvclRhZ3MpXG4gICAgICAgICAgICAgICAgdG9nZ2xlLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBwbHVnaW4uc2V0dGluZ3MuYWRkQ29sb3JUYWdzID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICAgICAgY29sb3JQcmVmaXhJbnB1dC5zZXREaXNhYmxlZCghdmFsdWUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgbGV0IGNvbG9yUHJlZml4SW5wdXQgPSBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgICAgICAgIC5zZXRDbGFzcygnZ2tpX3NldHRpbmcnKVxuICAgICAgICAgICAgLnNldENsYXNzKCdna2lfc2V0dGluZy1jaGlsZCcpXG4gICAgICAgICAgICAuc2V0RGVzYygnVGV4dCB0byBwcmVwZW5kIHRvIGVhY2ggY29sb3VyIHRhZzonKVxuICAgICAgICAgICAgLmFkZFRleHQoKHRleHQpID0+IHtcbiAgICAgICAgICAgICAgICB0ZXh0LnNldFZhbHVlKHBsdWdpbi5zZXR0aW5ncy50YWdOYW1lcy5jb2xvclByZXBlbmQpO1xuICAgICAgICAgICAgICAgIHRleHQuaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgYXN5bmMgKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB0ZXh0LmdldFZhbHVlKCk7XG4gICAgICAgICAgICAgICAgICAgIHBsdWdpbi5zZXR0aW5ncy50YWdOYW1lcy5jb2xvclByZXBlbmQgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGV4dC5zZXRWYWx1ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuc2V0RGlzYWJsZWQoIXBsdWdpbi5zZXR0aW5ncy5hZGRDb2xvclRhZ3MpXG5cblxuICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgICAgICAgIC5zZXRDbGFzcygnZ2tpX3NldHRpbmcnKVxuICAgICAgICAgICAgLnNldE5hbWUoJ0FkZCBwaW5uZWQgdGFncycpXG4gICAgICAgICAgICAuc2V0RGVzYygnQWRkIGEgdGFnIGlmIHRoZSBub3RlIHdhcyBwaW5uZWQgaW4gR29vZ2xlIEtlZXAuJylcbiAgICAgICAgICAgIC5hZGRUb2dnbGUodG9nZ2xlID0+IHtcbiAgICAgICAgICAgICAgICB0b2dnbGUuc2V0VmFsdWUocGx1Z2luLnNldHRpbmdzLmFkZFBpbm5lZFRhZ3MpXG4gICAgICAgICAgICAgICAgdG9nZ2xlLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBwbHVnaW4uc2V0dGluZ3MuYWRkUGlubmVkVGFncyA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBwbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgICAgIHBpbm5lZFRhZ1RleHRGaWVsZC5zZXREaXNhYmxlZCghdmFsdWUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgbGV0IHBpbm5lZFRhZ1RleHRGaWVsZCA9IG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgICAgICAgLnNldENsYXNzKCdna2lfc2V0dGluZycpXG4gICAgICAgICAgICAuc2V0Q2xhc3MoJ2draV9zZXR0aW5nLWNoaWxkJylcbiAgICAgICAgICAgIC5zZXREZXNjKCdQaW5uZWQgdGFnOicpXG4gICAgICAgICAgICAuYWRkVGV4dCgodGV4dCkgPT4ge1xuICAgICAgICAgICAgICAgIHRleHQuc2V0VmFsdWUocGx1Z2luLnNldHRpbmdzLnRhZ05hbWVzLmlzUGlubmVkKTtcbiAgICAgICAgICAgICAgICB0ZXh0LmlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIGFzeW5jIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdGV4dC5nZXRWYWx1ZSgpO1xuICAgICAgICAgICAgICAgICAgICBwbHVnaW4uc2V0dGluZ3MudGFnTmFtZXMuaXNQaW5uZWQgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGV4dC5zZXRWYWx1ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuc2V0RGlzYWJsZWQoIXBsdWdpbi5zZXR0aW5ncy5hZGRQaW5uZWRUYWdzKVxuXG5cbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAgICAgICAuc2V0Q2xhc3MoJ2draV9zZXR0aW5nJylcbiAgICAgICAgICAgIC5zZXROYW1lKCdBZGQgYXR0YWNobWVudCB0YWdzJylcbiAgICAgICAgICAgIC5zZXREZXNjKCdBZGQgYSB0YWcgaWYgdGhlIG5vdGUgaGFzIGFuIGF0dGFjaG1lbnQuJylcbiAgICAgICAgICAgIC5hZGRUb2dnbGUodG9nZ2xlID0+IHtcbiAgICAgICAgICAgICAgICB0b2dnbGUuc2V0VmFsdWUocGx1Z2luLnNldHRpbmdzLmFkZEF0dGFjaG1lbnRUYWdzKVxuICAgICAgICAgICAgICAgIHRvZ2dsZS5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcGx1Z2luLnNldHRpbmdzLmFkZEF0dGFjaG1lbnRUYWdzID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICAgICAgYXR0YWNobWVudFRhZ1RleHRGaWVsZC5zZXREaXNhYmxlZCghdmFsdWUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgbGV0IGF0dGFjaG1lbnRUYWdUZXh0RmllbGQgPSBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgICAgICAgIC5zZXRDbGFzcygnZ2tpX3NldHRpbmcnKVxuICAgICAgICAgICAgLnNldENsYXNzKCdna2lfc2V0dGluZy1jaGlsZCcpXG4gICAgICAgICAgICAuc2V0RGVzYygnQXR0YWNobWVudCB0YWc6JylcbiAgICAgICAgICAgIC5hZGRUZXh0KCh0ZXh0KSA9PiB7XG4gICAgICAgICAgICAgICAgdGV4dC5zZXRWYWx1ZShwbHVnaW4uc2V0dGluZ3MudGFnTmFtZXMuaGFzQXR0YWNobWVudCk7XG4gICAgICAgICAgICAgICAgdGV4dC5pbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCBhc3luYyAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHRleHQuZ2V0VmFsdWUoKTtcbiAgICAgICAgICAgICAgICAgICAgcGx1Z2luLnNldHRpbmdzLnRhZ05hbWVzLmhhc0F0dGFjaG1lbnQgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGV4dC5zZXRWYWx1ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuc2V0RGlzYWJsZWQoIXBsdWdpbi5zZXR0aW5ncy5hZGRBdHRhY2htZW50VGFncylcblxuXG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgICAgICAgLnNldENsYXNzKCdna2lfc2V0dGluZycpXG4gICAgICAgICAgICAuc2V0TmFtZSgnQWRkIGFyY2hpdmVkIHRhZ3MnKVxuICAgICAgICAgICAgLnNldERlc2MoJ0FkZCBhIHRhZyBpZiB0aGUgbm90ZSB3YXMgYXJjaGl2ZWQgaW4gR29vZ2xlIEtlZXAgKElmIGltcG9ydGVkKS4nKVxuICAgICAgICAgICAgLmFkZFRvZ2dsZSh0b2dnbGUgPT4ge1xuICAgICAgICAgICAgICAgIHRvZ2dsZS5zZXRWYWx1ZShwbHVnaW4uc2V0dGluZ3MuYWRkQXJjaGl2ZWRUYWdzKVxuICAgICAgICAgICAgICAgIHRvZ2dsZS5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcGx1Z2luLnNldHRpbmdzLmFkZEFyY2hpdmVkVGFncyA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBwbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgICAgIGFyY2hpdmVkVGFnVGV4dEZpZWxkLnNldERpc2FibGVkKCF2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICBsZXQgYXJjaGl2ZWRUYWdUZXh0RmllbGQgPSBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgICAgICAgIC5zZXRDbGFzcygnZ2tpX3NldHRpbmcnKVxuICAgICAgICAgICAgLnNldENsYXNzKCdna2lfc2V0dGluZy1jaGlsZCcpXG4gICAgICAgICAgICAuc2V0RGVzYygnQXJjaGl2ZWQgdGFnOicpXG4gICAgICAgICAgICAuYWRkVGV4dCgodGV4dCkgPT4ge1xuICAgICAgICAgICAgICAgIHRleHQuc2V0VmFsdWUocGx1Z2luLnNldHRpbmdzLnRhZ05hbWVzLmlzQXJjaGl2ZWQpO1xuICAgICAgICAgICAgICAgIHRleHQuaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgYXN5bmMgKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB0ZXh0LmdldFZhbHVlKCk7XG4gICAgICAgICAgICAgICAgICAgIHBsdWdpbi5zZXR0aW5ncy50YWdOYW1lcy5pc0FyY2hpdmVkID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHRleHQuc2V0VmFsdWUodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBwbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnNldERpc2FibGVkKCFwbHVnaW4uc2V0dGluZ3MuYWRkQXJjaGl2ZWRUYWdzKVxuXG5cbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAgICAgICAuc2V0Q2xhc3MoJ2draV9zZXR0aW5nJylcbiAgICAgICAgICAgIC5zZXROYW1lKCdBZGQgdHJhc2hlZCB0YWdzJylcbiAgICAgICAgICAgIC5zZXREZXNjKCdBZGQgYSB0YWcgaWYgdGhlIG5vdGUgd2FzIHRyYXNoZWQgaW4gR29vZ2xlIEtlZXAgKElmIGltcG9ydGVkKS4nKVxuICAgICAgICAgICAgLmFkZFRvZ2dsZSh0b2dnbGUgPT4ge1xuICAgICAgICAgICAgICAgIHRvZ2dsZS5zZXRWYWx1ZShwbHVnaW4uc2V0dGluZ3MuYWRkVHJhc2hlZFRhZ3MpXG4gICAgICAgICAgICAgICAgdG9nZ2xlLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBwbHVnaW4uc2V0dGluZ3MuYWRkVHJhc2hlZFRhZ3MgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgcGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgICAgICB0cmFzaGVkVGFnLnNldERpc2FibGVkKCF2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICBsZXQgdHJhc2hlZFRhZyA9IG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgICAgICAgLnNldENsYXNzKCdna2lfc2V0dGluZycpXG4gICAgICAgICAgICAuc2V0Q2xhc3MoJ2draV9zZXR0aW5nLWNoaWxkJylcbiAgICAgICAgICAgIC5zZXREZXNjKCdUcmFzaGVkIHRhZzonKVxuICAgICAgICAgICAgLmFkZFRleHQoKHRleHQpID0+IHtcbiAgICAgICAgICAgICAgICB0ZXh0LnNldFZhbHVlKHBsdWdpbi5zZXR0aW5ncy50YWdOYW1lcy5pc1RyYXNoZWQpO1xuICAgICAgICAgICAgICAgIHRleHQuaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgYXN5bmMgKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB0ZXh0LmdldFZhbHVlKCk7XG4gICAgICAgICAgICAgICAgICAgIHBsdWdpbi5zZXR0aW5ncy50YWdOYW1lcy5pc1RyYXNoZWQgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGV4dC5zZXRWYWx1ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuc2V0RGlzYWJsZWQoIXBsdWdpbi5zZXR0aW5ncy5hZGRUcmFzaGVkVGFncylcblxuICAgIH1cbn1cblxuLyoqXG4gKiBJbnNlcnRzIHNldmVyYWwgZmllbGRzIHRvIGFsbG93IHRoZSB1c2VyIGRlZmluZSBob3cgaW52YWxpZCBhbmQgcHJvYmxlbWF0aWMgY2hhcmFjdGVycyBnZXQgcmVwbGFjZWQuXG4gKi9cbmV4cG9ydCBjbGFzcyBDaGFyTWFwcGluZ0dyb3VwIHtcbiAgICBcbiAgICBjb25zdHJ1Y3Rvcihjb250YWluZXJFbDogSFRNTEVsZW1lbnQsIHBsdWdpbjogR29vZ2xlS2VlcEltcG9ydFBsdWdpbiwgb25Db21wbGV0ZTogRnVuY3Rpb24pIHtcbiAgICAgICAgXG4gICAgICAgIGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdoMicsIHt0ZXh0OiAnQ2hhcmFjdGVyIE1hcHBpbmcnfSk7XG4gICAgICAgIGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdwJywge3RleHQ6ICdTb21lIGNoYXJhY3RlcnMgZG9uXFwndCB3b3JrIHNvIHdlbGwgaW4gZmlsZSBvciBmb2xkZXIgbmFtZXMgb24gY2VydGFpbiBvcGVyYXRpbmcgc3lzdGVtcy4gVGhleSB3aWxsIHRoZXJlZm9yZSBiZSBjb252ZXJ0ZWQgYWNjb3JkaW5nIHRvIHRoZSBmb2xsb3dpbmcgbWFwcGluZyBzZXR0aW5ncy4nfSk7XG5cbiAgICAgICAgY29udGFpbmVyRWwuY3JlYXRlRWwoJ2gzJywge3RleHQ6ICdQcm9ibGVtIGNoYXJhY3RlcnMnfSk7XG4gICAgICAgIGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdwJywge3RleHQ6ICdXaGlsZSB0aGVzZSB3b25cXCd0IGJyZWFrIHRoZSBpbXBvcnRzLCB0aGV5IHdpbGwgY3JlYXRlIGlzc3VlcyB3aXRoIGxpbmtzIGZyb20gb3RoZXIgZmlsZXNcdTIwMTRTbyBhcmUgYmVzdCBhdm9pZGVkLid9KTtcbiAgICAgICAgXG4gICAgICAgIGZvcihsZXQgaz0wOyBrPHBsdWdpbi5zZXR0aW5ncy5wcm9ibGVtQ2hhcnMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgICAgICAgICAgIC5zZXRDbGFzcygnZ2tpX3NldHRpbmctbWFwcGluZycpXG4gICAgICAgICAgICAgICAgLnNldE5hbWUocGx1Z2luLnNldHRpbmdzLnByb2JsZW1DaGFyc1trXS5jaGFyKVxuICAgICAgICAgICAgICAgIC5hZGRUZXh0KCh0ZXh0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRleHQuc2V0VmFsdWUocGx1Z2luLnNldHRpbmdzLnByb2JsZW1DaGFyc1trXS5yZXBsYWNlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIHRleHQuaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgYXN5bmMgKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdGV4dC5nZXRWYWx1ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGx1Z2luLnNldHRpbmdzLnByb2JsZW1DaGFyc1trXS5yZXBsYWNlbWVudCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dC5zZXRWYWx1ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBwbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgICAgICBjb250YWluZXJFbC5jcmVhdGVFbCgnaDMnLCB7dGV4dDogJ0ludmFsaWQgY2hhcmFjdGVycyd9KTtcbiAgICAgICAgY29udGFpbmVyRWwuY3JlYXRlRWwoJ3AnLCB7dGV4dDogJ1RoZXNlIGRvblxcJ3Qgd29yayBhdCBhbGwgb24gY2VydGFpbiBvcGVyYXRpbmcgc3lzdGVtcyBhbmQgY2FuIGJyZWFrIHlvdXIgaW1wb3J0IG9yIGNhdXNlIGVycm9ycyB3aGVuIHRyYW5zZmVycmluZyBmaWxlcyB0byBvdGhlciBvcGVyYXRpbmcgc3lzdGVtcy4nfSk7XG5cbiAgICAgICAgY29uc3QgaW52YWxpZE1hcERyb3Bkb3duID0gbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAgICAgICAvLyAuc2V0Q2xhc3MoJ2draV9zZXR0aW5nJylcbiAgICAgICAgICAgIC5zZXROYW1lKCdGaWxlIGFuZCBmb2xkZXIgbmFtZSBjb21wYXRpYmlsaXR5JylcbiAgICAgICAgICAgIC5zZXREZXNjKCdZb3UgY2FuIGNob29zZSB0byBsaW1pdCB0aGUgaW52YWxpZCBjaGFyYWN0ZXJzIHlvdSBtYXAgdG8gc3VpdCB0aGUgc3BlY2lmaWMgb3BlcmF0aW5nIHN5c3RlbSB5b3VcXCdkIGxpa2UgeW91ciBmaWxlbmFtZXMgdG8gYmUgY29tcGF0aWJsZSB3aXRoLiBCeSBkZWZhdWx0IGl0XFwncyBzZXQgdG8gbWFrZSB5b3VyIGZpbGVzIGNvbXBhdGlibGUgd2l0aCBhbGwgb3BlcmF0aW5nIHN5c3RlbXMgKEFuZCB5b3Ugc2hvdWxkIHByb2JhYmx5IGxlYXZlIGl0IGxpa2UgdGhpcykuJylcbiAgICAgICAgICAgIC5hZGREcm9wZG93bigoZHJvcGRvd24pID0+IHtcbiAgICAgICAgICAgICAgICBkcm9wZG93bi5hZGRPcHRpb24oTWFwcGluZ1ByZXNldHMuYWxsT3JXaW5kb3dzLCAnQWxsIE9wZXJhdGluZyBTeXN0ZW1zJyk7XG4gICAgICAgICAgICAgICAgZHJvcGRvd24uYWRkT3B0aW9uKE1hcHBpbmdQcmVzZXRzLmFwcGxlT3JBbmRyb2lkLCBcIkFwcGxlIGFuZCBBbmRyb2lkIG9ubHlcIik7XG4gICAgICAgICAgICAgICAgZHJvcGRvd24uYWRkT3B0aW9uKE1hcHBpbmdQcmVzZXRzLmxpbnV4LCBcIkxpbnV4IG9ubHlcIik7XG4gICAgICAgICAgICAgICAgZHJvcGRvd24uc2V0VmFsdWUocGx1Z2luLnNldHRpbmdzLmludmFsaWRDaGFyRmlsdGVyKTtcbiAgICAgICAgICAgICAgICBkcm9wZG93bi5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYXBwbHlNYXBwaW5nUHJlc2V0KHZhbHVlIGFzIE1hcHBpbmdQcmVzZXRzLCBwbHVnaW4uc2V0dGluZ3MpO1xuICAgICAgICAgICAgICAgICAgICBwbHVnaW4uc2V0dGluZ3MuaW52YWxpZENoYXJGaWx0ZXIgPSB2YWx1ZSBhcyBNYXBwaW5nUHJlc2V0cztcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgcGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgICAgICBvbkNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICBcbiAgICAgICAgZm9yKGxldCBrPTA7IGs8cGx1Z2luLnNldHRpbmdzLmludmFsaWRDaGFycy5sZW5ndGg7IGsrKykge1xuICAgICAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAgICAgICAuc2V0Q2xhc3MoJ2draV9zZXR0aW5nLW1hcHBpbmcnKVxuICAgICAgICAgICAgLnNldE5hbWUocGx1Z2luLnNldHRpbmdzLmludmFsaWRDaGFyc1trXS5jaGFyKVxuICAgICAgICAgICAgLmFkZFRleHQoKHRleHQpID0+IHtcbiAgICAgICAgICAgICAgICB0ZXh0LnNldFZhbHVlKHBsdWdpbi5zZXR0aW5ncy5pbnZhbGlkQ2hhcnNba10ucmVwbGFjZW1lbnQpO1xuICAgICAgICAgICAgICAgIHRleHQuaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgYXN5bmMgKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB0ZXh0LmdldFZhbHVlKCk7XG4gICAgICAgICAgICAgICAgICAgIHBsdWdpbi5zZXR0aW5ncy5pbnZhbGlkQ2hhcnNba10ucmVwbGFjZW1lbnQgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGV4dC5zZXRWYWx1ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgXG5cbiAgICB9XG59XG5cbi8qKlxuICogQWRkcyBhIGJ1dHRvbiB0aGF0IHJlc2V0cyB0aGUgcGx1Z2luJ3Mgc2V0dGluZyB0byBkZWZhdWx0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkUmVzZXRCdXR0b24oc2V0dGluZ0VsOiBTZXR0aW5nLCBwbHVnaW46IEdvb2dsZUtlZXBJbXBvcnRQbHVnaW4sIG9uQ29tcGxldGU6IEZ1bmN0aW9uKTogU2V0dGluZyB7XG4gICAgcmV0dXJuIHNldHRpbmdFbC5hZGRCdXR0b24oIChidXR0b24pID0+IHtcbiAgICAgICAgYnV0dG9uLnNldEJ1dHRvblRleHQoJ1Jlc2V0IHNldHRpbmdzJyk7XG4gICAgICAgIGJ1dHRvbi5zZXRDbGFzcygnZ2tpX2J1dHRvbicpO1xuICAgICAgICBidXR0b24ub25DbGljaygoKSA9PiB7XG4gICAgICAgICAgICBuZXcgQ29uZmlybWF0aW9uTW9kYWwoe1xuICAgICAgICAgICAgICAgIHBsdWdpbjogcGx1Z2luLFxuICAgICAgICAgICAgICAgIHRpdGxlOiAnUGxlYXNlIGNvbmZpcm0nLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdSZXNldCB0byBkZWZhdWx0IHNldHRpbmdzIGZvciBHb29nbGUgS2VlcCBJbXBvcnQ/JyxcbiAgICAgICAgICAgICAgICBjb25maXJtTGFiZWw6ICdSZXNldCBzZXR0aW5ncycsXG4gICAgICAgICAgICAgICAgY29uZmlybUFjdGlvbjogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBwbHVnaW4ucmVzZXRTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgICAgICBvbkNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkub3BlbigpO1xuICAgICAgICB9KVxuICAgIH0pXG59IiwgImltcG9ydCB7IE1vZGFsLCBTZXR0aW5nIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgR29vZ2xlS2VlcEltcG9ydFBsdWdpbiBmcm9tIFwic3JjL21haW5cIjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLy8vLy8vLy8vLy8vLy8vLy8vXG5cblxuaW50ZXJmYWNlIENvbmZpcm1hdGlvbk9wdGlvbnMge1xuXHRwbHVnaW46IEdvb2dsZUtlZXBJbXBvcnRQbHVnaW4sXG5cdHRpdGxlPzogc3RyaW5nLFxuXHRtZXNzYWdlPzogc3RyaW5nLFxuXHRjYW5jZWxMYWJlbD86IHN0cmluZyxcblx0Y2FuY2VsQWN0aW9uPzogRnVuY3Rpb24sXG5cdGNvbmZpcm1MYWJlbD86IHN0cmluZyxcblx0Y29uZmlybUFjdGlvbjogRnVuY3Rpb24sXG59XG5cbmV4cG9ydCBjbGFzcyBDb25maXJtYXRpb25Nb2RhbCBleHRlbmRzIE1vZGFsIHtcblx0dGl0bGU6IHN0cmluZyA9ICdDb25maXJtYXRpb24nO1xuXHRtZXNzYWdlOiBzdHJpbmcgPSAnQXJlIHlvdSBzdXJlPyc7XG5cdGNhbmNlbExhYmVsOiBzdHJpbmcgPSAnQ2FuY2VsJztcblx0Y2FuY2VsQWN0aW9uOiBGdW5jdGlvbiA9ICgpID0+IHt9O1xuXHRjb25maXJtTGFiZWw6IHN0cmluZyA9ICdZZXMnO1xuXHRjb25maXJtQWN0aW9uOiBGdW5jdGlvbjtcblxuXHRjb25zdHJ1Y3RvcihvcHRpb25zOiBDb25maXJtYXRpb25PcHRpb25zKSB7XG5cdFx0c3VwZXIob3B0aW9ucy5wbHVnaW4uYXBwKTtcblx0XHRcblx0XHR0aGlzLnRpdGxlID0gb3B0aW9ucy50aXRsZSB8fCB0aGlzLnRpdGxlO1xuXHRcdHRoaXMubWVzc2FnZSA9IG9wdGlvbnMubWVzc2FnZSB8fCB0aGlzLm1lc3NhZ2U7XG5cdFx0dGhpcy5jYW5jZWxMYWJlbCA9IG9wdGlvbnMuY2FuY2VsTGFiZWwgfHwgdGhpcy5jYW5jZWxMYWJlbDtcblx0XHR0aGlzLmNvbmZpcm1MYWJlbCA9IG9wdGlvbnMuY29uZmlybUxhYmVsIHx8IHRoaXMuY29uZmlybUxhYmVsO1xuXHRcdHRoaXMuY2FuY2VsQWN0aW9uID0gb3B0aW9ucy5jYW5jZWxBY3Rpb24gfHwgdGhpcy5jYW5jZWxBY3Rpb247XG5cdFx0dGhpcy5jb25maXJtQWN0aW9uID0gb3B0aW9ucy5jb25maXJtQWN0aW9uO1xuXHR9XG5cblx0LyoqXG5cdCAqIENhbGxlZCBhdXRvbWF0aWNhbGx5IGJ5IHRoZSBNb2RhbCBjbGFzcyB3aGVuIG1vZGFsIGlzIG9wZW5lZC5cblx0ICovXG5cdG9uT3BlbigpIHtcblx0XHRjb25zdCB7dGl0bGVFbCwgY29udGVudEVsfSA9IHRoaXM7XG5cblx0XHR0aXRsZUVsLnNldFRleHQodGhpcy50aXRsZSk7XG5cdFx0Y29udGVudEVsLmNyZWF0ZUVsKCdwJywge3RleHQ6IHRoaXMubWVzc2FnZX0pO1xuXHRcdFxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnRFbCkuYWRkQnV0dG9uKGNhbmNlbEJ0biA9PiB7XG5cdFx0XHRjYW5jZWxCdG4uc2V0Q2xhc3MoJ2draV9idXR0b24nKTtcblx0XHRcdGNhbmNlbEJ0bi5zZXRCdXR0b25UZXh0KHRoaXMuY2FuY2VsTGFiZWwpO1xuXHRcdFx0Y2FuY2VsQnRuLm9uQ2xpY2soICgpID0+IHtcblx0XHRcdFx0dGhpcy5jbG9zZSgpO1xuXHRcdFx0XHR0aGlzLmNhbmNlbEFjdGlvbigpXG5cdFx0XHR9KVxuXHRcdH0pXG5cdFx0LmFkZEJ1dHRvbiggY29uZmlybUJ0biA9PiB7XG5cdFx0XHRjb25maXJtQnRuLnNldENsYXNzKCdna2lfYnV0dG9uJyk7XG5cdFx0XHRjb25maXJtQnRuLnNldFdhcm5pbmcoKTtcblx0XHRcdGNvbmZpcm1CdG4uc2V0QnV0dG9uVGV4dCh0aGlzLmNvbmZpcm1MYWJlbCk7XG5cdFx0XHRjb25maXJtQnRuLm9uQ2xpY2soICgpID0+IHtcblx0XHRcdFx0dGhpcy5jbG9zZSgpO1xuXHRcdFx0XHR0aGlzLmNvbmZpcm1BY3Rpb24oKVxuXHRcdFx0fSlcblx0XHR9KVxuXG5cdH1cblxuXHQvKipcblx0ICogQ2FsbGVkIGF1dG9tYXRpY2FsbHkgYnkgdGhlIE1vZGFsIGNsYXNzIHdoZW4gbW9kYWwgaXMgY2xvc2VkLlxuXHQgKi9cblx0b25DbG9zZSgpIHtcblx0XHR0aGlzLnRpdGxlRWwuZW1wdHkoKTtcblx0XHR0aGlzLmNvbnRlbnRFbC5lbXB0eSgpO1xuXHR9XG59IiwgImltcG9ydCB7IEFwcCwgUGx1Z2luU2V0dGluZ1RhYiwgU2V0dGluZyB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IEdvb2dsZUtlZXBJbXBvcnRQbHVnaW4gZnJvbSBcInNyYy9tYWluXCI7XG5pbXBvcnQgeyBhZGRSZXNldEJ1dHRvbiwgQmFzaWNTZXR0aW5nc0dyb3VwLCBDaGFyTWFwcGluZ0dyb3VwLCBJbmNsdXNpb25TZXR0aW5nc0dyb3VwLCBUYWdTZXR0aW5nc0dyb3VwIH0gZnJvbSBcInNyYy9jb21wb25lbnRzL3NldHRpbmdzLWdyb3Vwcy9zZXR0aW5ncy1ncm91cHNcIjtcbmltcG9ydCB7IFN1cHBvcnRCdXR0b25TZXQgfSBmcm9tIFwic3JjL2NvbXBvbmVudHMvc3VwcG9ydC1idXR0b24tc2V0L3N1cHBvcnQtYnV0dG9uLXNldFwiO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8vLy8vLy8vLy8vLy8vLy9cblxuXG5leHBvcnQgY2xhc3MgTXlTZXR0aW5nc1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xuXHRwbHVnaW46IEdvb2dsZUtlZXBJbXBvcnRQbHVnaW47XG5cblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogR29vZ2xlS2VlcEltcG9ydFBsdWdpbikge1xuXHRcdHN1cGVyKGFwcCwgcGx1Z2luKTtcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcblx0fVxuXG5cdGRpc3BsYXkoKTogdm9pZCB7XG5cdFx0Y29uc3Qge2NvbnRhaW5lckVsfSA9IHRoaXM7XG5cdFx0Y29udGFpbmVyRWwuZW1wdHkoKTtcblxuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdoMScsIHt0ZXh0OiAnR29vZ2xlIEtlZXAgSW1wb3J0IFNldHRpbmdzJ30pO1xuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdwJywge3RleHQ6ICdBbGwgc2V0dGluZ3Mgd2lsbCBzYXZlIGltbWVkaWF0ZWx5LiBDbG9zZSB0aGlzIG1vZGFsIHRvIHJldHVybiB0byB5b3VyIGltcG9ydC4nfSk7XG5cdFx0XG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoJ2hyJyk7XG5cdFx0bmV3IEJhc2ljU2V0dGluZ3NHcm91cChjb250YWluZXJFbCwgdGhpcy5wbHVnaW4pO1xuXHRcdFxuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdocicpO1xuXHRcdG5ldyBJbmNsdXNpb25TZXR0aW5nc0dyb3VwKGNvbnRhaW5lckVsLCB0aGlzLnBsdWdpbik7XG5cdFx0XG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoJ2hyJyk7XG5cdFx0bmV3IFRhZ1NldHRpbmdzR3JvdXAoY29udGFpbmVyRWwsIHRoaXMucGx1Z2luKTtcblx0XHRcblx0XHRjb250YWluZXJFbC5jcmVhdGVFbCgnaHInKTtcblx0XHRuZXcgQ2hhck1hcHBpbmdHcm91cChjb250YWluZXJFbCwgdGhpcy5wbHVnaW4sICgpID0+IHRoaXMuZGlzcGxheSgpKTtcblxuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdocicpO1xuXHRcdGNvbnN0IG1vZGFsQWN0aW9ucyA9IG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKTtcblx0XHRuZXcgU3VwcG9ydEJ1dHRvblNldChtb2RhbEFjdGlvbnMpO1xuXHRcdGFkZFJlc2V0QnV0dG9uKG1vZGFsQWN0aW9ucywgdGhpcy5wbHVnaW4sICgpID0+IHRoaXMuZGlzcGxheSgpKTtcblx0fVxufSIsICJleHBvcnQgZGVmYXVsdCBgXG4gICAgPHN2ZyB3aWR0aD1cIjEwMFwiIGhlaWdodD1cIjEwMFwiIHZpZXdCb3g9XCIwIDAgMTAwIDEwMFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiNlwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPlxuICAgICAgICA8cGF0aCBkPVwiTTQ3LjQ4ODMgOTQuOTA3OUM0Mi41MTc3IDk0LjkwNzkgMzcuMzM3MyA5NC4yMTEgMzIuMTA2NCA5Mi44MjU2QzE1LjUwNzEgODguNDI2IDEyLjg2MjIgNzEuMDc5NCAxMi40Njc2IDU0LjY4OTlDMTIuMzgzNyA1MS4xNTUxIDEyLjQwMDUgNDcuNzQ2MyAxMi40MDg5IDQ0Ljc0MDRDMTIuNDA4OSA0My42NTczIDEyLjQxNzIgNDIuNjE2MiAxMi40MTcyIDQxLjYzMzhDMTIuNDI1NiAyMy44MDg2IDI0LjE1NTIgMTguMzU5NSAyNC42NTA2IDE4LjEzMjhDMzEuMjkyIDE1LjA4NDkgNDIuMTIzMSAxNC4zNzEyIDUwLjAzMjMgMTQuMzA0MUg1MC4yODQyQzU4LjIxMDMgMTQuMzYyOSA2OS4wNDE0IDE1LjA4NDkgNzUuNzA4IDE4LjE0OTVDNzYuMTg2NiAxOC4zNTk1IDg3LjkxNjEgMjMuODE3IDg3LjkxNjEgNDEuNjMzOEM4Ny45MTYxIDQyLjExMjQgODguMDMzNyA0OC4xNzQ1IDg2LjM3MTIgNTYuNzMwMkM4NS4wNzgyIDYzLjM5NjggNzUuNjkxMiA2OS44MTk5IDY1LjQ0NzggNzEuMDQ1OEM2MS4wMTQ2IDcxLjU3NDcgNTcuMDAxMiA3Mi4wMTE0IDUyLjc0NDMgNzIuMDExNEM1MS44Mzc1IDcyLjAxMTQgNTAuOTMwNyA3MS45OTQ2IDUwLjA1NzUgNzEuOTUyNkM0NS4wNzAyIDcxLjcyNTkgMzUuMzEzOCA3MS4wNzk0IDMyLjQ3NTggNzAuNTY3MkMzMy41NzU3IDc1LjE0MzEgMzQuMzM5OCA4Mi44MDg5IDUwLjM1OTggODIuMjIxMkM1MC43MjA4IDgyLjIwNDQgNTEuMDgxOSA4Mi4yMzggNTEuNDQyOSA4Mi4yMzhDNTcuMzM3MSA4Mi4yMzggNjIuNDU4OCA4MC42NTExIDYyLjUxNzUgODAuNjM0M0M2NC4wOTYgODAuMTM4OSA2NS43MDgxIDgxLjI3MjQgNjUuNzgzNyA4Mi45MThMNjYuMDY5MSA4OS4xMzk2QzY2LjExMTEgOTAuMTA1MiA2NS41OTkgOTEuMDIwNCA2NC43NDI1IDkxLjQ3MzhDNjQuNTI0MiA5MS41OTE0IDU5LjMzNTQgOTQuMzI4NSA1MC4zMDk0IDk0LjgzMjNDNDkuMzc3NCA5NC44ODI3IDQ4LjQyODcgOTQuOTA3OSA0Ny40Nzk5IDk0LjkwNzlINDcuNDg4M1pcIi8+XG4gICAgPC9zdmc+XG5gXG5cblxuXG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSx1QkFBd0M7OztBQ0F4Qyx1QkFBZ0U7OztBQ0FoRSxzQkFBK0I7OztBQ014QixJQUFNLGdCQUFOLE1BQW9CO0FBQUEsRUFHdkIsWUFBWSxVQUF1QjtBQUMvQixTQUFLLFlBQVksU0FB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
